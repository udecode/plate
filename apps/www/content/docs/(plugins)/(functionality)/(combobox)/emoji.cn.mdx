---
title: Emoji
docs:
  - route: /docs/combobox
    title: ç»„åˆæ¡†
  - route: /docs/components/emoji-node
    title: Emojiè¾“å…¥å…ƒç´ 
  - route: /docs/components/emoji-dropdown-menu
    title: Emojiå·¥å…·æ æŒ‰é’®
---

<ComponentPreview name="emoji-demo" />

<PackageInfo>

## åŠŸèƒ½ç‰¹æ€§

- é€šè¿‡è‡ªåŠ¨è¡¥å…¨å»ºè®®å†…è”æ’å…¥è¡¨æƒ…ç¬¦å·
- é€šè¿‡è¾“å…¥`:`å­—ç¬¦åè·Ÿè¡¨æƒ…åç§°è§¦å‘ï¼ˆä¾‹å¦‚`:apple:` ğŸï¼‰
- å¯è‡ªå®šä¹‰çš„è¡¨æƒ…æ•°æ®æºå’Œæ¸²æŸ“æ–¹å¼

</PackageInfo>

## å¥—ä»¶ä½¿ç”¨æ–¹å¼

<Steps>

### å®‰è£…

æœ€å¿«æ·çš„æ·»åŠ è¡¨æƒ…åŠŸèƒ½æ–¹å¼æ˜¯ä½¿ç”¨`EmojiKit`ï¼Œå®ƒåŒ…å«é¢„é…ç½®çš„`EmojiPlugin`å’Œ`EmojiInputPlugin`ä»¥åŠå®ƒä»¬çš„[Plate UI](/docs/installation/plate-ui)ç»„ä»¶ã€‚

<ComponentSource name="emoji-kit" />

- [`EmojiInputElement`](/docs/components/emoji-node): æ¸²æŸ“è¡¨æƒ…è¾“å…¥ç»„åˆæ¡†

### æ·»åŠ å¥—ä»¶

```tsx
import { createPlateEditor } from 'platejs/react';
import { EmojiKit } from '@/components/editor/plugins/emoji-kit';

const editor = createPlateEditor({
  plugins: [
    // ...å…¶ä»–æ’ä»¶,
    ...EmojiKit,
  ],
});
```

</Steps>

## æ‰‹åŠ¨é…ç½®æ–¹å¼

<Steps>

### å®‰è£…

```bash
npm install @platejs/emoji @emoji-mart/data
```

### æ·»åŠ æ’ä»¶

```tsx
import { EmojiPlugin, EmojiInputPlugin } from '@platejs/emoji/react';
import { createPlateEditor } from 'platejs/react';

const editor = createPlateEditor({
  plugins: [
    // ...å…¶ä»–æ’ä»¶,
    EmojiPlugin,
    EmojiInputPlugin,
  ],
});
```

### é…ç½®æ’ä»¶

```tsx
import { EmojiPlugin, EmojiInputPlugin } from '@platejs/emoji/react';
import { createPlateEditor } from 'platejs/react';
import { EmojiInputElement } from '@/components/ui/emoji-node';
import emojiMartData from '@emoji-mart/data';

const editor = createPlateEditor({
  plugins: [
    // ...å…¶ä»–æ’ä»¶,
    EmojiPlugin.configure({
      options: {
        data: emojiMartData,
        trigger: ':',
        triggerPreviousCharPattern: /^\s?$/,
        createEmojiNode: (emoji) => ({ text: emoji.skins[0].native }),
      },
    }),
    EmojiInputPlugin.withComponent(EmojiInputElement),
  ],
});
```

- `options.data`: æ¥è‡ª@emoji-mart/dataåŒ…çš„è¡¨æƒ…æ•°æ®
- `options.trigger`: è§¦å‘è¡¨æƒ…ç»„åˆæ¡†çš„å­—ç¬¦ï¼ˆé»˜è®¤ï¼š`:`ï¼‰
- `options.triggerPreviousCharPattern`: åŒ¹é…è§¦å‘å­—ç¬¦å‰ä¸€ä¸ªå­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼
- `options.createEmojiNode`: é€‰æ‹©è¡¨æƒ…æ—¶åˆ›å»ºè¡¨æƒ…èŠ‚ç‚¹çš„å‡½æ•°ã€‚é»˜è®¤æ’å…¥Unicodeå­—ç¬¦ä½œä¸ºæ–‡æœ¬
- `withComponent`: ä¸ºè¡¨æƒ…è¾“å…¥ç»„åˆæ¡†åˆ†é…UIç»„ä»¶

### æ·»åŠ å·¥å…·æ æŒ‰é’®

æ‚¨å¯ä»¥åœ¨[å·¥å…·æ ](/docs/toolbar)ä¸­æ·»åŠ [`EmojiToolbarButton`](/docs/components/emoji-toolbar-button)æ¥æ’å…¥è¡¨æƒ…ç¬¦å·ã€‚

</Steps>

## æ’ä»¶è¯´æ˜

### EmojiPlugin

æä¾›è¡¨æƒ…åŠŸèƒ½çš„æ ¸å¿ƒæ’ä»¶ã€‚æ‰©å±•è‡ª[TriggerComboboxPluginOptions](/docs/combobox#triggercomboboxpluginoptions)ã€‚

<API name="EmojiPlugin">
<APIOptions>
  <APIItem name="data" type="EmojiMartData" optional>
    æ¥è‡ª@emoji-mart/dataåŒ…çš„è¡¨æƒ…æ•°æ®ã€‚
    - **é»˜è®¤å€¼:** å†…ç½®è¡¨æƒ…åº“
  </APIItem>
  <APIItem name="createEmojiNode" type="(emoji: Emoji) => Descendant" optional>
    æŒ‡å®šé€‰æ‹©è¡¨æƒ…æ—¶æ’å…¥èŠ‚ç‚¹çš„å‡½æ•°ã€‚
    - **é»˜è®¤è¡Œä¸º:** æ’å…¥åŒ…å«è¡¨æƒ…Unicodeå­—ç¬¦çš„æ–‡æœ¬èŠ‚ç‚¹
  </APIItem>
  <APIItem name="trigger" type="string" optional>
    è§¦å‘è¡¨æƒ…ç»„åˆæ¡†çš„å­—ç¬¦ã€‚
    - **é»˜è®¤å€¼:** `':'`
  </APIItem>
  <APIItem name="triggerPreviousCharPattern" type="RegExp" optional>
    åŒ¹é…è§¦å‘å­—ç¬¦å‰ä¸€ä¸ªå­—ç¬¦çš„æ¨¡å¼ã€‚
    - **é»˜è®¤å€¼:** `/^\s?$/`
  </APIItem>
  <APIItem name="createComboboxInput" type="() => TElement" optional>
    åˆ›å»ºè§¦å‘æ¿€æ´»æ—¶è¾“å…¥å…ƒç´ çš„å‡½æ•°ã€‚
  </APIItem>
</APIOptions>
</API>

### EmojiInputPlugin

å¤„ç†è¡¨æƒ…æ’å…¥çš„è¾“å…¥è¡Œä¸ºã€‚