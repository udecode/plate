{
  "name": "table-cell-element",
  "dependencies": [
    "@udecode/plate-table"
  ],
  "registryDependencies": [
    "resizable"
  ],
  "files": [
    {
      "name": "table-cell-element.tsx",
      "content": "import React from 'react';\nimport { cn, withProps, withRef } from '@udecode/cn';\nimport { PlateElement } from '@udecode/plate-common';\nimport {\n  useTableCellElement,\n  useTableCellElementResizable,\n  useTableCellElementResizableState,\n  useTableCellElementState,\n} from '@udecode/plate-table';\n\nimport { ResizeHandle } from './resizable';\n\nexport const TableCellElement = withRef<\n  typeof PlateElement,\n  {\n    hideBorder?: boolean;\n    isHeader?: boolean;\n  }\n>(({ children, className, style, hideBorder, isHeader, ...props }, ref) => {\n  const { element } = props;\n\n  const {\n    colIndex,\n    rowIndex,\n    readOnly,\n    selected,\n    hovered,\n    hoveredLeft,\n    rowSize,\n    borders,\n    isSelectingCell,\n    colSpan,\n  } = useTableCellElementState();\n  const { props: cellProps } = useTableCellElement({ element: props.element });\n  const resizableState = useTableCellElementResizableState({\n    colIndex,\n    rowIndex,\n    colSpan,\n  });\n\n  const { rightProps, bottomProps, leftProps, hiddenLeft } =\n    useTableCellElementResizable(resizableState);\n\n  const Cell = isHeader ? 'th' : 'td';\n\n  return (\n    <PlateElement\n      ref={ref}\n      asChild\n      className={cn(\n        'relative h-full overflow-visible border-none bg-background p-0',\n        hideBorder && 'before:border-none',\n        element.background ? 'bg-[--cellBackground]' : 'bg-background',\n        !hideBorder &&\n          cn(\n            isHeader && 'text-left [&_>_*]:m-0',\n            'before:size-full',\n            selected && 'before:z-10 before:bg-muted',\n            \"before:absolute before:box-border before:select-none before:content-['']\",\n            borders &&\n              cn(\n                borders.bottom?.size &&\n                  `before:border-b before:border-b-border`,\n                borders.right?.size && `before:border-r before:border-r-border`,\n                borders.left?.size && `before:border-l before:border-l-border`,\n                borders.top?.size && `before:border-t before:border-t-border`\n              )\n          ),\n        className\n      )}\n      {...cellProps}\n      {...props}\n      style={\n        {\n          '--cellBackground': element.background,\n          ...style,\n        } as React.CSSProperties\n      }\n    >\n      <Cell>\n        <div\n          className=\"relative z-20 box-border h-full px-3 py-2\"\n          style={{\n            minHeight: rowSize,\n          }}\n        >\n          {children}\n        </div>\n\n        {!isSelectingCell && (\n          <div\n            className=\"group absolute top-0 size-full select-none\"\n            contentEditable={false}\n            suppressContentEditableWarning={true}\n          >\n            {!readOnly && (\n              <>\n                <ResizeHandle\n                  {...rightProps}\n                  className=\"-top-3 right-[-5px] w-[10px]\"\n                />\n                <ResizeHandle\n                  {...bottomProps}\n                  className=\"bottom-[-5px] h-[10px]\"\n                />\n                {!hiddenLeft && (\n                  <ResizeHandle\n                    {...leftProps}\n                    className=\"-top-3 left-[-5px] w-[10px]\"\n                  />\n                )}\n\n                {hovered && (\n                  <div\n                    className={cn(\n                      'absolute -top-3 z-30 h-[calc(100%_+_12px)] w-1 bg-ring',\n                      'right-[-1.5px]'\n                    )}\n                  />\n                )}\n                {hoveredLeft && (\n                  <div\n                    className={cn(\n                      'absolute -top-3 z-30 h-[calc(100%_+_12px)] w-1 bg-ring',\n                      'left-[-1.5px]'\n                    )}\n                  />\n                )}\n              </>\n            )}\n          </div>\n        )}\n      </Cell>\n    </PlateElement>\n  );\n});\nTableCellElement.displayName = 'TableCellElement';\n\nexport const TableCellHeaderElement = withProps(TableCellElement, {\n  isHeader: true,\n});\n"
    }
  ],
  "type": "components:plate-ui"
}