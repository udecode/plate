{
  "name": "image-element",
  "dependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "name": "image-element.tsx",
      "content": "import React from 'react';\nimport {\n  Box,\n  PlateElement,\n  PlateElementProps,\n  Value,\n} from '@udecode/plate-common';\nimport { ElementPopover } from '@udecode/plate-floating';\nimport {\n  Caption,\n  CaptionTextarea,\n  ELEMENT_IMAGE,\n  Image,\n  Resizable,\n  TImageElement,\n  useMediaState,\n} from '@udecode/plate-media';\nimport { useFocused, useReadOnly, useSelected } from 'slate-react';\nimport {\n  mediaFloatingOptions,\n  MediaFloatingToolbar,\n} from './media-floating-toolbar';\n\nimport { cn } from '@/lib/utils';\n\nconst align = 'center';\n\nexport function ImageElement({\n  className,\n  ...props\n}: PlateElementProps<Value, TImageElement>) {\n  const { children, nodeProps } = props;\n\n  const focused = useFocused();\n  const selected = useSelected();\n  const readOnly = useReadOnly();\n\n  useMediaState();\n\n  return (\n    <ElementPopover\n      content={\n        readOnly ? null : <MediaFloatingToolbar pluginKey={ELEMENT_IMAGE} />\n      }\n      floatingOptions={mediaFloatingOptions}\n    >\n      <PlateElement className={cn('py-2.5', className)} {...props}>\n        <figure className=\"group relative m-0\" contentEditable={false}>\n          <Resizable\n            className={cn(\n              align === 'center' && 'mx-auto'\n              // align === 'right' && 'ml-auto'\n            )}\n            options={{\n              renderHandleLeft: (htmlProps) => (\n                <Box\n                  {...htmlProps}\n                  className={cn(\n                    'absolute top-0 z-10 flex h-full w-6 select-none flex-col justify-center',\n                    'after:flex after:h-16 after:bg-gray-400  after:opacity-0 after:group-hover:opacity-100',\n                    \"after:w-[3px] after:rounded-[6px] after:content-['_']\",\n                    'hover:after:bg-blue-500 focus:after:bg-blue-500 active:after:bg-blue-500',\n                    focused && selected && 'opacity-100',\n                    // variant left\n                    '-left-3 -ml-3 pl-3'\n                  )}\n                />\n              ),\n              renderHandleRight: (htmlProps) => (\n                <Box\n                  {...htmlProps}\n                  className={cn(\n                    'absolute top-0 z-10 flex h-full w-6 select-none flex-col justify-center',\n                    'after:flex after:h-16 after:bg-gray-400 after:opacity-0 after:group-hover:opacity-100',\n                    \"after:w-[3px] after:rounded-[6px] after:content-['_']\",\n                    'hover:after:bg-blue-500 focus:after:bg-blue-500 active:after:bg-blue-500',\n                    focused && selected && 'opacity-100',\n                    // variant right\n                    '-right-3 -mr-3 items-end pr-3'\n                  )}\n                />\n              ),\n              align,\n              readOnly,\n            }}\n          >\n            {/* eslint-disable-next-line jsx-a11y/alt-text */}\n            <Image\n              {...nodeProps}\n              className={cn(\n                'block w-full max-w-full cursor-pointer object-cover px-0',\n                'rounded-[3px]',\n                focused && selected && 'shadow-[0_0_1px_rgb(59,130,249)]',\n                nodeProps?.className\n              )}\n            />\n          </Resizable>\n\n          <Caption className={cn(align === 'center' && 'mx-auto')}>\n            <CaptionTextarea\n              className={cn(\n                'mt-2 w-full resize-none border-none bg-inherit p-0 font-[inherit] text-inherit',\n                'focus:outline-none focus:[&::placeholder]:opacity-0',\n                'text-center'\n              )}\n              placeholder=\"Write a caption...\"\n              readOnly={readOnly}\n            />\n          </Caption>\n        </figure>\n\n        {children}\n      </PlateElement>\n    </ElementPopover>\n  );\n}\n"
    }
  ],
  "type": "components:ui"
}