{"body":{"raw":"\n## Dependency Conflicts\n\nA common source of issues in projects using Plate is mismatched or conflicting versions of dependencies. This section outlines how to identify and resolve such conflicts.\n\n### Managing Plate Package Versions with `depset`\n\nThe recommended way to ensure all your ``@platejs/*`` packages (including Plate and its related plugins) are synchronized to a consistent and compatible set of versions is by using the [`depset`](https://npmjs.com/package/depset) command-line tool.\n\n**Why `depset`?**\n- It simplifies upgrading or aligning multiple packages within the ``@platejs`` scope.\n- It helps prevent issues caused by having some Plate packages on one version and others on a different, potentially incompatible, version.\n\n**Usage:**\n\nTo upgrade or align all packages in the ``@platejs`` scope to a specific target version (e.g., ``52.0.1``), run the following in your project root:\n```bash\nnpx depset@latest @platejs 52.0.1 && npx depset@latest platejs 52.0.1\n```\n\nTo upgrade all ``@platejs`` packages to the latest versions that are less than major version ``46`` (e.g., if ``52.x.y`` are the latest releases, it will pick those):\n```bash\nnpx depset@latest @platejs 52 && npx depset@latest platejs 52 \n```\n\n- Replace ``<target_version>`` (e.g., ``52.0.1`` or ``52``) with your desired version specifier.\n- ``depset`` will update your ``package.json``.\n\n### Example: Multiple Plate Instances\n\n**Problem:** Unexpected behavior or \"hooks can only be called inside a component\" errors.\n\n**Root Cause:** Having incompatible versions of Plate packages in your project. This often means different ``platejs*`` packages or ``@platejs/core`` are at different versions that weren't designed to work together.\n\n**Diagnosis:** Check for multiple Plate package versions:\n\n```bash\n# npm\nnpm ls platejs @platejs/core\n\n# pnpm or yarn\npnpm why platejs\npnpm why @platejs/core\n```\n\n**Solution:**\nThe primary solution is to ensure all your ``@platejs/*`` packages are updated to their latest respective versions that are compatible and designed to work together. This prevents mismatches where one Plate package might be too old or too new for others in your project. Use the ``depset`` tool as described above.\n\n### Example: Multiple Slate Instances\n\n**Problem:** Editor features may not work correctly.\n\n**Root Cause:** Package managers sometimes install mismatched versions of Slate dependencies. For example, `pnpm` might install `slate` version 0.112.2 instead of the required 0.111.0.\n\n**Diagnosis:** Check for multiple Slate versions:\n\n```bash\n# npm\nnpm ls slate slate-react slate-dom\n\n# pnpm or yarn\npnpm why slate\npnpm why slate-react\npnpm why slate-dom\n```\n\n**Solution:** Try these solutions in the order they are listed:\n\n1. Remove `slate*` dependencies from your `package.json` if any. Plate is managing those.\n\n2. Use the ``depset`` tool as described above.\n\n2. Force consistent Slate dependency versions:\n\n```jsonc\n// package.json\n{\n  \"resolutions\": {\n    \"slate\": \"0.114.0\",\n    \"slate-dom\": \"0.114.0\",\n    \"slate-react\": \"0.114.2\"\n  }\n}\n```\n\n","code":"var Component=(()=>{var h=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),E=(l,e)=>{for(var a in e)t(l,a,{get:e[a],enumerable:!0})},c=(l,e,a,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of y(e))!u.call(l,s)&&s!==a&&t(l,s,{get:()=>e[s],enumerable:!(r=m(e,s))||r.enumerable});return l};var _=(l,e,a)=>(a=l!=null?h(g(l)):{},c(e||!l||!l.__esModule?t(a,\"default\",{value:l,enumerable:!0}):a,l)),f=l=>c(t({},\"__esModule\",{value:!0}),l);var i=F((b,o)=>{o.exports=_jsx_runtime});var B={};E(B,{default:()=>p,frontmatter:()=>j});var n=_(i()),j={title:\"Troubleshooting\",description:\"Solutions for common issues when working with Plate.\"};function d(l){let e={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"dependency-conflicts\",children:[(0,n.jsx)(e.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#dependency-conflicts\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Dependency Conflicts\"]}),`\n`,(0,n.jsx)(e.p,{children:\"A common source of issues in projects using Plate is mismatched or conflicting versions of dependencies. This section outlines how to identify and resolve such conflicts.\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"managing-plate-package-versions-with-depset\",children:[(0,n.jsx)(e.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#managing-plate-package-versions-with-depset\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Managing Plate Package Versions with \",(0,n.jsx)(e.code,{children:\"depset\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The recommended way to ensure all your \",(0,n.jsx)(e.code,{children:\"@platejs/*\"}),\" packages (including Plate and its related plugins) are synchronized to a consistent and compatible set of versions is by using the \",(0,n.jsx)(e.a,{href:\"https://npmjs.com/package/depset\",children:(0,n.jsx)(e.code,{children:\"depset\"})}),\" command-line tool.\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.strong,{children:[\"Why \",(0,n.jsx)(e.code,{children:\"depset\"}),\"?\"]})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"It simplifies upgrading or aligning multiple packages within the \",(0,n.jsx)(e.code,{children:\"@platejs\"}),\" scope.\"]}),`\n`,(0,n.jsx)(e.li,{children:\"It helps prevent issues caused by having some Plate packages on one version and others on a different, potentially incompatible, version.\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Usage:\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"To upgrade or align all packages in the \",(0,n.jsx)(e.code,{children:\"@platejs\"}),\" scope to a specific target version (e.g., \",(0,n.jsx)(e.code,{children:\"52.0.1\"}),\"), run the following in your project root:\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",__rawString__:`npx depset@latest @platejs 52.0.1 && npx depset@latest platejs 52.0.1\n`,__npmCommand__:`npx depset@latest @platejs 52.0.1 && npx depset@latest platejs 52.0.1\n`,__yarnCommand__:`npx depset@latest @platejs 52.0.1 && npx depset@latest platejs 52.0.1\n`,__pnpmCommand__:`pnpm dlx depset@latest @platejs 52.0.1 && npx depset@latest platejs 52.0.1\n`,__bunCommand__:`bunx --bun depset@latest @platejs 52.0.1 && npx depset@latest platejs 52.0.1\n`,children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npx\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" depset@latest\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" @platejs\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 52.0\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" && \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npx\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" depset@latest\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" platejs\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 52.0\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".1\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"To upgrade all \",(0,n.jsx)(e.code,{children:\"@platejs\"}),\" packages to the latest versions that are less than major version \",(0,n.jsx)(e.code,{children:\"46\"}),\" (e.g., if \",(0,n.jsx)(e.code,{children:\"52.x.y\"}),\" are the latest releases, it will pick those):\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",__rawString__:`npx depset@latest @platejs 52 && npx depset@latest platejs 52 \n`,__npmCommand__:`npx depset@latest @platejs 52 && npx depset@latest platejs 52 \n`,__yarnCommand__:`npx depset@latest @platejs 52 && npx depset@latest platejs 52 \n`,__pnpmCommand__:`pnpm dlx depset@latest @platejs 52 && npx depset@latest platejs 52 \n`,__bunCommand__:`bunx --bun depset@latest @platejs 52 && npx depset@latest platejs 52 \n`,children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npx\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" depset@latest\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" @platejs\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 52\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" && \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npx\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" depset@latest\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" platejs\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 52\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"})]})})})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Replace \",(0,n.jsx)(e.code,{children:\"<target_version>\"}),\" (e.g., \",(0,n.jsx)(e.code,{children:\"52.0.1\"}),\" or \",(0,n.jsx)(e.code,{children:\"52\"}),\") with your desired version specifier.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"depset\"}),\" will update your \",(0,n.jsx)(e.code,{children:\"package.json\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"example-multiple-plate-instances\",children:[(0,n.jsx)(e.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#example-multiple-plate-instances\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Example: Multiple Plate Instances\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Problem:\"}),' Unexpected behavior or \"hooks can only be called inside a component\" errors.']}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Root Cause:\"}),\" Having incompatible versions of Plate packages in your project. This often means different \",(0,n.jsx)(e.code,{children:\"platejs*\"}),\" packages or \",(0,n.jsx)(e.code,{children:\"@platejs/core\"}),\" are at different versions that weren't designed to work together.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Diagnosis:\"}),\" Check for multiple Plate package versions:\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",__rawString__:`# npm\nnpm ls platejs @platejs/core\n\n# pnpm or yarn\npnpm why platejs\npnpm why @platejs/core\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# npm\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ls\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" platejs\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" @platejs/core\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# pnpm or yarn\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pnpm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" why\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" platejs\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pnpm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" why\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" @platejs/core\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Solution:\"}),`\nThe primary solution is to ensure all your `,(0,n.jsx)(e.code,{children:\"@platejs/*\"}),\" packages are updated to their latest respective versions that are compatible and designed to work together. This prevents mismatches where one Plate package might be too old or too new for others in your project. Use the \",(0,n.jsx)(e.code,{children:\"depset\"}),\" tool as described above.\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"example-multiple-slate-instances\",children:[(0,n.jsx)(e.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#example-multiple-slate-instances\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Example: Multiple Slate Instances\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Problem:\"}),\" Editor features may not work correctly.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Root Cause:\"}),\" Package managers sometimes install mismatched versions of Slate dependencies. For example, \",(0,n.jsx)(e.code,{children:\"pnpm\"}),\" might install \",(0,n.jsx)(e.code,{children:\"slate\"}),\" version 0.112.2 instead of the required 0.111.0.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Diagnosis:\"}),\" Check for multiple Slate versions:\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",__rawString__:`# npm\nnpm ls slate slate-react slate-dom\n\n# pnpm or yarn\npnpm why slate\npnpm why slate-react\npnpm why slate-dom\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# npm\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ls\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" slate\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" slate-react\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" slate-dom\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# pnpm or yarn\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pnpm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" why\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" slate\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pnpm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" why\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" slate-react\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pnpm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" why\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" slate-dom\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Solution:\"}),\" Try these solutions in the order they are listed:\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"Remove \",(0,n.jsx)(e.code,{children:\"slate*\"}),\" dependencies from your \",(0,n.jsx)(e.code,{children:\"package.json\"}),\" if any. Plate is managing those.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"Use the \",(0,n.jsx)(e.code,{children:\"depset\"}),\" tool as described above.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Force consistent Slate dependency versions:\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"jsonc\",\"data-theme\":\"default\",__rawString__:`// package.json\n{\n  \"resolutions\": {\n    \"slate\": \"0.114.0\",\n    \"slate-dom\": \"0.114.0\",\n    \"slate-react\": \"0.114.2\"\n  }\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsonc\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// package.json\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"resolutions\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'    \"slate\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"0.114.0\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'    \"slate-dom\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"0.114.0\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'    \"slate-react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"0.114.2\"'})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})]})}function p(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(d,{...l})}):d(l)}return f(B);})();\n;return Component;"},"component":false,"description":"Solutions for common issues when working with Plate.","featured":false,"published":true,"slug":"/docs/docs/troubleshooting","slugAsParams":"docs/troubleshooting","title":"Troubleshooting","toc":true}