{"body":{"raw":"\n<PackageInfo>\n\n## Features\n\n- Virtual floating elements that follow cursor position\n- Floating toolbar that appears on text selection\n- Built on top of Floating UI\n- Customizable positioning and behavior\n- Automatic updates on scroll and resize\n\n</PackageInfo>\n\n## Installation\n\n```bash\nnpm install @platejs/floating\n```\n\n## API Hooks\n\n### `useVirtualFloating`\n\nCreates a floating element with a controlled virtual element, typically used to follow cursor position.\n\n<API name=\"useVirtualFloating\">\n<APIOptions type=\"UseVirtualFloatingOptions\">\n  <APIItem name=\"getBoundingClientRect\" type=\"() => ClientRectObject\" optional>\n    Function to get the bounding client rect.\n    - **Default:** Returns a zero-sized rect at (0,0)\n  </APIItem>\n  <APIItem name=\"open\" type=\"boolean\" optional>\n    Controls visibility of the floating element.\n  </APIItem>\n  <APIItem name=\"whileElementsMounted\" type=\"function\" optional>\n    Callback when elements are mounted.\n    - **Default:** `autoUpdate` (updates on scroll and resize)\n  </APIItem>\n</APIOptions>\n\n<APIReturns type=\"object\">\n  <APIItem name=\"style\" type=\"React.CSSProperties\">\n    Style object to apply to the floating element.\n  </APIItem>\n  <APIItem name=\"virtualElementRef\" type=\"React.MutableRefObject\">\n    Reference to the virtual element.\n  </APIItem>\n  <APIItem name=\"refs\" type=\"object\">\n    References for floating UI positioning.\n  </APIItem>\n  <APIItem name=\"update\" type=\"() => void\">\n    Function to manually update positioning.\n  </APIItem>\n</APIReturns>\n</API>\n\n### `useFloatingToolbar`\n\nCreates a floating toolbar that appears when text is selected in the editor.\n\n<API name=\"useFloatingToolbar\">\n<APIOptions type=\"FloatingToolbarState\">\n  <APIItem name=\"floatingOptions\" type=\"UseVirtualFloatingOptions\" optional>\n    Options passed to `useVirtualFloating`.\n  </APIItem>\n  <APIItem name=\"hideToolbar\" type=\"boolean\" optional>\n    Force hide the toolbar.\n  </APIItem>\n  <APIItem name=\"showWhenReadOnly\" type=\"boolean\" optional>\n    Show toolbar in read-only mode.\n  </APIItem>\n</APIOptions>\n\n<APIReturns type=\"object\">\n  <APIItem name=\"clickOutsideRef\" type=\"React.RefObject\">\n    Ref to detect clicks outside the toolbar.\n  </APIItem>\n  <APIItem name=\"hidden\" type=\"boolean\">\n    Whether the toolbar should be hidden.\n  </APIItem>\n  <APIItem name=\"props\" type=\"object\">\n    Props to spread on the toolbar element.\n  </APIItem>\n  <APIItem name=\"ref\" type=\"React.RefObject\">\n    Ref to attach to the toolbar element.\n  </APIItem>\n</APIReturns>\n</API>\n\n## API\n\n### `getBoundingClientRect`\n\nGets the bounding client rectangle for a location or array of locations in the editor.\n\n<API name=\"getBoundingClientRect\">\n<APIParameters>\n  <APIItem name=\"editor\" type=\"Editor\">\n    The editor instance.\n  </APIItem>\n  <APIItem name=\"at\" type=\"Location | Location[]\" optional>\n    The location(s) to get the bounding rectangle for. If not provided, uses the current editor selection.\n  </APIItem>\n</APIParameters>\n\n<APIReturns type=\"DOMRect | undefined\">\n  The merged bounding client rectangle of all specified locations, or undefined if no valid rectangles found.\n</APIReturns>\n</API>\n\n### `getDOMSelectionBoundingClientRect`\n\n<API name=\"getDOMSelectionBoundingClientRect\">\n<APIReturns type=\"ClientRectObject\">\n  The bounding client rectangle of the DOM selection. Returns a zero-sized rect at (0,0) if no selection exists.\n</APIReturns>\n</API>\n\n### `getRangeBoundingClientRect`\n\nGets the bounding client rectangle for a specific Plate range.\n\n<API name=\"getRangeBoundingClientRect\">\n<APIParameters>\n  <APIItem name=\"editor\" type=\"Editor\">\n    The editor instance.\n  </APIItem>\n  <APIItem name=\"at\" type=\"TRange | null\">\n    The Plate range to get the bounding rectangle for.\n  </APIItem>\n</APIParameters>\n\n<APIReturns type=\"ClientRectObject\">\n  The bounding client rectangle of the range. Returns a zero-sized rect at (0,0) if the range is null or invalid.\n</APIReturns>\n</API>\n\n### `getSelectionBoundingClientRect`\n\nGets the bounding client rectangle of the current editor selection.\n\n<API name=\"getSelectionBoundingClientRect\">\n<APIParameters>\n  <APIItem name=\"editor\" type=\"PlateEditor\">\n    The editor instance.\n  </APIItem>\n</APIParameters>\n\n<APIReturns type=\"ClientRectObject\">\n  The bounding client rectangle of the selection. Returns a zero-sized rect at (0,0) if the selection is not expanded.\n</APIReturns>\n</API>","code":"var Component=(()=>{var f=Object.create;var d=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var _=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),C=(t,n)=>{for(var a in n)d(t,a,{get:n[a],enumerable:!0})},h=(t,n,a,i)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let l of y(n))!k.call(t,l)&&l!==a&&d(t,l,{get:()=>n[l],enumerable:!(i=b(n,l))||i.enumerable});return t};var j=(t,n,a)=>(a=t!=null?f(R(t)):{},h(n||!t||!t.__esModule?d(a,\"default\",{value:t,enumerable:!0}):a,t)),F=t=>h(d({},\"__esModule\",{value:!0}),t);var u=_((O,p)=>{p.exports=_jsx_runtime});var P={};C(P,{default:()=>m,frontmatter:()=>I});var e=j(u()),I={title:\"Floating\",description:\"API reference for floating UI components and hooks.\"};function g(t){let n={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",h3:\"h3\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...t.components},{API:a,APIItem:i,APIOptions:l,APIParameters:c,APIReturns:o,PackageInfo:s}=n;return a||r(\"API\",!0),i||r(\"APIItem\",!0),l||r(\"APIOptions\",!0),c||r(\"APIParameters\",!0),o||r(\"APIReturns\",!0),s||r(\"PackageInfo\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(s,{children:[(0,e.jsxs)(n.h2,{id:\"features\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#features\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Features\"]}),(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"Virtual floating elements that follow cursor position\"}),`\n`,(0,e.jsx)(n.li,{children:\"Floating toolbar that appears on text selection\"}),`\n`,(0,e.jsx)(n.li,{children:\"Built on top of Floating UI\"}),`\n`,(0,e.jsx)(n.li,{children:\"Customizable positioning and behavior\"}),`\n`,(0,e.jsx)(n.li,{children:\"Automatic updates on scroll and resize\"}),`\n`]})]}),`\n`,(0,e.jsxs)(n.h2,{id:\"installation\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#installation\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Installation\"]}),`\n`,(0,e.jsx)(n.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(n.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",__rawString__:`npm install @platejs/floating\n`,__npmCommand__:`npm install @platejs/floating\n`,__yarnCommand__:`yarn add @platejs/floating\n`,__pnpmCommand__:`pnpm add @platejs/floating\n`,__bunCommand__:`bun add @platejs/floating\n`,children:(0,e.jsx)(n.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,e.jsxs)(n.span,{className:\"line\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" @platejs/floating\"})]})})})}),`\n`,(0,e.jsxs)(n.h2,{id:\"api-hooks\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#api-hooks\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"API Hooks\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"usevirtualfloating\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#usevirtualfloating\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"useVirtualFloating\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"Creates a floating element with a controlled virtual element, typically used to follow cursor position.\"}),`\n`,(0,e.jsxs)(a,{name:\"useVirtualFloating\",children:[(0,e.jsxs)(l,{type:\"UseVirtualFloatingOptions\",children:[(0,e.jsxs)(i,{name:\"getBoundingClientRect\",type:\"() => ClientRectObject\",optional:!0,children:[(0,e.jsx)(n.p,{children:\"Function to get the bounding client rect.\"}),(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Default:\"}),\" Returns a zero-sized rect at (0,0)\"]}),`\n`]})]}),(0,e.jsx)(i,{name:\"open\",type:\"boolean\",optional:!0,children:(0,e.jsx)(n.p,{children:\"Controls visibility of the floating element.\"})}),(0,e.jsxs)(i,{name:\"whileElementsMounted\",type:\"function\",optional:!0,children:[(0,e.jsx)(n.p,{children:\"Callback when elements are mounted.\"}),(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Default:\"}),\" \",(0,e.jsx)(n.code,{children:\"autoUpdate\"}),\" (updates on scroll and resize)\"]}),`\n`]})]})]}),(0,e.jsxs)(o,{type:\"object\",children:[(0,e.jsx)(i,{name:\"style\",type:\"React.CSSProperties\",children:(0,e.jsx)(n.p,{children:\"Style object to apply to the floating element.\"})}),(0,e.jsx)(i,{name:\"virtualElementRef\",type:\"React.MutableRefObject\",children:(0,e.jsx)(n.p,{children:\"Reference to the virtual element.\"})}),(0,e.jsx)(i,{name:\"refs\",type:\"object\",children:(0,e.jsx)(n.p,{children:\"References for floating UI positioning.\"})}),(0,e.jsx)(i,{name:\"update\",type:\"() => void\",children:(0,e.jsx)(n.p,{children:\"Function to manually update positioning.\"})})]})]}),`\n`,(0,e.jsxs)(n.h3,{id:\"usefloatingtoolbar\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#usefloatingtoolbar\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"useFloatingToolbar\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"Creates a floating toolbar that appears when text is selected in the editor.\"}),`\n`,(0,e.jsxs)(a,{name:\"useFloatingToolbar\",children:[(0,e.jsxs)(l,{type:\"FloatingToolbarState\",children:[(0,e.jsx)(i,{name:\"floatingOptions\",type:\"UseVirtualFloatingOptions\",optional:!0,children:(0,e.jsxs)(n.p,{children:[\"Options passed to \",(0,e.jsx)(n.code,{children:\"useVirtualFloating\"}),\".\"]})}),(0,e.jsx)(i,{name:\"hideToolbar\",type:\"boolean\",optional:!0,children:(0,e.jsx)(n.p,{children:\"Force hide the toolbar.\"})}),(0,e.jsx)(i,{name:\"showWhenReadOnly\",type:\"boolean\",optional:!0,children:(0,e.jsx)(n.p,{children:\"Show toolbar in read-only mode.\"})})]}),(0,e.jsxs)(o,{type:\"object\",children:[(0,e.jsx)(i,{name:\"clickOutsideRef\",type:\"React.RefObject\",children:(0,e.jsx)(n.p,{children:\"Ref to detect clicks outside the toolbar.\"})}),(0,e.jsx)(i,{name:\"hidden\",type:\"boolean\",children:(0,e.jsx)(n.p,{children:\"Whether the toolbar should be hidden.\"})}),(0,e.jsx)(i,{name:\"props\",type:\"object\",children:(0,e.jsx)(n.p,{children:\"Props to spread on the toolbar element.\"})}),(0,e.jsx)(i,{name:\"ref\",type:\"React.RefObject\",children:(0,e.jsx)(n.p,{children:\"Ref to attach to the toolbar element.\"})})]})]}),`\n`,(0,e.jsxs)(n.h2,{id:\"api\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#api\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"API\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"getboundingclientrect\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#getboundingclientrect\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"getBoundingClientRect\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"Gets the bounding client rectangle for a location or array of locations in the editor.\"}),`\n`,(0,e.jsxs)(a,{name:\"getBoundingClientRect\",children:[(0,e.jsxs)(c,{children:[(0,e.jsx)(i,{name:\"editor\",type:\"Editor\",children:(0,e.jsx)(n.p,{children:\"The editor instance.\"})}),(0,e.jsx)(i,{name:\"at\",type:\"Location | Location[]\",optional:!0,children:(0,e.jsx)(n.p,{children:\"The location(s) to get the bounding rectangle for. If not provided, uses the current editor selection.\"})})]}),(0,e.jsx)(o,{type:\"DOMRect | undefined\",children:(0,e.jsx)(n.p,{children:\"The merged bounding client rectangle of all specified locations, or undefined if no valid rectangles found.\"})})]}),`\n`,(0,e.jsxs)(n.h3,{id:\"getdomselectionboundingclientrect\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#getdomselectionboundingclientrect\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"getDOMSelectionBoundingClientRect\"})]}),`\n`,(0,e.jsx)(a,{name:\"getDOMSelectionBoundingClientRect\",children:(0,e.jsx)(o,{type:\"ClientRectObject\",children:(0,e.jsx)(n.p,{children:\"The bounding client rectangle of the DOM selection. Returns a zero-sized rect at (0,0) if no selection exists.\"})})}),`\n`,(0,e.jsxs)(n.h3,{id:\"getrangeboundingclientrect\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#getrangeboundingclientrect\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"getRangeBoundingClientRect\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"Gets the bounding client rectangle for a specific Plate range.\"}),`\n`,(0,e.jsxs)(a,{name:\"getRangeBoundingClientRect\",children:[(0,e.jsxs)(c,{children:[(0,e.jsx)(i,{name:\"editor\",type:\"Editor\",children:(0,e.jsx)(n.p,{children:\"The editor instance.\"})}),(0,e.jsx)(i,{name:\"at\",type:\"TRange | null\",children:(0,e.jsx)(n.p,{children:\"The Plate range to get the bounding rectangle for.\"})})]}),(0,e.jsx)(o,{type:\"ClientRectObject\",children:(0,e.jsx)(n.p,{children:\"The bounding client rectangle of the range. Returns a zero-sized rect at (0,0) if the range is null or invalid.\"})})]}),`\n`,(0,e.jsxs)(n.h3,{id:\"getselectionboundingclientrect\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#getselectionboundingclientrect\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"getSelectionBoundingClientRect\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"Gets the bounding client rectangle of the current editor selection.\"}),`\n`,(0,e.jsxs)(a,{name:\"getSelectionBoundingClientRect\",children:[(0,e.jsx)(c,{children:(0,e.jsx)(i,{name:\"editor\",type:\"PlateEditor\",children:(0,e.jsx)(n.p,{children:\"The editor instance.\"})})}),(0,e.jsx)(o,{type:\"ClientRectObject\",children:(0,e.jsx)(n.p,{children:\"The bounding client rectangle of the selection. Returns a zero-sized rect at (0,0) if the selection is not expanded.\"})})]})]})}function m(t={}){let{wrapper:n}=t.components||{};return n?(0,e.jsx)(n,{...t,children:(0,e.jsx)(g,{...t})}):g(t)}function r(t,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+t+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return F(P);})();\n;return Component;"},"component":false,"description":"API reference for floating UI components and hooks.","featured":false,"published":true,"slug":"/docs/docs/api/floating","slugAsParams":"docs/api/floating","title":"Floating","toc":true}