{"body":{"raw":"\n**`PlateController`** 是一个可选的 provider 组件，用于从各自的 **`Plate`** 组件外部访问特定的 [Plate Stores](/docs/api/core/store)。\n\n## PlateController Store\n\n<API name=\"PlateController\">\nPlateController Store 包含基于 **`id`** 获取 Plate Store 以及确定当前活动 **`id`** 所需的信息。\n\n<APIState>\n<APIItem name=\"activeId\" type=\"string | null\">\n最近获得焦点的 Plate 编辑器的 **`id`**。\n\n- **默认值：** `null`\n</APIItem>\n\n<APIItem name=\"primaryEditorIds\" type=\"string[]\">\n所有主要 Plate 编辑器的 **`id`**。默认情况下，除非向其 **`Plate`** 组件传递了 **`primary={false}`**，否则编辑器被视为主要编辑器。\n\n- **默认值：** `[]`\n</APIItem>\n\n<APIItem name=\"editorStores\" type=\"Record<string, JotaiStore | null>\">\n从每个已挂载的 Plate 编辑器的 **`id`** 到该编辑器的 Plate Store 对应的 **`JotaiStore`** 的映射。\n\n- **默认值：** `{}`\n</APIItem>\n</APIState>\n</API>\n\n## 使用模式\n\n### 通过 ID 访问特定编辑器\n\n**`PlateController`** 可用于使用其 **`id`** 访问特定编辑器的 store。请注意，如果找不到匹配的编辑器，将返回一个不可变的回退编辑器。\n\n```tsx\nconst App = withHoc(PlateController, () => {\n  const mainEditor = useEditorRef('main');\n  \n  useEffect(() => {\n    if (!mainEditor.isFallback) {\n      console.info('Editor mounted', mainEditor);\n    }\n  }, [mainEditor]);\n  \n  return (\n    <>\n      <Plate editor={createPlateEditor({ id: 'main' })}>\n        <PlateContent />\n      </Plate>\n    \n      <Plate editor={createPlateEditor({ id: 'secondary' })}>\n        <PlateContent />\n      </Plate>\n    </>\n  );\n});\n```\n\n### 活动编辑器\n\n如果在 **`PlateController`** 内部使用 **`useEditorRef`** 等钩子时没有显式指定 **`id`**，它们将解析为当前活动的编辑器。\n\n活动编辑器的确定方式如下：\n\n1. 如果某个编辑器已获得焦点，则返回最后一个这样的编辑器。\n2. 如果某个编辑器是主要编辑器，则返回第一个挂载的这样的编辑器。\n3. 否则，返回一个不可变的回退编辑器。\n\n```tsx\nconst App = withHoc(PlateController, () => {\n  const activeEditorId = useEditorId();\n  const isFallback = !useEditorMounted();\n  \n  const message = isFallback\n    ? '请聚焦一个编辑器'\n    : `活动编辑器：${activeEditorId}`;\n  \n  return (\n    <main>\n      <p>{message}</p>\n      \n      <Plate editor={createPlateEditor({ id: 'main', primary: false })}>\n        <PlateContent />\n      </Plate>\n    \n      <Plate editor={createPlateEditor({ id: 'secondary', primary: false })}>\n        <PlateContent />\n      </Plate>\n    </main>\n  );\n});\n```\n\n## 处理回退编辑器\n\n当在 **`PlateController`** 内部调用的钩子无法找到匹配的 Plate Store 时，它将使用 Plate Store 的默认值。**`editor`** 的默认值是 **`createPlateFallbackEditor()`**。回退编辑器就像一个没有插件的空 Plate 编辑器，但如果它收到 Slate 操作，则会抛出运行时错误（即它是不可变的，不能用于转换）。\n\n这样做的原因是确保查询编辑器的代码（例如确定工具栏按钮是否处于活动状态）在出现问题时静默失败并返回合理的默认值，而转换编辑器的代码（例如按下工具栏按钮）则大声失败并显示错误。\n\n有两种方法可以确定您是否正在使用回退编辑器或真实编辑器：\n\n- **`useEditorMounted`** 如果无法解析到已挂载的编辑器，则返回 **`false`**\n- **`editor.meta.isFallback`** 对于回退编辑器为 **`true`**\n\n在 **`PlateController`** 内部使用 **`useEditorRef`** 等钩子时，您应该编写防御性代码，以确保在出现回退编辑器时能够适当处理。例如，如果 **`useEditorMounted`** 返回 **`false`**，您可以禁用工具栏按钮，或者如果 **`editor.meta.isFallback`** 为 **`true`**，则可以忽略事件。\n\n```tsx\nimport { KEYS } from 'platejs';\n\nconst App = withHoc(PlateController, () => {\n  const activeEditor = useEditorRef();\n  \n  const toggleBold = () => {\n    if (activeEditor.isFallback) return;\n    activeEditor.tf.toggleMark(KEYS.bold);\n  };\n  \n  return (\n    <main>\n      <button type=\"button\" onClick={toggleBold}>\n        Bold\n      </button>\n      \n      <Plate editor={createPlateEditor({ id: 'main', primary: false })}>\n        <PlateContent />\n      </Plate>\n    \n      <Plate editor={createPlateEditor({ id: 'secondary', primary: false })}>\n        <PlateContent />\n      </Plate>\n    </main>\n  );\n});\n```\n\n```tsx\nconst App = withHoc(PlateController, () => {\n  const activeEditor = useEditorRef();\n  const isFallback = !useEditorMounted();\n  \n  const toggleBold = () => {\n    activeEditor.tf.toggleMark(KEYS.bold);\n  };\n  \n  return (\n    <main>\n      <button\n        type=\"button\"\n        onClick={toggleBold}\n        disabled={isFallback}\n      >\n        Bold\n      </button>\n      \n      <Plate editor={createPlateEditor({ id: 'main', primary: false })}>\n        <PlateContent />\n      </Plate>\n    \n      <Plate editor={createPlateEditor({ id: 'secondary', primary: false })}>\n        <PlateContent />\n      </Plate>\n    </main>\n  );\n});\n```","code":"var Component=(()=>{var p=Object.create;var o=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var g=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports),u=(e,l)=>{for(var r in l)o(e,r,{get:l[r],enumerable:!0})},i=(e,l,r,s)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let c of F(l))!B.call(e,c)&&c!==r&&o(e,c,{get:()=>l[c],enumerable:!(s=y(l,c))||s.enumerable});return e};var N=(e,l,r)=>(r=e!=null?p(m(e)):{},i(l||!e||!e.__esModule?o(r,\"default\",{value:e,enumerable:!0}):r,e)),P=e=>i(o({},\"__esModule\",{value:!0}),e);var d=g((k,t)=>{t.exports=_jsx_runtime});var C={};u(C,{default:()=>h,frontmatter:()=>f});var n=N(d()),f={title:\"Plate Controller\",description:\"PlateController \\u7EC4\\u4EF6\\u7684 API \\u53C2\\u8003\\u3002\"};function E(e){let l={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...e.components},{API:r,APIItem:s,APIState:c}=l;return r||a(\"API\",!0),s||a(\"APIItem\",!0),c||a(\"APIState\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"PlateController\"})}),\" \\u662F\\u4E00\\u4E2A\\u53EF\\u9009\\u7684 provider \\u7EC4\\u4EF6\\uFF0C\\u7528\\u4E8E\\u4ECE\\u5404\\u81EA\\u7684 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"Plate\"})}),\" \\u7EC4\\u4EF6\\u5916\\u90E8\\u8BBF\\u95EE\\u7279\\u5B9A\\u7684 \",(0,n.jsx)(l.a,{href:\"/docs/api/core/store\",children:\"Plate Stores\"}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(l.h2,{id:\"platecontroller-store\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#platecontroller-store\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"PlateController Store\"]}),`\n`,(0,n.jsxs)(r,{name:\"PlateController\",children:[(0,n.jsxs)(l.p,{children:[\"PlateController Store \\u5305\\u542B\\u57FA\\u4E8E \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"id\"})}),\" \\u83B7\\u53D6 Plate Store \\u4EE5\\u53CA\\u786E\\u5B9A\\u5F53\\u524D\\u6D3B\\u52A8 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"id\"})}),\" \\u6240\\u9700\\u7684\\u4FE1\\u606F\\u3002\"]}),(0,n.jsxs)(c,{children:[(0,n.jsxs)(s,{name:\"activeId\",type:\"string | null\",children:[(0,n.jsxs)(l.p,{children:[\"\\u6700\\u8FD1\\u83B7\\u5F97\\u7126\\u70B9\\u7684 Plate \\u7F16\\u8F91\\u5668\\u7684 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"id\"})}),\"\\u3002\"]}),(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9ED8\\u8BA4\\u503C\\uFF1A\"}),\" \",(0,n.jsx)(l.code,{children:\"null\"})]}),`\n`]})]}),(0,n.jsxs)(s,{name:\"primaryEditorIds\",type:\"string[]\",children:[(0,n.jsxs)(l.p,{children:[\"\\u6240\\u6709\\u4E3B\\u8981 Plate \\u7F16\\u8F91\\u5668\\u7684 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"id\"})}),\"\\u3002\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0C\\u9664\\u975E\\u5411\\u5176 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"Plate\"})}),\" \\u7EC4\\u4EF6\\u4F20\\u9012\\u4E86 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"primary={false}\"})}),\"\\uFF0C\\u5426\\u5219\\u7F16\\u8F91\\u5668\\u88AB\\u89C6\\u4E3A\\u4E3B\\u8981\\u7F16\\u8F91\\u5668\\u3002\"]}),(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9ED8\\u8BA4\\u503C\\uFF1A\"}),\" \",(0,n.jsx)(l.code,{children:\"[]\"})]}),`\n`]})]}),(0,n.jsxs)(s,{name:\"editorStores\",type:\"Record<string, JotaiStore | null>\",children:[(0,n.jsxs)(l.p,{children:[\"\\u4ECE\\u6BCF\\u4E2A\\u5DF2\\u6302\\u8F7D\\u7684 Plate \\u7F16\\u8F91\\u5668\\u7684 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"id\"})}),\" \\u5230\\u8BE5\\u7F16\\u8F91\\u5668\\u7684 Plate Store \\u5BF9\\u5E94\\u7684 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"JotaiStore\"})}),\" \\u7684\\u6620\\u5C04\\u3002\"]}),(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9ED8\\u8BA4\\u503C\\uFF1A\"}),\" \",(0,n.jsx)(l.code,{children:\"{}\"})]}),`\n`]})]})]})]}),`\n`,(0,n.jsxs)(l.h2,{id:\"\\u4F7F\\u7528\\u6A21\\u5F0F\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u4F7F\\u7528\\u6A21\\u5F0F\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528\\u6A21\\u5F0F\"]}),`\n`,(0,n.jsxs)(l.h3,{id:\"\\u901A\\u8FC7-id-\\u8BBF\\u95EE\\u7279\\u5B9A\\u7F16\\u8F91\\u5668\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u901A\\u8FC7-id-\\u8BBF\\u95EE\\u7279\\u5B9A\\u7F16\\u8F91\\u5668\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u901A\\u8FC7 ID \\u8BBF\\u95EE\\u7279\\u5B9A\\u7F16\\u8F91\\u5668\"]}),`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"PlateController\"})}),\" \\u53EF\\u7528\\u4E8E\\u4F7F\\u7528\\u5176 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"id\"})}),\" \\u8BBF\\u95EE\\u7279\\u5B9A\\u7F16\\u8F91\\u5668\\u7684 store\\u3002\\u8BF7\\u6CE8\\u610F\\uFF0C\\u5982\\u679C\\u627E\\u4E0D\\u5230\\u5339\\u914D\\u7684\\u7F16\\u8F91\\u5668\\uFF0C\\u5C06\\u8FD4\\u56DE\\u4E00\\u4E2A\\u4E0D\\u53EF\\u53D8\\u7684\\u56DE\\u9000\\u7F16\\u8F91\\u5668\\u3002\"]}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`const App = withHoc(PlateController, () => {\n  const mainEditor = useEditorRef('main');\n  \n  useEffect(() => {\n    if (!mainEditor.isFallback) {\n      console.info('Editor mounted', mainEditor);\n    }\n  }, [mainEditor]);\n  \n  return (\n    <>\n      <Plate editor={createPlateEditor({ id: 'main' })}>\n        <PlateContent />\n      </Plate>\n    \n      <Plate editor={createPlateEditor({ id: 'secondary' })}>\n        <PlateContent />\n      </Plate>\n    </>\n  );\n});\n`,children:(0,n.jsxs)(l.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" App\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" withHoc\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(PlateController, () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" mainEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useEditorRef\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'main'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"mainEditor.isFallback) {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"info\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'Editor mounted'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", mainEditor);\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, [mainEditor]);\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <>\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'main'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })}>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PlateContent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'secondary'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })}>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PlateContent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </>\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(l.h3,{id:\"\\u6D3B\\u52A8\\u7F16\\u8F91\\u5668\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u6D3B\\u52A8\\u7F16\\u8F91\\u5668\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u6D3B\\u52A8\\u7F16\\u8F91\\u5668\"]}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5982\\u679C\\u5728 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"PlateController\"})}),\" \\u5185\\u90E8\\u4F7F\\u7528 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"useEditorRef\"})}),\" \\u7B49\\u94A9\\u5B50\\u65F6\\u6CA1\\u6709\\u663E\\u5F0F\\u6307\\u5B9A \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"id\"})}),\"\\uFF0C\\u5B83\\u4EEC\\u5C06\\u89E3\\u6790\\u4E3A\\u5F53\\u524D\\u6D3B\\u52A8\\u7684\\u7F16\\u8F91\\u5668\\u3002\"]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6D3B\\u52A8\\u7F16\\u8F91\\u5668\\u7684\\u786E\\u5B9A\\u65B9\\u5F0F\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u5982\\u679C\\u67D0\\u4E2A\\u7F16\\u8F91\\u5668\\u5DF2\\u83B7\\u5F97\\u7126\\u70B9\\uFF0C\\u5219\\u8FD4\\u56DE\\u6700\\u540E\\u4E00\\u4E2A\\u8FD9\\u6837\\u7684\\u7F16\\u8F91\\u5668\\u3002\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u5982\\u679C\\u67D0\\u4E2A\\u7F16\\u8F91\\u5668\\u662F\\u4E3B\\u8981\\u7F16\\u8F91\\u5668\\uFF0C\\u5219\\u8FD4\\u56DE\\u7B2C\\u4E00\\u4E2A\\u6302\\u8F7D\\u7684\\u8FD9\\u6837\\u7684\\u7F16\\u8F91\\u5668\\u3002\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u5426\\u5219\\uFF0C\\u8FD4\\u56DE\\u4E00\\u4E2A\\u4E0D\\u53EF\\u53D8\\u7684\\u56DE\\u9000\\u7F16\\u8F91\\u5668\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`const App = withHoc(PlateController, () => {\n  const activeEditorId = useEditorId();\n  const isFallback = !useEditorMounted();\n  \n  const message = isFallback\n    ? '\\u8BF7\\u805A\\u7126\\u4E00\\u4E2A\\u7F16\\u8F91\\u5668'\n    : \\`\\u6D3B\\u52A8\\u7F16\\u8F91\\u5668\\uFF1A\\${activeEditorId}\\`;\n  \n  return (\n    <main>\n      <p>{message}</p>\n      \n      <Plate editor={createPlateEditor({ id: 'main', primary: false })}>\n        <PlateContent />\n      </Plate>\n    \n      <Plate editor={createPlateEditor({ id: 'secondary', primary: false })}>\n        <PlateContent />\n      </Plate>\n    </main>\n  );\n});\n`,children:(0,n.jsxs)(l.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" App\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" withHoc\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(PlateController, () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" activeEditorId\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useEditorId\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" isFallback\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useEditorMounted\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" message\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" isFallback\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    ?\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '\\u8BF7\\u805A\\u7126\\u4E00\\u4E2A\\u7F16\\u8F91\\u5668'\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    :\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" `\\u6D3B\\u52A8\\u7F16\\u8F91\\u5668\\uFF1A${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"activeEditorId\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"main\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">{message}</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'main'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", primary: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })}>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PlateContent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'secondary'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", primary: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })}>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PlateContent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"main\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(l.h2,{id:\"\\u5904\\u7406\\u56DE\\u9000\\u7F16\\u8F91\\u5668\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u5904\\u7406\\u56DE\\u9000\\u7F16\\u8F91\\u5668\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u5904\\u7406\\u56DE\\u9000\\u7F16\\u8F91\\u5668\"]}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5F53\\u5728 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"PlateController\"})}),\" \\u5185\\u90E8\\u8C03\\u7528\\u7684\\u94A9\\u5B50\\u65E0\\u6CD5\\u627E\\u5230\\u5339\\u914D\\u7684 Plate Store \\u65F6\\uFF0C\\u5B83\\u5C06\\u4F7F\\u7528 Plate Store \\u7684\\u9ED8\\u8BA4\\u503C\\u3002\",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"editor\"})}),\" \\u7684\\u9ED8\\u8BA4\\u503C\\u662F \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"createPlateFallbackEditor()\"})}),\"\\u3002\\u56DE\\u9000\\u7F16\\u8F91\\u5668\\u5C31\\u50CF\\u4E00\\u4E2A\\u6CA1\\u6709\\u63D2\\u4EF6\\u7684\\u7A7A Plate \\u7F16\\u8F91\\u5668\\uFF0C\\u4F46\\u5982\\u679C\\u5B83\\u6536\\u5230 Slate \\u64CD\\u4F5C\\uFF0C\\u5219\\u4F1A\\u629B\\u51FA\\u8FD0\\u884C\\u65F6\\u9519\\u8BEF\\uFF08\\u5373\\u5B83\\u662F\\u4E0D\\u53EF\\u53D8\\u7684\\uFF0C\\u4E0D\\u80FD\\u7528\\u4E8E\\u8F6C\\u6362\\uFF09\\u3002\"]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8FD9\\u6837\\u505A\\u7684\\u539F\\u56E0\\u662F\\u786E\\u4FDD\\u67E5\\u8BE2\\u7F16\\u8F91\\u5668\\u7684\\u4EE3\\u7801\\uFF08\\u4F8B\\u5982\\u786E\\u5B9A\\u5DE5\\u5177\\u680F\\u6309\\u94AE\\u662F\\u5426\\u5904\\u4E8E\\u6D3B\\u52A8\\u72B6\\u6001\\uFF09\\u5728\\u51FA\\u73B0\\u95EE\\u9898\\u65F6\\u9759\\u9ED8\\u5931\\u8D25\\u5E76\\u8FD4\\u56DE\\u5408\\u7406\\u7684\\u9ED8\\u8BA4\\u503C\\uFF0C\\u800C\\u8F6C\\u6362\\u7F16\\u8F91\\u5668\\u7684\\u4EE3\\u7801\\uFF08\\u4F8B\\u5982\\u6309\\u4E0B\\u5DE5\\u5177\\u680F\\u6309\\u94AE\\uFF09\\u5219\\u5927\\u58F0\\u5931\\u8D25\\u5E76\\u663E\\u793A\\u9519\\u8BEF\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6709\\u4E24\\u79CD\\u65B9\\u6CD5\\u53EF\\u4EE5\\u786E\\u5B9A\\u60A8\\u662F\\u5426\\u6B63\\u5728\\u4F7F\\u7528\\u56DE\\u9000\\u7F16\\u8F91\\u5668\\u6216\\u771F\\u5B9E\\u7F16\\u8F91\\u5668\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"useEditorMounted\"})}),\" \\u5982\\u679C\\u65E0\\u6CD5\\u89E3\\u6790\\u5230\\u5DF2\\u6302\\u8F7D\\u7684\\u7F16\\u8F91\\u5668\\uFF0C\\u5219\\u8FD4\\u56DE \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"false\"})})]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"editor.meta.isFallback\"})}),\" \\u5BF9\\u4E8E\\u56DE\\u9000\\u7F16\\u8F91\\u5668\\u4E3A \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"true\"})})]}),`\n`]}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5728 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"PlateController\"})}),\" \\u5185\\u90E8\\u4F7F\\u7528 \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"useEditorRef\"})}),\" \\u7B49\\u94A9\\u5B50\\u65F6\\uFF0C\\u60A8\\u5E94\\u8BE5\\u7F16\\u5199\\u9632\\u5FA1\\u6027\\u4EE3\\u7801\\uFF0C\\u4EE5\\u786E\\u4FDD\\u5728\\u51FA\\u73B0\\u56DE\\u9000\\u7F16\\u8F91\\u5668\\u65F6\\u80FD\\u591F\\u9002\\u5F53\\u5904\\u7406\\u3002\\u4F8B\\u5982\\uFF0C\\u5982\\u679C \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"useEditorMounted\"})}),\" \\u8FD4\\u56DE \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"false\"})}),\"\\uFF0C\\u60A8\\u53EF\\u4EE5\\u7981\\u7528\\u5DE5\\u5177\\u680F\\u6309\\u94AE\\uFF0C\\u6216\\u8005\\u5982\\u679C \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"editor.meta.isFallback\"})}),\" \\u4E3A \",(0,n.jsx)(l.strong,{children:(0,n.jsx)(l.code,{children:\"true\"})}),\"\\uFF0C\\u5219\\u53EF\\u4EE5\\u5FFD\\u7565\\u4E8B\\u4EF6\\u3002\"]}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`import { KEYS } from 'platejs';\n\nconst App = withHoc(PlateController, () => {\n  const activeEditor = useEditorRef();\n  \n  const toggleBold = () => {\n    if (activeEditor.isFallback) return;\n    activeEditor.tf.toggleMark(KEYS.bold);\n  };\n  \n  return (\n    <main>\n      <button type=\"button\" onClick={toggleBold}>\n        Bold\n      </button>\n      \n      <Plate editor={createPlateEditor({ id: 'main', primary: false })}>\n        <PlateContent />\n      </Plate>\n    \n      <Plate editor={createPlateEditor({ id: 'secondary', primary: false })}>\n        <PlateContent />\n      </Plate>\n    </main>\n  );\n});\n`,children:(0,n.jsxs)(l.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { KEYS } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'platejs'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" App\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" withHoc\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(PlateController, () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" activeEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useEditorRef\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" toggleBold\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (activeEditor.isFallback) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    activeEditor.tf.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toggleMark\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"KEYS\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".bold);\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"main\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" type\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"button\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{toggleBold}>\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        Bold\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'main'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", primary: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })}>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PlateContent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'secondary'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", primary: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })}>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PlateContent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"main\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`const App = withHoc(PlateController, () => {\n  const activeEditor = useEditorRef();\n  const isFallback = !useEditorMounted();\n  \n  const toggleBold = () => {\n    activeEditor.tf.toggleMark(KEYS.bold);\n  };\n  \n  return (\n    <main>\n      <button\n        type=\"button\"\n        onClick={toggleBold}\n        disabled={isFallback}\n      >\n        Bold\n      </button>\n      \n      <Plate editor={createPlateEditor({ id: 'main', primary: false })}>\n        <PlateContent />\n      </Plate>\n    \n      <Plate editor={createPlateEditor({ id: 'secondary', primary: false })}>\n        <PlateContent />\n      </Plate>\n    </main>\n  );\n});\n`,children:(0,n.jsxs)(l.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" App\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" withHoc\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(PlateController, () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" activeEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useEditorRef\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" isFallback\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useEditorMounted\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" toggleBold\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    activeEditor.tf.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toggleMark\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"KEYS\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".bold);\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"main\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        type\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"button\"'})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        onClick\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{toggleBold}\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        disabled\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{isFallback}\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      >\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        Bold\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'main'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", primary: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })}>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PlateContent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'secondary'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", primary: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })}>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PlateContent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"main\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})})]})}function h(e={}){let{wrapper:l}=e.components||{};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(E,{...e})}):E(e)}function a(e,l){throw new Error(\"Expected \"+(l?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return P(C);})();\n;return Component;"},"component":false,"description":"PlateController 组件的 API 参考。","featured":false,"published":true,"slug":"/docs/docs/api/core/plate-controller.cn","slugAsParams":"docs/api/core/plate-controller.cn","title":"Plate Controller","toc":true}