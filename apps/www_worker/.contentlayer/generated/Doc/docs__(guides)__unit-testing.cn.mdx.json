{
  "component": false,
  "description": "学习如何对 Plate 编辑器和插件进行单元测试。",
  "featured": false,
  "published": true,
  "title": "Plate 单元测试",
  "toc": true,
  "body": {
    "raw": "\n本指南概述了使用 `@platejs/test-utils` 对 Plate 插件和组件进行单元测试的最佳实践。\n\n## 安装\n\n```bash\nnpm install @platejs/test-utils\n```\n\n## 设置测试\n\n在测试文件顶部添加 JSX pragma：\n\n```typescript\n/** @jsx jsx */\n\nimport { jsx } from '@platejs/test-utils';\n\njsx; // so Biome doesn't remove unused imports\n```\n\n这允许你使用 JSX 语法创建编辑器值。\n\n## 创建测试用例\n\n### 编辑器状态表示\n\n使用 JSX 表示编辑器状态：\n\n```typescript\nconst input = (\n  <editor>\n    <hp>\n      Hello<cursor /> world\n    </hp>\n  </editor>\n) as any as PlateEditor;\n```\n\n节点元素如 `<hp />`、`<hul />`、`<hli />` 表示不同类型的节点。\n\n特殊元素如 `<cursor />`、`<anchor />` 和 `<focus />` 表示选区状态。\n\n### 测试转换\n\n1. 创建输入状态\n2. 定义预期输出状态\n3. 使用 `createPlateEditor` 设置编辑器\n4. 直接应用转换\n5. 断言编辑器的新状态\n\n测试粗体格式的示例：\n\n```typescript\nit('should apply bold formatting', () => {\n  const input = (\n    <editor>\n      <hp>\n        Hello <anchor />\n        world\n        <focus />\n      </hp>\n    </editor>\n  ) as any as PlateEditor;\n\n  const output = (\n    <editor>\n      <hp>\n        Hello <htext bold>world</htext>\n      </hp>\n    </editor>\n  ) as any as PlateEditor;\n\n  const editor = createPlateEditor({\n    plugins: [BoldPlugin],\n    value: input.children,\n    selection: input.selection,\n  });\n\n  // Apply transform directly\n  editor.tf.toggleMark('bold');\n\n  expect(editor.children).toEqual(output.children);\n});\n```\n\n### 测试选区\n\n测试操作如何影响编辑器的选区：\n\n```typescript\nit('should collapse selection on backspace', () => {\n  const input = (\n    <editor>\n      <hp>\n        He<anchor />llo wor<focus />ld\n      </hp>\n    </editor>\n  ) as any as PlateEditor;\n\n  const output = (\n    <editor>\n      <hp>\n        He<cursor />ld\n      </hp>\n    </editor>\n  ) as any as PlateEditor;\n\n  const editor = createPlateEditor({\n    value: input.children,\n    selection: input.selection,\n  });\n\n  editor.tf.deleteBackward();\n\n  expect(editor.children).toEqual(output.children);\n  expect(editor.selection).toEqual(output.selection);\n});\n```\n\n## 测试键盘事件\n\n当你需要直接测试键盘处理程序时：\n\n```typescript\nit('should call the onKeyDown handler', () => {\n  const input = (\n    <editor>\n      <hp>\n        Hello <anchor />world<focus />\n      </hp>\n    </editor>\n  ) as any as PlateEditor;\n\n  // Create a mock handler to verify it's called\n  const onKeyDownMock = jest.fn();\n\n  const editor = createPlateEditor({\n    value: input.children,\n    selection: input.selection,\n    plugins: [\n      {\n        key: 'test',\n        handlers: {\n          onKeyDown: onKeyDownMock,\n        },\n      },\n    ],\n  });\n\n  // Create the keyboard event\n  const event = new KeyboardEvent('keydown', {\n    key: 'Enter',\n  }) as any;\n\n  // Call the handler directly\n  editor.plugins.test.handlers.onKeyDown({\n    ...getEditorPlugin(editor, { key: 'test' }),\n    event,\n  });\n\n  // Verify the handler was called\n  expect(onKeyDownMock).toHaveBeenCalled();\n});\n```\n\n## 测试复杂场景\n\n对于像表格这样的复杂插件，通过直接应用转换来测试各种场景：\n\n```typescript\ndescribe('Table plugin', () => {\n  it('should insert a table', () => {\n    const input = (\n      <editor>\n        <hp>\n          Test<cursor />\n        </hp>\n      </editor>\n    ) as any as PlateEditor;\n\n    const output = (\n      <editor>\n        <hp>Test</hp>\n        <htable>\n          <htr>\n            <htd>\n              <hp>\n                <cursor />\n              </hp>\n            </htd>\n            <htd>\n              <hp></hp>\n            </htd>\n          </htr>\n          <htr>\n            <htd>\n              <hp></hp>\n            </htd>\n            <htd>\n              <hp></hp>\n            </htd>\n          </htr>\n        </htable>\n      </editor>\n    ) as any as PlateEditor;\n\n    const editor = createPlateEditor({\n      value: input.children,\n      selection: input.selection,\n      plugins: [TablePlugin],\n    });\n\n    // Call transform directly\n    editor.tf.insertTable({ rows: 2, columns: 2 });\n\n    expect(editor.children).toEqual(output.children);\n    expect(editor.selection).toEqual(output.selection);\n  });\n});\n```\n\n## 测试带选项的插件\n\n测试不同插件选项如何影响行为：\n\n```typescript\ndescribe('when undo is enabled', () => {\n  it('should undo text format upon delete', () => {\n    const input = (\n      <fragment>\n        <hp>\n          1/<cursor />\n        </hp>\n      </fragment>\n    ) as any;\n\n    const output = (\n      <fragment>\n        <hp>\n          1/4<cursor />\n        </hp>\n      </fragment>\n    ) as any;\n\n    const editor = createPlateEditor({\n      plugins: [\n        AutoformatPlugin.configure({\n          options: {\n            enableUndoOnDelete: true,\n            rules: [\n              {\n                format: '¼',\n                match: '1/4',\n                mode: 'text',\n              },\n            ],\n          },\n        }),\n      ],\n      value: input,\n    });\n\n    // Trigger the autoformat\n    editor.tf.insertText('4');\n\n    // Simulate backspace key\n    const event = new KeyboardEvent('keydown', {\n      key: 'backspace',\n    }) as any;\n\n    // Call the handler\n    editor.getPlugin({key: KEYS.autoformat}).handlers.onKeyDown({\n      ...getEditorPlugin(editor, AutoformatPlugin),\n      event,\n    });\n\n    // With enableUndoOnDelete: true, pressing backspace should restore the original text\n    expect(input.children).toEqual(output.children);\n  });\n});\n```\n\n## Mock 与真实转换\n\n虽然 mock 对于隔离特定行为很有用，但 Plate 测试通常会在转换后评估实际的编辑器 children 和选区。这种方法确保插件能与整个编辑器状态正确协作。\n",
    "code": "var Component=(()=>{var p=Object.create;var r=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var u=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports),N=(e,l)=>{for(var s in l)r(e,s,{get:l[s],enumerable:!0})},o=(e,l,s,a)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let c of y(l))!m.call(e,c)&&c!==s&&r(e,c,{get:()=>l[c],enumerable:!(a=E(l,c))||a.enumerable});return e};var B=(e,l,s)=>(s=e!=null?p(F(e)):{},o(l||!e||!e.__esModule?r(s,\"default\",{value:e,enumerable:!0}):s,e)),g=e=>o(r({},\"__esModule\",{value:!0}),e);var t=u((_,i)=>{i.exports=_jsx_runtime});var b={};N(b,{default:()=>h,frontmatter:()=>f});var n=B(t()),f={title:\"Plate \\u5355\\u5143\\u6D4B\\u8BD5\",description:\"\\u5B66\\u4E60\\u5982\\u4F55\\u5BF9 Plate \\u7F16\\u8F91\\u5668\\u548C\\u63D2\\u4EF6\\u8FDB\\u884C\\u5355\\u5143\\u6D4B\\u8BD5\\u3002\"};function d(e){let l={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.p,{children:[\"\\u672C\\u6307\\u5357\\u6982\\u8FF0\\u4E86\\u4F7F\\u7528 \",(0,n.jsx)(l.code,{children:\"@platejs/test-utils\"}),\" \\u5BF9 Plate \\u63D2\\u4EF6\\u548C\\u7EC4\\u4EF6\\u8FDB\\u884C\\u5355\\u5143\\u6D4B\\u8BD5\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\"]}),`\n`,(0,n.jsxs)(l.h2,{id:\"\\u5B89\\u88C5\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u5B89\\u88C5\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u5B89\\u88C5\"]}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",__rawString__:`npm install @platejs/test-utils\n`,__npmCommand__:`npm install @platejs/test-utils\n`,__yarnCommand__:`yarn add @platejs/test-utils\n`,__pnpmCommand__:`pnpm add @platejs/test-utils\n`,__bunCommand__:`bun add @platejs/test-utils\n`,children:(0,n.jsx)(l.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" @platejs/test-utils\"})]})})})}),`\n`,(0,n.jsxs)(l.h2,{id:\"\\u8BBE\\u7F6E\\u6D4B\\u8BD5\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u8BBE\\u7F6E\\u6D4B\\u8BD5\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u8BBE\\u7F6E\\u6D4B\\u8BD5\"]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728\\u6D4B\\u8BD5\\u6587\\u4EF6\\u9876\\u90E8\\u6DFB\\u52A0 JSX pragma\\uFF1A\"}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"typescript\",\"data-theme\":\"default\",__rawString__:`/** @jsx jsx */\n\nimport { jsx } from '@platejs/test-utils';\n\njsx; // so Biome doesn't remove unused imports\n`,children:(0,n.jsxs)(l.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"/** \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"@jsx\"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\" jsx */\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { jsx } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '@platejs/test-utils'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"jsx; \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// so Biome doesn't remove unused imports\"})]})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8FD9\\u5141\\u8BB8\\u4F60\\u4F7F\\u7528 JSX \\u8BED\\u6CD5\\u521B\\u5EFA\\u7F16\\u8F91\\u5668\\u503C\\u3002\"}),`\n`,(0,n.jsxs)(l.h2,{id:\"\\u521B\\u5EFA\\u6D4B\\u8BD5\\u7528\\u4F8B\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u521B\\u5EFA\\u6D4B\\u8BD5\\u7528\\u4F8B\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u521B\\u5EFA\\u6D4B\\u8BD5\\u7528\\u4F8B\"]}),`\n`,(0,n.jsxs)(l.h3,{id:\"\\u7F16\\u8F91\\u5668\\u72B6\\u6001\\u8868\\u793A\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u7F16\\u8F91\\u5668\\u72B6\\u6001\\u8868\\u793A\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u7F16\\u8F91\\u5668\\u72B6\\u6001\\u8868\\u793A\"]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4F7F\\u7528 JSX \\u8868\\u793A\\u7F16\\u8F91\\u5668\\u72B6\\u6001\\uFF1A\"}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"typescript\",\"data-theme\":\"default\",__rawString__:`const input = (\n  <editor>\n    <hp>\n      Hello<cursor /> world\n    </hp>\n  </editor>\n) as any as PlateEditor;\n`,children:(0,n.jsxs)(l.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" input\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      Hello\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"cursor \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\" world\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" as\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" PlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]})]})})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u8282\\u70B9\\u5143\\u7D20\\u5982 \",(0,n.jsx)(l.code,{children:\"<hp />\"}),\"\\u3001\",(0,n.jsx)(l.code,{children:\"<hul />\"}),\"\\u3001\",(0,n.jsx)(l.code,{children:\"<hli />\"}),\" \\u8868\\u793A\\u4E0D\\u540C\\u7C7B\\u578B\\u7684\\u8282\\u70B9\\u3002\"]}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u7279\\u6B8A\\u5143\\u7D20\\u5982 \",(0,n.jsx)(l.code,{children:\"<cursor />\"}),\"\\u3001\",(0,n.jsx)(l.code,{children:\"<anchor />\"}),\" \\u548C \",(0,n.jsx)(l.code,{children:\"<focus />\"}),\" \\u8868\\u793A\\u9009\\u533A\\u72B6\\u6001\\u3002\"]}),`\n`,(0,n.jsxs)(l.h3,{id:\"\\u6D4B\\u8BD5\\u8F6C\\u6362\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u6D4B\\u8BD5\\u8F6C\\u6362\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u6D4B\\u8BD5\\u8F6C\\u6362\"]}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u521B\\u5EFA\\u8F93\\u5165\\u72B6\\u6001\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u5B9A\\u4E49\\u9884\\u671F\\u8F93\\u51FA\\u72B6\\u6001\"}),`\n`,(0,n.jsxs)(l.li,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(l.code,{children:\"createPlateEditor\"}),\" \\u8BBE\\u7F6E\\u7F16\\u8F91\\u5668\"]}),`\n`,(0,n.jsx)(l.li,{children:\"\\u76F4\\u63A5\\u5E94\\u7528\\u8F6C\\u6362\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u65AD\\u8A00\\u7F16\\u8F91\\u5668\\u7684\\u65B0\\u72B6\\u6001\"}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6D4B\\u8BD5\\u7C97\\u4F53\\u683C\\u5F0F\\u7684\\u793A\\u4F8B\\uFF1A\"}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"typescript\",\"data-theme\":\"default\",__rawString__:`it('should apply bold formatting', () => {\n  const input = (\n    <editor>\n      <hp>\n        Hello <anchor />\n        world\n        <focus />\n      </hp>\n    </editor>\n  ) as any as PlateEditor;\n\n  const output = (\n    <editor>\n      <hp>\n        Hello <htext bold>world</htext>\n      </hp>\n    </editor>\n  ) as any as PlateEditor;\n\n  const editor = createPlateEditor({\n    plugins: [BoldPlugin],\n    value: input.children,\n    selection: input.selection,\n  });\n\n  // Apply transform directly\n  editor.tf.toggleMark('bold');\n\n  expect(editor.children).toEqual(output.children);\n});\n`,children:(0,n.jsxs)(l.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"it\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'should apply bold formatting'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" input\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        Hello \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"anchor \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"        world\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"focus \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  ) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" as\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" PlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" output\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        Hello \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"htext bold\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"world\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"</\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"htext\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  ) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" as\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" PlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    plugins: [BoldPlugin],\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    value: input.children,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    selection: input.selection,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // Apply transform directly\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  editor.tf.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toggleMark\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'bold'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  expect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(editor.children).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toEqual\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(output.children);\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(l.h3,{id:\"\\u6D4B\\u8BD5\\u9009\\u533A\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u6D4B\\u8BD5\\u9009\\u533A\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u6D4B\\u8BD5\\u9009\\u533A\"]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6D4B\\u8BD5\\u64CD\\u4F5C\\u5982\\u4F55\\u5F71\\u54CD\\u7F16\\u8F91\\u5668\\u7684\\u9009\\u533A\\uFF1A\"}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"typescript\",\"data-theme\":\"default\",__rawString__:`it('should collapse selection on backspace', () => {\n  const input = (\n    <editor>\n      <hp>\n        He<anchor />llo wor<focus />ld\n      </hp>\n    </editor>\n  ) as any as PlateEditor;\n\n  const output = (\n    <editor>\n      <hp>\n        He<cursor />ld\n      </hp>\n    </editor>\n  ) as any as PlateEditor;\n\n  const editor = createPlateEditor({\n    value: input.children,\n    selection: input.selection,\n  });\n\n  editor.tf.deleteBackward();\n\n  expect(editor.children).toEqual(output.children);\n  expect(editor.selection).toEqual(output.selection);\n});\n`,children:(0,n.jsxs)(l.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"it\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'should collapse selection on backspace'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" input\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        He\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"anchor \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"llo wor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"focus \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"ld\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  ) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" as\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" PlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" output\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        He\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"cursor \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"ld\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  ) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" as\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" PlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    value: input.children,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    selection: input.selection,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  editor.tf.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"deleteBackward\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  expect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(editor.children).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toEqual\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(output.children);\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  expect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(editor.selection).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toEqual\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(output.selection);\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(l.h2,{id:\"\\u6D4B\\u8BD5\\u952E\\u76D8\\u4E8B\\u4EF6\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u6D4B\\u8BD5\\u952E\\u76D8\\u4E8B\\u4EF6\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u6D4B\\u8BD5\\u952E\\u76D8\\u4E8B\\u4EF6\"]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5F53\\u4F60\\u9700\\u8981\\u76F4\\u63A5\\u6D4B\\u8BD5\\u952E\\u76D8\\u5904\\u7406\\u7A0B\\u5E8F\\u65F6\\uFF1A\"}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"typescript\",\"data-theme\":\"default\",__rawString__:`it('should call the onKeyDown handler', () => {\n  const input = (\n    <editor>\n      <hp>\n        Hello <anchor />world<focus />\n      </hp>\n    </editor>\n  ) as any as PlateEditor;\n\n  // Create a mock handler to verify it's called\n  const onKeyDownMock = jest.fn();\n\n  const editor = createPlateEditor({\n    value: input.children,\n    selection: input.selection,\n    plugins: [\n      {\n        key: 'test',\n        handlers: {\n          onKeyDown: onKeyDownMock,\n        },\n      },\n    ],\n  });\n\n  // Create the keyboard event\n  const event = new KeyboardEvent('keydown', {\n    key: 'Enter',\n  }) as any;\n\n  // Call the handler directly\n  editor.plugins.test.handlers.onKeyDown({\n    ...getEditorPlugin(editor, { key: 'test' }),\n    event,\n  });\n\n  // Verify the handler was called\n  expect(onKeyDownMock).toHaveBeenCalled();\n});\n`,children:(0,n.jsxs)(l.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"it\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'should call the onKeyDown handler'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" input\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        Hello \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"anchor \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"world\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"focus \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  ) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" as\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" PlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // Create a mock handler to verify it's called\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" onKeyDownMock\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" jest.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    value: input.children,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    selection: input.selection,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    plugins: [\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      {\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        key: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'test'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        handlers: {\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          onKeyDown: onKeyDownMock,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        },\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    ],\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // Create the keyboard event\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" event\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" KeyboardEvent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'keydown'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    key: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'Enter'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // Call the handler directly\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  editor.plugins.test.handlers.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onKeyDown\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    ...\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getEditorPlugin\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(editor, { key: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'test'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }),\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    event,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // Verify the handler was called\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  expect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(onKeyDownMock).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toHaveBeenCalled\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(l.h2,{id:\"\\u6D4B\\u8BD5\\u590D\\u6742\\u573A\\u666F\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u6D4B\\u8BD5\\u590D\\u6742\\u573A\\u666F\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u6D4B\\u8BD5\\u590D\\u6742\\u573A\\u666F\"]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5BF9\\u4E8E\\u50CF\\u8868\\u683C\\u8FD9\\u6837\\u7684\\u590D\\u6742\\u63D2\\u4EF6\\uFF0C\\u901A\\u8FC7\\u76F4\\u63A5\\u5E94\\u7528\\u8F6C\\u6362\\u6765\\u6D4B\\u8BD5\\u5404\\u79CD\\u573A\\u666F\\uFF1A\"}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"typescript\",\"data-theme\":\"default\",__rawString__:`describe('Table plugin', () => {\n  it('should insert a table', () => {\n    const input = (\n      <editor>\n        <hp>\n          Test<cursor />\n        </hp>\n      </editor>\n    ) as any as PlateEditor;\n\n    const output = (\n      <editor>\n        <hp>Test</hp>\n        <htable>\n          <htr>\n            <htd>\n              <hp>\n                <cursor />\n              </hp>\n            </htd>\n            <htd>\n              <hp></hp>\n            </htd>\n          </htr>\n          <htr>\n            <htd>\n              <hp></hp>\n            </htd>\n            <htd>\n              <hp></hp>\n            </htd>\n          </htr>\n        </htable>\n      </editor>\n    ) as any as PlateEditor;\n\n    const editor = createPlateEditor({\n      value: input.children,\n      selection: input.selection,\n      plugins: [TablePlugin],\n    });\n\n    // Call transform directly\n    editor.tf.insertTable({ rows: 2, columns: 2 });\n\n    expect(editor.children).toEqual(output.children);\n    expect(editor.selection).toEqual(output.selection);\n  });\n});\n`,children:(0,n.jsxs)(l.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"describe\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'Table plugin'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  it\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'should insert a table'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" input\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          Test\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"cursor \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    ) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" as\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" PlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" output\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">Test\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"</\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"htable\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"htr\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"htd\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"                <\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"cursor \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"              </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"            </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"htd\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"htd\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"            </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"htd\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"htr\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"htr\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"htd\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"            </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"htd\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"htd\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"            </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"htd\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"htr\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"htable\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    ) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" as\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" PlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      value: input.children,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      selection: input.selection,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      plugins: [TablePlugin],\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // Call transform directly\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    editor.tf.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"insertTable\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ rows: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", columns: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    expect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(editor.children).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toEqual\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(output.children);\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    expect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(editor.selection).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toEqual\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(output.selection);\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(l.h2,{id:\"\\u6D4B\\u8BD5\\u5E26\\u9009\\u9879\\u7684\\u63D2\\u4EF6\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u6D4B\\u8BD5\\u5E26\\u9009\\u9879\\u7684\\u63D2\\u4EF6\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u6D4B\\u8BD5\\u5E26\\u9009\\u9879\\u7684\\u63D2\\u4EF6\"]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6D4B\\u8BD5\\u4E0D\\u540C\\u63D2\\u4EF6\\u9009\\u9879\\u5982\\u4F55\\u5F71\\u54CD\\u884C\\u4E3A\\uFF1A\"}),`\n`,(0,n.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(l.pre,{\"data-language\":\"typescript\",\"data-theme\":\"default\",__rawString__:`describe('when undo is enabled', () => {\n  it('should undo text format upon delete', () => {\n    const input = (\n      <fragment>\n        <hp>\n          1/<cursor />\n        </hp>\n      </fragment>\n    ) as any;\n\n    const output = (\n      <fragment>\n        <hp>\n          1/4<cursor />\n        </hp>\n      </fragment>\n    ) as any;\n\n    const editor = createPlateEditor({\n      plugins: [\n        AutoformatPlugin.configure({\n          options: {\n            enableUndoOnDelete: true,\n            rules: [\n              {\n                format: '\\xBC',\n                match: '1/4',\n                mode: 'text',\n              },\n            ],\n          },\n        }),\n      ],\n      value: input,\n    });\n\n    // Trigger the autoformat\n    editor.tf.insertText('4');\n\n    // Simulate backspace key\n    const event = new KeyboardEvent('keydown', {\n      key: 'backspace',\n    }) as any;\n\n    // Call the handler\n    editor.getPlugin({key: KEYS.autoformat}).handlers.onKeyDown({\n      ...getEditorPlugin(editor, AutoformatPlugin),\n      event,\n    });\n\n    // With enableUndoOnDelete: true, pressing backspace should restore the original text\n    expect(input.children).toEqual(output.children);\n  });\n});\n`,children:(0,n.jsxs)(l.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"describe\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'when undo is enabled'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  it\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'should undo text format upon delete'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" input\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fragment\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"          1\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"cursor \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"fragment\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    ) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" output\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fragment\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"          1\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"4\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"cursor \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/>\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hp\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"fragment\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    ) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" editor\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" createPlateEditor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      plugins: [\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        AutoformatPlugin.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"configure\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          options: {\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            enableUndoOnDelete: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            rules: [\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              {\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"                format: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\xBC'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"                match: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'1/4'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"                mode: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'text'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              },\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            ],\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          },\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        }),\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      ],\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      value: input,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // Trigger the autoformat\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    editor.tf.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"insertText\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'4'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // Simulate backspace key\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" event\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" KeyboardEvent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'keydown'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      key: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'backspace'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" any\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // Call the handler\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    editor.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getPlugin\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({key: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"KEYS\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".autoformat}).handlers.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onKeyDown\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      ...\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getEditorPlugin\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(editor, AutoformatPlugin),\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      event,\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // With enableUndoOnDelete: true, pressing backspace should restore the original text\"})}),`\n`,(0,n.jsxs)(l.span,{className:\"line\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    expect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(input.children).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toEqual\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(output.children);\"})]}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{className:\"line\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(l.h2,{id:\"mock-\\u4E0E\\u771F\\u5B9E\\u8F6C\\u6362\",children:[(0,n.jsx)(l.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#mock-\\u4E0E\\u771F\\u5B9E\\u8F6C\\u6362\",children:(0,n.jsx)(l.span,{className:\"icon icon-link\"})}),\"Mock \\u4E0E\\u771F\\u5B9E\\u8F6C\\u6362\"]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u867D\\u7136 mock \\u5BF9\\u4E8E\\u9694\\u79BB\\u7279\\u5B9A\\u884C\\u4E3A\\u5F88\\u6709\\u7528\\uFF0C\\u4F46 Plate \\u6D4B\\u8BD5\\u901A\\u5E38\\u4F1A\\u5728\\u8F6C\\u6362\\u540E\\u8BC4\\u4F30\\u5B9E\\u9645\\u7684\\u7F16\\u8F91\\u5668 children \\u548C\\u9009\\u533A\\u3002\\u8FD9\\u79CD\\u65B9\\u6CD5\\u786E\\u4FDD\\u63D2\\u4EF6\\u80FD\\u4E0E\\u6574\\u4E2A\\u7F16\\u8F91\\u5668\\u72B6\\u6001\\u6B63\\u786E\\u534F\\u4F5C\\u3002\"})]})}function h(e={}){let{wrapper:l}=e.components||{};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}return g(b);})();\n;return Component;"
  },
  "_id": "docs/(guides)/unit-testing.cn.mdx",
  "_raw": {
    "sourceFilePath": "docs/(guides)/unit-testing.cn.mdx",
    "sourceFileName": "unit-testing.cn.mdx",
    "sourceFileDir": "docs/(guides)",
    "contentType": "mdx",
    "flattenedPath": "docs/(guides)/unit-testing.cn"
  },
  "type": "Doc",
  "slug": "/docs/docs/unit-testing.cn",
  "slugAsParams": "docs/unit-testing.cn"
}