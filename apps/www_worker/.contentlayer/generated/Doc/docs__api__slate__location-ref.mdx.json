{
  "component": false,
  "description": "API reference for location references in Plate.",
  "featured": false,
  "published": true,
  "title": "Location Ref",
  "toc": true,
  "body": {
    "raw": "\nLocation references are objects that keep specific locations (paths, points, or ranges) in a document synced over time as new operations are applied to the editor. You can access their `current` property at any time for the up-to-date location value. You can access their `current` property at any time for the up-to-date location value.\n\n## Types\n\n### `PathRef`\n\nPath reference objects keep a specific path in a document synced over time. Created using `editor.api.pathRef`.\n\n<API name=\"PathRef\">\n<APIAttributes>\n  <APIItem name=\"current\" type=\"Path | null\">\n    The current path value, updated as operations are applied.\n  </APIItem>\n  <APIItem name=\"affinity\" type=\"'forward' | 'backward' | null\">\n    The direction to prefer when transforming the path:\n    - `'forward'`: Prefer the position after inserted content\n    - `'backward'`: Prefer the position before inserted content\n    - `null`: No preference\n  </APIItem>\n  <APIItem name=\"unref()\" type=\"() => Path | null\">\n    Call this when you no longer need to sync this path. Returns the final path value.\n  </APIItem>\n</APIAttributes>\n</API>\n\n### `PointRef`\n\nPoint reference objects keep a specific point in a document synced over time. Created using `editor.api.pointRef`.\n\n<API name=\"PointRef\">\n<APIAttributes>\n  <APIItem name=\"current\" type=\"Point | null\">\n    The current point value, updated as operations are applied.\n  </APIItem>\n  <APIItem name=\"affinity\" type=\"'forward' | 'backward' | null\">\n    The direction to prefer when transforming the point:\n    - `'forward'`: Prefer the position after inserted content\n    - `'backward'`: Prefer the position before inserted content\n    - `null`: No preference\n  </APIItem>\n  <APIItem name=\"unref()\" type=\"() => Point | null\">\n    Call this when you no longer need to sync this point. Returns the final point value.\n  </APIItem>\n</APIAttributes>\n</API>\n\n### `RangeRef`\n\nRange reference objects keep a specific range in a document synced over time. Created using `editor.api.rangeRef`.\n\n<API name=\"RangeRef\">\n<APIAttributes>\n  <APIItem name=\"current\" type=\"TRange | null\">\n    The current range value, updated as operations are applied.\n  </APIItem>\n  <APIItem name=\"affinity\" type=\"'forward' | 'backward' | 'inward' | 'outward' | null\">\n    The direction to prefer when transforming the range:\n    - `'forward'`: Both points prefer after inserted content\n    - `'backward'`: Both points prefer before inserted content\n    - `'inward'`: Range tends to stay same size when content is inserted at edges\n    - `'outward'`: Range tends to grow when content is inserted at edges\n    - `null`: No preference\n  </APIItem>\n  <APIItem name=\"unref()\" type=\"() => TRange | null\">\n    Call this when you no longer need to sync this range. Returns the final range value.\n  </APIItem>\n</APIAttributes>\n</API>\n\nExample usage of a RangeRef:\n\n```typescript\nconst selectionRef = editor.api.rangeRef(editor.selection, {\n  affinity: 'inward',\n})\n// Operations that might change the selection\nTransforms.unwrapNodes(editor)\n// Restore the selection using the ref\nTransforms.select(editor, selectionRef.unref())\n```\n\n\n## `PathRefApi`\n\n### `transform`\n\nTransform a path reference by an operation.\n\n<API name=\"transform\">\n<APIParameters>\n  <APIItem name=\"ref\" type=\"PathRef\">\n    The path reference to transform.\n  </APIItem>\n  <APIItem name=\"op\" type=\"Operation\">\n    The operation to apply. The editor calls this automatically as needed.\n  </APIItem>\n</APIParameters>\n</API>\n\n## `PointRefApi`\n\n### `transform`\n\nTransform a point reference by an operation.\n\n<API name=\"transform\">\n<APIParameters>\n  <APIItem name=\"ref\" type=\"PointRef\">\n    The point reference to transform.\n  </APIItem>\n  <APIItem name=\"op\" type=\"Operation\">\n    The operation to apply. The editor calls this automatically as needed.\n  </APIItem>\n</APIParameters>\n</API>\n\n## `RangeRefApi`\n\n### `transform`\n\nTransform a range reference by an operation.\n\n<API name=\"transform\">\n<APIParameters>\n  <APIItem name=\"ref\" type=\"RangeRef\">\n    The range reference to transform.\n  </APIItem>\n  <APIItem name=\"op\" type=\"Operation\">\n    The operation to apply. The editor calls this automatically as needed.\n  </APIItem>\n</APIParameters>\n</API>\n",
    "code": "var Component=(()=>{var u=Object.create;var o=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var R=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),w=(r,n)=>{for(var i in n)o(r,i,{get:n[i],enumerable:!0})},d=(r,n,i,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let a of g(n))!b.call(r,a)&&a!==i&&o(r,a,{get:()=>n[a],enumerable:!(t=m(n,a))||t.enumerable});return r};var E=(r,n,i)=>(i=r!=null?u(y(r)):{},d(n||!r||!r.__esModule?o(i,\"default\",{value:r,enumerable:!0}):i,r)),N=r=>d(o({},\"__esModule\",{value:!0}),r);var h=R((v,s)=>{s.exports=_jsx_runtime});var P={};w(P,{default:()=>f,frontmatter:()=>k});var e=E(h()),k={title:\"Location Ref\",description:\"API reference for location references in Plate.\"};function p(r){let n={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",h3:\"h3\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...r.components},{API:i,APIAttributes:t,APIItem:a,APIParameters:c}=n;return i||l(\"API\",!0),t||l(\"APIAttributes\",!0),a||l(\"APIItem\",!0),c||l(\"APIParameters\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.p,{children:[\"Location references are objects that keep specific locations (paths, points, or ranges) in a document synced over time as new operations are applied to the editor. You can access their \",(0,e.jsx)(n.code,{children:\"current\"}),\" property at any time for the up-to-date location value. You can access their \",(0,e.jsx)(n.code,{children:\"current\"}),\" property at any time for the up-to-date location value.\"]}),`\n`,(0,e.jsxs)(n.h2,{id:\"types\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#types\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Types\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"pathref\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#pathref\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"PathRef\"})]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Path reference objects keep a specific path in a document synced over time. Created using \",(0,e.jsx)(n.code,{children:\"editor.api.pathRef\"}),\".\"]}),`\n`,(0,e.jsx)(i,{name:\"PathRef\",children:(0,e.jsxs)(t,{children:[(0,e.jsx)(a,{name:\"current\",type:\"Path | null\",children:(0,e.jsx)(n.p,{children:\"The current path value, updated as operations are applied.\"})}),(0,e.jsxs)(a,{name:\"affinity\",type:\"'forward' | 'backward' | null\",children:[(0,e.jsx)(n.p,{children:\"The direction to prefer when transforming the path:\"}),(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"'forward'\"}),\": Prefer the position after inserted content\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"'backward'\"}),\": Prefer the position before inserted content\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"null\"}),\": No preference\"]}),`\n`]})]}),(0,e.jsx)(a,{name:\"unref()\",type:\"() => Path | null\",children:(0,e.jsx)(n.p,{children:\"Call this when you no longer need to sync this path. Returns the final path value.\"})})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"pointref\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#pointref\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"PointRef\"})]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Point reference objects keep a specific point in a document synced over time. Created using \",(0,e.jsx)(n.code,{children:\"editor.api.pointRef\"}),\".\"]}),`\n`,(0,e.jsx)(i,{name:\"PointRef\",children:(0,e.jsxs)(t,{children:[(0,e.jsx)(a,{name:\"current\",type:\"Point | null\",children:(0,e.jsx)(n.p,{children:\"The current point value, updated as operations are applied.\"})}),(0,e.jsxs)(a,{name:\"affinity\",type:\"'forward' | 'backward' | null\",children:[(0,e.jsx)(n.p,{children:\"The direction to prefer when transforming the point:\"}),(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"'forward'\"}),\": Prefer the position after inserted content\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"'backward'\"}),\": Prefer the position before inserted content\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"null\"}),\": No preference\"]}),`\n`]})]}),(0,e.jsx)(a,{name:\"unref()\",type:\"() => Point | null\",children:(0,e.jsx)(n.p,{children:\"Call this when you no longer need to sync this point. Returns the final point value.\"})})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"rangeref\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#rangeref\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"RangeRef\"})]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Range reference objects keep a specific range in a document synced over time. Created using \",(0,e.jsx)(n.code,{children:\"editor.api.rangeRef\"}),\".\"]}),`\n`,(0,e.jsx)(i,{name:\"RangeRef\",children:(0,e.jsxs)(t,{children:[(0,e.jsx)(a,{name:\"current\",type:\"TRange | null\",children:(0,e.jsx)(n.p,{children:\"The current range value, updated as operations are applied.\"})}),(0,e.jsxs)(a,{name:\"affinity\",type:\"'forward' | 'backward' | 'inward' | 'outward' | null\",children:[(0,e.jsx)(n.p,{children:\"The direction to prefer when transforming the range:\"}),(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"'forward'\"}),\": Both points prefer after inserted content\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"'backward'\"}),\": Both points prefer before inserted content\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"'inward'\"}),\": Range tends to stay same size when content is inserted at edges\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"'outward'\"}),\": Range tends to grow when content is inserted at edges\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"null\"}),\": No preference\"]}),`\n`]})]}),(0,e.jsx)(a,{name:\"unref()\",type:\"() => TRange | null\",children:(0,e.jsx)(n.p,{children:\"Call this when you no longer need to sync this range. Returns the final range value.\"})})]})}),`\n`,(0,e.jsx)(n.p,{children:\"Example usage of a RangeRef:\"}),`\n`,(0,e.jsx)(n.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(n.pre,{\"data-language\":\"typescript\",\"data-theme\":\"default\",__rawString__:`const selectionRef = editor.api.rangeRef(editor.selection, {\n  affinity: 'inward',\n})\n// Operations that might change the selection\nTransforms.unwrapNodes(editor)\n// Restore the selection using the ref\nTransforms.select(editor, selectionRef.unref())\n`,children:(0,e.jsxs)(n.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(n.span,{className:\"line\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" selectionRef\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" editor.api.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"rangeRef\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(editor.selection, {\"})]}),`\n`,(0,e.jsxs)(n.span,{className:\"line\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  affinity: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'inward'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsx)(n.span,{className:\"line\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"})\"})}),`\n`,(0,e.jsx)(n.span,{className:\"line\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// Operations that might change the selection\"})}),`\n`,(0,e.jsxs)(n.span,{className:\"line\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"Transforms.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"unwrapNodes\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(editor)\"})]}),`\n`,(0,e.jsx)(n.span,{className:\"line\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// Restore the selection using the ref\"})}),`\n`,(0,e.jsxs)(n.span,{className:\"line\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"Transforms.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"select\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(editor, selectionRef.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"unref\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]})]})})}),`\n`,(0,e.jsxs)(n.h2,{id:\"pathrefapi\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#pathrefapi\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"PathRefApi\"})]}),`\n`,(0,e.jsxs)(n.h3,{id:\"transform\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#transform\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"transform\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"Transform a path reference by an operation.\"}),`\n`,(0,e.jsx)(i,{name:\"transform\",children:(0,e.jsxs)(c,{children:[(0,e.jsx)(a,{name:\"ref\",type:\"PathRef\",children:(0,e.jsx)(n.p,{children:\"The path reference to transform.\"})}),(0,e.jsx)(a,{name:\"op\",type:\"Operation\",children:(0,e.jsx)(n.p,{children:\"The operation to apply. The editor calls this automatically as needed.\"})})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"pointrefapi\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#pointrefapi\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"PointRefApi\"})]}),`\n`,(0,e.jsxs)(n.h3,{id:\"transform-1\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#transform-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"transform\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"Transform a point reference by an operation.\"}),`\n`,(0,e.jsx)(i,{name:\"transform\",children:(0,e.jsxs)(c,{children:[(0,e.jsx)(a,{name:\"ref\",type:\"PointRef\",children:(0,e.jsx)(n.p,{children:\"The point reference to transform.\"})}),(0,e.jsx)(a,{name:\"op\",type:\"Operation\",children:(0,e.jsx)(n.p,{children:\"The operation to apply. The editor calls this automatically as needed.\"})})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"rangerefapi\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#rangerefapi\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"RangeRefApi\"})]}),`\n`,(0,e.jsxs)(n.h3,{id:\"transform-2\",children:[(0,e.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#transform-2\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"transform\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"Transform a range reference by an operation.\"}),`\n`,(0,e.jsx)(i,{name:\"transform\",children:(0,e.jsxs)(c,{children:[(0,e.jsx)(a,{name:\"ref\",type:\"RangeRef\",children:(0,e.jsx)(n.p,{children:\"The range reference to transform.\"})}),(0,e.jsx)(a,{name:\"op\",type:\"Operation\",children:(0,e.jsx)(n.p,{children:\"The operation to apply. The editor calls this automatically as needed.\"})})]})})]})}function f(r={}){let{wrapper:n}=r.components||{};return n?(0,e.jsx)(n,{...r,children:(0,e.jsx)(p,{...r})}):p(r)}function l(r,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+r+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return N(P);})();\n;return Component;"
  },
  "_id": "docs/api/slate/location-ref.mdx",
  "_raw": {
    "sourceFilePath": "docs/api/slate/location-ref.mdx",
    "sourceFileName": "location-ref.mdx",
    "sourceFileDir": "docs/api/slate",
    "contentType": "mdx",
    "flattenedPath": "docs/api/slate/location-ref"
  },
  "type": "Doc",
  "slug": "/docs/docs/api/slate/location-ref",
  "slugAsParams": "docs/api/slate/location-ref"
}