{
  "component": false,
  "description": "Real-time collaboration with Yjs",
  "featured": false,
  "published": true,
  "title": "Collaboration",
  "toc": true,
  "body": {
    "raw": "\n<ComponentPreview name=\"collaboration-demo\" />\n\n<PackageInfo>\n\n## Features\n\n- **Multi-Provider Support:** Enables real-time collaboration using [Yjs](https://github.com/yjs/yjs) and [slate-yjs](https://docs.slate-yjs.dev/). Supports multiple synchronization providers simultaneously (e.g., Hocuspocus + WebRTC) working on a shared `Y.Doc`.\n- **Built-in Providers:** Includes support for [Hocuspocus](https://tiptap.dev/hocuspocus) (server-based) and [WebRTC](https://github.com/yjs/y-webrtc) (peer-to-peer) providers out-of-the-box.\n- **Custom Providers:** Extensible architecture allows adding custom providers (e.g., for offline storage like IndexedDB) by implementing the `UnifiedProvider` interface.\n- **Awareness & Cursors:** Integrates Yjs Awareness protocol for sharing cursor locations and other ephemeral state between users. Includes [`RemoteCursorOverlay`](/docs/components/remote-cursor-overlay) for rendering remote cursors.\n- **Customizable Cursors:** Cursor appearance (name, color) can be customized via `cursors`.\n- **Manual Lifecycle:** Provides explicit `init` and `destroy` methods for managing the Yjs connection lifecycle.\n\n</PackageInfo>\n\n## Usage\n\n<Steps>\n\n### Installation\n\nInstall the core Yjs plugin and the specific provider packages you intend to use:\n\n```bash\nnpm install @platejs/yjs\n```\n\nFor Hocuspocus server-based collaboration:\n\n```bash\nnpm install @hocuspocus/provider\n```\n\nFor WebRTC peer-to-peer collaboration:\n\n```bash\nnpm install y-webrtc\n```\n\n### Add Plugin\n\n```tsx\nimport { YjsPlugin } from '@platejs/yjs/react';\nimport { createPlateEditor } from 'platejs/react';\n\nconst editor = createPlateEditor({\n  plugins: [\n    // ...otherPlugins,\n    YjsPlugin,\n  ],\n  // Important: Skip Plate's default initialization when using Yjs\n  skipInitialization: true,\n});\n```\n\n<Callout type=\"warning\" title=\"Required Editor Configuration\">\n  It's crucial to set `skipInitialization: true` when creating the editor. Yjs manages the initial document state, so Plate's default value initialization should be skipped to avoid conflicts.\n</Callout>\n\n### Configure YjsPlugin\n\nConfigure the plugin with providers and cursor settings:\n\n```tsx\nimport { YjsPlugin } from '@platejs/yjs/react';\nimport { createPlateEditor } from 'platejs/react';\nimport { RemoteCursorOverlay } from '@/components/ui/remote-cursor-overlay';\n\nconst editor = createPlateEditor({\n  plugins: [\n    // ...otherPlugins,\n    YjsPlugin.configure({\n      render: {\n        afterEditable: RemoteCursorOverlay,\n      },\n      options: {\n        // Configure local user cursor appearance\n        cursors: {\n          data: {\n            name: 'User Name', // Replace with dynamic user name\n            color: '#aabbcc', // Replace with dynamic user color\n          },\n        },\n        // Configure providers. All providers share the same Y.Doc and Awareness instance.\n        providers: [\n          // Example: Hocuspocus provider\n          {\n            type: 'hocuspocus',\n            options: {\n              name: 'my-document-id', // Unique identifier for the document\n              url: 'ws://localhost:8888', // Your Hocuspocus server URL\n            },\n          },\n          // Example: WebRTC provider (can be used alongside Hocuspocus)\n          {\n            type: 'webrtc',\n            options: {\n              roomName: 'my-document-id', // Must match the document identifier\n              signaling: ['ws://localhost:4444'], // Optional: Your signaling server URLs\n            },\n          },\n        ],\n      },\n    }),\n  ],\n  skipInitialization: true,\n});\n```\n\n- `render.afterEditable`: Assigns [`RemoteCursorOverlay`](/docs/components/remote-cursor-overlay) to render remote user cursors.\n- `cursors.data`: Configures the local user's cursor appearance with name and color.\n- `providers`: Array of collaboration providers to use (Hocuspocus, WebRTC, or custom providers).\n\n### Add Editor Container\n\nThe `RemoteCursorOverlay` requires a positioned container around the editor content. Use [`EditorContainer`](/docs/components/editor) component or `PlateContainer` from `platejs/react`:\n\n```tsx\nimport { Plate } from 'platejs/react';\nimport { EditorContainer } from '@/components/ui/editor';\n\nreturn (\n  <Plate editor={editor}>\n    <EditorContainer>\n      <Editor />\n    </EditorContainer>\n  </Plate>\n);\n```\n\n### Initialize Yjs Connection\n\nYjs connection and state initialization are handled manually, typically within a `useEffect` hook:\n\n```tsx\nimport React, { useEffect } from 'react';\nimport { YjsPlugin } from '@platejs/yjs/react';\nimport { useMounted } from '@/hooks/use-mounted'; // Or your own mounted check\n\nconst MyEditorComponent = ({ documentId, initialValue }) => {\n  const editor = usePlateEditor(/** editor config from previous steps **/);\n  const mounted = useMounted();\n\n  useEffect(() => {\n    // Ensure component is mounted and editor is ready\n    if (!mounted) return;\n\n    // Initialize Yjs connection, sync document, and set initial editor state\n    editor.getApi(YjsPlugin).yjs.init({\n      id: documentId,          // Unique identifier for the Yjs document\n      value: initialValue,     // Initial content if the Y.Doc is empty\n    });\n\n    // Clean up: Destroy connection when component unmounts\n    return () => {\n      editor.getApi(YjsPlugin).yjs.destroy();\n    };\n  }, [editor, mounted]);\n\n  return (\n    <Plate editor={editor}>\n      <EditorContainer>\n        <Editor />\n      </EditorContainer>\n    </Plate>\n  );\n};\n```\n\n<Callout>\n  **Initial Value**: The `value` passed to `init` is only used to populate the Y.Doc if it's completely empty on the backend/peer network. If the document already exists, its content will be synced, and this initial value will be ignored.\n  \n  **Lifecycle Management**: You **must** call `editor.api.yjs.init()` to establish the connection and `editor.api.yjs.destroy()` on component unmount to clean up resources.\n</Callout>\n\n### Monitor Connection Status (Optional)\n\nAccess provider states and add event handlers for connection monitoring:\n\n```tsx\nimport React from 'react';\nimport { YjsPlugin } from '@platejs/yjs/react';\nimport { usePluginOption } from 'platejs/react';\n\nfunction EditorStatus() {\n  // Access provider states directly (read-only)\n  const providers = usePluginOption(YjsPlugin, '_providers');\n  const isConnected = usePluginOption(YjsPlugin, '_isConnected');\n\n  return (\n    <div>\n      {providers.map((provider) => (\n        <span key={provider.type}>\n          {provider.type}: {provider.isConnected ? 'Connected' : 'Disconnected'} ({provider.isSynced ? 'Synced' : 'Syncing'})\n        </span>\n      ))}\n    </div>\n  );\n}\n\n// Add event handlers for connection events:\nYjsPlugin.configure({\n  options: {\n    // ... other options\n    onConnect: ({ type }) => console.debug(`Provider ${type} connected!`),\n    onDisconnect: ({ type }) => console.debug(`Provider ${type} disconnected.`),\n    onSyncChange: ({ type, isSynced }) => console.debug(`Provider ${type} sync status: ${isSynced}`),\n    onError: ({ type, error }) => console.error(`Error in provider ${type}:`, error),\n  },\n});\n```\n\n</Steps>\n\n## Provider Types\n\n### Hocuspocus Provider\n\nServer-based collaboration using [Hocuspocus](https://tiptap.dev/hocuspocus). Requires a running Hocuspocus server.\n\n```tsx\ntype HocuspocusProviderConfig = {\n  type: 'hocuspocus',\n  options: {\n    name: string;     // Document identifier\n    url: string;      // WebSocket server URL\n    token?: string;   // Authentication token\n    wsOptions?: HocuspocusProviderWebsocketConfiguration; // Advanced websocket config (headers, protocols, etc.)\n  }\n}\n```\n\n#### `wsOptions`\n\nYou can pass a `wsOptions` field to configure advanced websocket options for the Hocuspocus provider. This is useful for custom headers, authentication, protocols, or other websocket settings supported by [`HocuspocusProviderWebsocket`](https://tiptap.dev/hocuspocus/api/provider#websocket-configuration).\n\nExample usage:\n\n```tsx\n{\n  type: 'hocuspocus',\n  options: {\n    name: 'my-document-id',\n  },\n  wsOptions: {\n    url: 'ws://localhost:8888',\n    maxAttempts: 5,\n    parameters: {\n      // request parameters\n    }\n  },\n}\n```\n\n### WebRTC Provider\n\nPeer-to-peer collaboration using [y-webrtc](https://github.com/yjs/y-webrtc).\n\n```tsx\ntype WebRTCProviderConfig = {\n  type: 'webrtc',\n  options: {\n    roomName: string;      // Room name for collaboration\n    signaling?: string[];  // Signaling server URLs\n    password?: string;     // Room password\n    maxConns?: number;     // Max connections\n    peerOpts?: object;     // WebRTC peer options\n  }\n}\n```\n\n### Custom Provider\n\nCreate custom providers by implementing the `UnifiedProvider` interface:\n\n```typescript\ninterface UnifiedProvider {\n  awareness: Awareness;\n  document: Y.Doc;\n  type: string;\n  connect: () => void;\n  destroy: () => void;\n  disconnect: () => void;\n  isConnected: boolean;\n  isSynced: boolean;\n}\n```\n\nUse custom providers directly in the providers array:\n\n```tsx\nconst customProvider = new MyCustomProvider({ doc: ydoc, awareness });\n\nYjsPlugin.configure({\n  options: {\n    providers: [customProvider],\n  },\n});\n```\n\n## Backend Setup\n\n### Hocuspocus Server\n\nSet up a [Hocuspocus server](https://tiptap.dev/hocuspocus/getting-started) for server-based collaboration. Ensure the `url` and `name` in your provider options match your server configuration.\n\n### WebRTC Setup\n\n#### Signaling Server\n\nWebRTC requires signaling servers for peer discovery. Public servers work for testing but use your own for production:\n\n```bash\nnpm install y-webrtc\nPORT=4444 node ./node_modules/y-webrtc/bin/server.js\n```\n\nConfigure your client to use custom signaling:\n\n```tsx\n{\n  type: 'webrtc',\n  options: {\n    roomName: 'document-1',\n    signaling: ['ws://your-signaling-server.com:4444'],\n  },\n}\n```\n\n#### TURN Servers\n\n<Callout type=\"warning\">\n  WebRTC connections can fail due to firewalls. Use TURN servers or combine with Hocuspocus for production reliability.\n</Callout>\n\nConfigure TURN servers for reliable connections:\n\n```tsx\n{\n  type: 'webrtc',\n  options: {\n    roomName: 'document-1',\n    signaling: ['ws://your-signaling-server.com:4444'],\n    peerOpts: {\n      config: {\n        iceServers: [\n          { urls: 'stun:stun.l.google.com:19302' },\n          {\n            urls: 'turn:your-turn-server.com:3478',\n            username: 'username',\n            credential: 'password'\n          }\n        ]\n      }\n    }\n  }\n}\n```\n\n## Security\n\n**Authentication & Authorization:**\n- Use Hocuspocus's `onAuthenticate` hook to validate users\n- Implement document-level access control on your backend\n- Pass authentication tokens via the `token` option\n\n**Transport Security:**\n- Use `wss://` URLs in production for encrypted communication\n- Configure secure TURN servers with the `turns://` protocol\n\n**WebRTC Security:**\n- Use the `password` option for basic room access control\n- Configure secure signaling servers\n\nExample secure configuration:\n\n```tsx\nYjsPlugin.configure({\n  options: {\n    providers: [\n      {\n        type: 'hocuspocus',\n        options: {\n          name: 'secure-document-id',\n          url: 'wss://your-hocuspocus-server.com',\n          token: 'user-auth-token',\n        },\n      },\n      {\n        type: 'webrtc',\n        options: {\n          roomName: 'secure-document-id',\n          password: 'strong-room-password',\n          signaling: ['wss://your-secure-signaling.com'],\n          peerOpts: {\n            config: {\n              iceServers: [\n                {\n                  urls: 'turns:your-turn-server.com:443?transport=tcp',\n                  username: 'user',\n                  credential: 'pass'\n                }\n              ]\n            }\n          }\n        },\n      },\n    ],\n  },\n});\n```\n\n## Troubleshooting\n\n### Connection Issues\n\n**Check URLs and Names:**\n- Verify `url` (Hocuspocus) and `signaling` URLs (WebRTC) are correct\n- Ensure `name` or `roomName` matches exactly across all collaborators\n- Use `ws://` for local development, `wss://` for production\n\n**Server Status:**\n- Verify Hocuspocus and signaling servers are running\n- Check server logs for errors\n- Test TURN server connectivity if using WebRTC\n\n**Network Issues:**\n- Firewalls may block WebSocket or WebRTC traffic\n- Use TURN servers configured for TCP (port 443) for better traversal\n- Check browser console for provider errors\n\n### Multiple Documents\n\n**Separate Instances:**\n- Create separate `Y.Doc` instances for each document\n- Use unique document identifiers for `name`/`roomName`\n- Pass unique `ydoc` and `awareness` instances to each editor\n\n### Sync Issues\n\n**Editor Initialization:**\n- Always set `skipInitialization: true` when creating the editor\n- Use `editor.api.yjs.init({ value })` for initial content\n- Ensure all providers use the exact same document identifier\n\n**Content Conflicts:**\n- Avoid manually manipulating the shared `Y.Doc`\n- Let Yjs handle all document operations through the editor\n\n### Cursor Issues\n\n**Overlay Setup:**\n- Include [`RemoteCursorOverlay`](/docs/components/remote-cursor-overlay) in plugin render config\n- Use positioned container (`EditorContainer` or `PlateContainer`)\n- Verify `cursors.data` (name, color) is set correctly for local user\n\n## Related\n\n- [Yjs](https://github.com/yjs/yjs) - CRDT framework for collaboration\n- [slate-yjs](https://docs.slate-yjs.dev/) - Yjs bindings for Slate\n- [Hocuspocus](https://tiptap.dev/hocuspocus) - Backend server for Yjs\n- [y-webrtc](https://github.com/yjs/y-webrtc) - WebRTC provider\n- [RemoteCursorOverlay](/docs/components/remote-cursor-overlay) - Remote cursor component\n- [EditorContainer](/docs/components/editor) - Editor container component\n\n## Plugins\n\n### `YjsPlugin`\n\nEnables real-time collaboration using Yjs with support for multiple providers and remote cursors.\n\n<API name=\"YjsPlugin\">\n<APIOptions>\n  <APIItem name=\"providers\" type=\"(UnifiedProvider | YjsProviderConfig)[]\">\n    Array of provider configurations or pre-instantiated provider instances. The plugin will create instances from configurations and use existing instances directly. All providers will share the same Y.Doc and Awareness. Each configuration object specifies a provider `type` (e.g., `'hocuspocus'`,\n    `'webrtc'`) and its specific `options`. Custom provider instances must conform to the\n    `UnifiedProvider` interface.\n  </APIItem>\n  <APIItem name=\"cursors\" type=\"WithCursorsOptions | null\" optional>\n    Configuration for remote cursors. Set to `null` to explicitly disable cursors. If omitted, cursors are enabled by default if providers are specified. Passed to `withTCursors`. See [WithCursorsOptions API](https://docs.slate-yjs.dev/api/slate-yjs-core/cursor-plugin#withcursors). Includes `data` for local user info and `autoSend` (default `true`).\n  </APIItem>\n  <APIItem name=\"ydoc\" type=\"Y.Doc\" optional>\n    Optional shared Y.Doc instance. If not provided, a new one will be created internally by the plugin. Provide your own if integrating with other Yjs tools or managing multiple documents.\n  </APIItem>\n  <APIItem name=\"awareness\" type=\"Awareness\" optional>\n    Optional shared Awareness instance. If not provided, a new one will be created.\n  </APIItem>\n  <APIItem name=\"onConnect\" type=\"(props: { type: YjsProviderType }) => void\" optional>\n    Callback fired when any provider successfully connects.\n  </APIItem>\n  <APIItem name=\"onDisconnect\" type=\"(props: { type: YjsProviderType }) => void\" optional>\n    Callback fired when any provider disconnects.\n  </APIItem>\n  <APIItem name=\"onError\" type=\"(props: { error: Error; type: YjsProviderType }) => void\" optional>\n    Callback fired when any provider encounters an error (e.g., connection failure).\n  </APIItem>\n  <APIItem name=\"onSyncChange\" type=\"(props: { isSynced: boolean; type: YjsProviderType }) => void\" optional>\n    Callback fired when the sync status (`provider.isSynced`) of any individual provider changes.\n  </APIItem>\n</APIOptions>\n<APIAttributes>\n  {/* Attributes are internal state, generally use options or event handlers instead */}\n  <APIItem name=\"_isConnected\" type=\"boolean\">\n    Internal state: Whether at least one provider is currently connected.\n  </APIItem>\n  <APIItem name=\"_isSynced\" type=\"boolean\">\n    Internal state: Reflects overall sync status.\n  </APIItem>\n  <APIItem name=\"_providers\" type=\"UnifiedProvider[]\">\n    Internal state: Array of all active, instantiated provider instances.\n  </APIItem>\n</APIAttributes>\n</API>\n\n## API\n\n### `api.yjs.init`\n\nInitializes the Yjs connection, binds it to the editor, sets up providers based on plugin configuration, potentially populates the Y.Doc with initial content, and connects providers. **Must be called after the editor is mounted.**\n\n<API name=\"editor.api.yjs.init\">\n<APIParameters>\n  <APIItem name=\"options\" type=\"object\" optional>\n    Configuration object for initialization.\n  </APIItem>\n</APIParameters>\n\n<APIOptions type=\"object\">\n  <APIItem name=\"id\" type=\"string\" optional>\n    A unique identifier for the Yjs document (e.g., room name, document ID). If not provided, `editor.id` is used. Essential for ensuring collaborators connect to the same document state.\n  </APIItem>\n  <APIItem name=\"value\" type=\"Value | string | ((editor: PlateEditor) => Value | Promise<Value>)\" optional>\n    The initial content for the editor. **This is only applied if the Y.Doc associated with the `id` is completely empty in the shared state (backend/peers).** If the document already exists, its content will be synced, ignoring this value. Can be Plate JSON (`Value`), an HTML string, or a function returning/resolving to `Value`. If omitted or empty, a default empty paragraph is used for initialization if the Y.Doc is new.\n  </APIItem>\n  <APIItem name=\"autoConnect\" type=\"boolean\" optional>\n    Whether to automatically call `provider.connect()` for all configured providers during initialization. Default: `true`. Set to `false` if you want to manage connections manually using `editor.api.yjs.connect()`.\n  </APIItem>\n  <APIItem name=\"autoSelect\" type=\"'start' | 'end'\" optional>\n    If set, automatically focuses the editor and places the cursor at the 'start' or 'end' of the document after initialization and sync.\n  </APIItem>\n  <APIItem name=\"selection\" type=\"Location\" optional>\n    Specific Plate `Location` to set the selection to after initialization, overriding `autoSelect`.\n  </APIItem>\n</APIOptions>\n\n<APIReturns type=\"Promise<void>\">\n  Resolves when the initial setup (including potential async `value` resolution and YjsEditor binding) is complete. Note that provider connection and synchronization happen asynchronously.\n</APIReturns>\n</API>\n\n### `api.yjs.destroy`\n\nDisconnects all providers, cleans up Yjs bindings (detaches editor from Y.Doc), and destroys the awareness instance. **Must be called when the editor component unmounts** to prevent memory leaks and stale connections.\n\n### `api.yjs.connect`\n\nManually connects to providers. Useful if `autoConnect: false` was used during `init`.\n\n<API name=\"editor.api.yjs.connect\">\n<APIParameters>\n <APIItem name=\"type\" type=\"YjsProviderType | YjsProviderType[]\" optional>\n   If provided, only connects to providers of the specified type(s). If omitted, connects to all configured providers that are not already connected.\n </APIItem>\n</APIParameters>\n</API>\n\n### `api.yjs.disconnect`\n\nManually disconnects from providers.\n\n<API name=\"editor.api.yjs.disconnect\">\n<APIParameters>\n <APIItem name=\"type\" type=\"YjsProviderType | YjsProviderType[]\" optional>\n   If provided, only disconnects from providers of the specified type(s). If omitted, disconnects from all currently connected providers.\n </APIItem>\n</APIParameters>\n</API>\n",
    "code": "var Component=(()=>{var f=Object.create;var p=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var B=(l,s)=>()=>(s||l((s={exports:{}}).exports,s),s.exports),A=(l,s)=>{for(var o in s)p(l,o,{get:s[o],enumerable:!0})},F=(l,s,o,r)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let e of v(s))!b.call(l,e)&&e!==o&&p(l,e,{get:()=>s[e],enumerable:!(r=C(s,e))||r.enumerable});return l};var w=(l,s,o)=>(o=l!=null?f(N(l)):{},F(s||!l||!l.__esModule?p(o,\"default\",{value:l,enumerable:!0}):o,l)),R=l=>F(p({},\"__esModule\",{value:!0}),l);var m=B((_,u)=>{u.exports=_jsx_runtime});var x={};A(x,{default:()=>D,frontmatter:()=>j});var n=w(m()),j={title:\"Collaboration\",description:\"Real-time collaboration with Yjs\",toc:!0};function g(l){let s={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",h3:\"h3\",h4:\"h4\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components},{API:o,APIAttributes:r,APIItem:e,APIOptions:i,APIParameters:c,APIReturns:d,Callout:t,ComponentPreview:E,PackageInfo:y,Steps:h}=s;return o||a(\"API\",!0),r||a(\"APIAttributes\",!0),e||a(\"APIItem\",!0),i||a(\"APIOptions\",!0),c||a(\"APIParameters\",!0),d||a(\"APIReturns\",!0),t||a(\"Callout\",!0),E||a(\"ComponentPreview\",!0),y||a(\"PackageInfo\",!0),h||a(\"Steps\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E,{name:\"collaboration-demo\",__dependencies__:'[\"@platejs/yjs\",\"nanoid\",\"@slate-yjs/react\",\"@radix-ui/react-slot\"]',__item__:`{\"name\":\"collaboration-demo\",\"type\":\"registry:example\",\"description\":\"Real-time collaboration with cursors and selections.\",\"dependencies\":[\"@platejs/yjs\",\"nanoid\"],\"registryDependencies\":[\"use-mounted\",\"remote-cursor-overlay\",\"shadcn/button\",\"shadcn/input\"],\"files\":[{\"path\":\"collaboration-demo.tsx\",\"content\":\"'use client';\\\\n\\\\nimport * as React from 'react';\\\\n\\\\nimport { YjsPlugin } from '@platejs/yjs/react';\\\\nimport { RefreshCw } from 'lucide-react';\\\\nimport { nanoid } from 'nanoid';\\\\nimport {\\\\n  Plate,\\\\n  useEditorRef,\\\\n  usePlateEditor,\\\\n  usePluginOption,\\\\n} from 'platejs/react';\\\\n\\\\nimport { Button } from '@/components/ui/button';\\\\nimport { Input } from '@/components/ui/input';\\\\nimport { EditorKit } from '@/components/editor/editor-kit';\\\\nimport { useMounted } from '@/hooks/use-mounted';\\\\nimport { Editor, EditorContainer } from '@/components/ui/editor';\\\\nimport { RemoteCursorOverlay } from '@/components/ui/remote-cursor-overlay';\\\\n\\\\nconst INITIAL_VALUE = [\\\\n  {\\\\n    children: [{ text: 'This is the initial content loaded into the Y.Doc.' }],\\\\n    type: 'p',\\\\n  },\\\\n];\\\\n\\\\nexport default function CollaborativeEditingDemo(): React.ReactNode {\\\\n  const mounted = useMounted();\\\\n  const { generateNewRoom, roomName, handleRoomChange } =\\\\n    useCollaborationRoom();\\\\n  const { cursorColor, username } = useCollaborationUser();\\\\n\\\\n  const editor = usePlateEditor(\\\\n    {\\\\n      plugins: [\\\\n        ...EditorKit,\\\\n        YjsPlugin.configure({\\\\n          options: {\\\\n            cursors: {\\\\n              data: { color: cursorColor, name: username },\\\\n            },\\\\n            providers: [\\\\n              {\\\\n                options: {\\\\n                  name: roomName,\\\\n                  url: 'ws://localhost:8888',\\\\n                },\\\\n                type: 'hocuspocus',\\\\n              },\\\\n              {\\\\n                options: {\\\\n                  maxConns: 9, // Limit to 10 total participants\\\\n                  roomName,\\\\n                  signaling: [\\\\n                    process.env.NODE_ENV === 'production'\\\\n                      ? // Use public signaling server just for demo purposes\\\\n                        'wss://signaling.yjs.dev'\\\\n                      : 'ws://localhost:4444',\\\\n                  ],\\\\n                },\\\\n                type: 'webrtc',\\\\n              },\\\\n            ],\\\\n          },\\\\n          render: {\\\\n            afterEditable: RemoteCursorOverlay,\\\\n          },\\\\n        }),\\\\n      ],\\\\n      skipInitialization: true,\\\\n    },\\\\n    [roomName]\\\\n  );\\\\n\\\\n  React.useEffect(() => {\\\\n    if (!mounted) return;\\\\n\\\\n    editor.getApi(YjsPlugin).yjs.init({\\\\n      id: roomName,\\\\n      autoSelect: 'end',\\\\n      value: INITIAL_VALUE,\\\\n    });\\\\n\\\\n    return () => {\\\\n      editor.getApi(YjsPlugin).yjs.destroy();\\\\n    };\\\\n    // eslint-disable-next-line react-hooks/exhaustive-deps\\\\n  }, [editor, mounted]);\\\\n\\\\n  return (\\\\n    <div className=\\\\\"flex flex-col\\\\\">\\\\n      <div className=\\\\\"rounded-md bg-muted p-4 text-muted-foreground text-sm\\\\\">\\\\n        <div className=\\\\\"flex items-center gap-2\\\\\">\\\\n          <div className=\\\\\"flex-1\\\\\">\\\\n            <label className=\\\\\"mb-1 block font-medium text-xs\\\\\" htmlFor=\\\\\"room-id\\\\\">\\\\n              Room ID (share this to collaborate)\\\\n            </label>\\\\n            <div className=\\\\\"flex items-center gap-2\\\\\">\\\\n              <Input\\\\n                id=\\\\\"room-id\\\\\"\\\\n                className=\\\\\"h-[28px] bg-background px-1.5 py-1\\\\\"\\\\n                value={roomName}\\\\n                onChange={handleRoomChange}\\\\n                type=\\\\\"text\\\\\"\\\\n              />\\\\n              <Button\\\\n                size=\\\\\"icon\\\\\"\\\\n                variant=\\\\\"outline\\\\\"\\\\n                onClick={generateNewRoom}\\\\n                title=\\\\\"Generate new room\\\\\"\\\\n              >\\\\n                <RefreshCw className=\\\\\"h-4 w-4\\\\\" />\\\\n              </Button>\\\\n            </div>\\\\n          </div>\\\\n        </div>\\\\n        <p className=\\\\\"mt-2\\\\\">\\\\n          You can{' '}\\\\n          <a\\\\n            className=\\\\\"underline underline-offset-4 transition-colors hover:text-primary\\\\\"\\\\n            href={typeof window === 'undefined' ? '#' : window.location.href}\\\\n            rel=\\\\\"noopener noreferrer\\\\\"\\\\n            target=\\\\\"_blank\\\\\"\\\\n          >\\\\n            open this page in another tab\\\\n          </a>{' '}\\\\n          or share your Room ID with others to test real-time collaboration.\\\\n          Each instance will have a different cursor color for easy\\\\n          identification.\\\\n        </p>\\\\n        <div className=\\\\\"mt-2\\\\\">\\\\n          <strong>About this demo:</strong>\\\\n          <ul className=\\\\\"mt-1 list-inside list-disc\\\\\">\\\\n            <li>\\\\n              Share your Room ID with others to collaborate in the same document\\\\n            </li>\\\\n            <li>Limited to 10 concurrent participants per room</li>\\\\n            <li>\\\\n              Using WebRTC with public signaling servers - for demo purposes\\\\n              only\\\\n            </li>\\\\n          </ul>\\\\n        </div>\\\\n      </div>\\\\n\\\\n      <div className=\\\\\"flex-1 overflow-hidden border-t\\\\\">\\\\n        <Plate editor={editor}>\\\\n          <CollaborativeEditor cursorColor={cursorColor} username={username} />\\\\n        </Plate>\\\\n      </div>\\\\n    </div>\\\\n  );\\\\n}\\\\n\\\\nfunction CollaborativeEditor({\\\\n  cursorColor,\\\\n  username,\\\\n}: {\\\\n  cursorColor: string;\\\\n  username: string;\\\\n}): React.ReactNode {\\\\n  const editor = useEditorRef();\\\\n  const providers = usePluginOption(YjsPlugin, '_providers');\\\\n  const isConnected = usePluginOption(YjsPlugin, '_isConnected');\\\\n\\\\n  const toggleConnection = () => {\\\\n    if (editor.getOptions(YjsPlugin)._isConnected) {\\\\n      return editor.getApi(YjsPlugin).yjs.disconnect();\\\\n    }\\\\n\\\\n    editor.getApi(YjsPlugin).yjs.connect();\\\\n  };\\\\n\\\\n  return (\\\\n    <>\\\\n      <div className=\\\\\"bg-muted px-4 py-2 font-medium\\\\\">\\\\n        Connected as <span style={{ color: cursorColor }}>{username}</span>\\\\n        <div className=\\\\\"mt-1 flex items-center gap-2 text-xs\\\\\">\\\\n          {providers.map((provider) => (\\\\n            <span\\\\n              key={provider.type}\\\\n              className={\\`rounded px-2 py-0.5 \\${\\\\n                provider.isConnected\\\\n                  ? 'bg-green-100 text-green-800'\\\\n                  : 'bg-red-100 text-red-800'\\\\n              }\\`}\\\\n            >\\\\n              {provider.type.charAt(0).toUpperCase() + provider.type.slice(1)}:{' '}\\\\n              {provider.isConnected ? 'Connected' : 'Disconnected'}\\\\n            </span>\\\\n          ))}\\\\n          <Button\\\\n            size=\\\\\"sm\\\\\"\\\\n            variant=\\\\\"outline\\\\\"\\\\n            className=\\\\\"ml-auto\\\\\"\\\\n            onClick={toggleConnection}\\\\n          >\\\\n            {isConnected ? 'Disconnect' : 'Connect'}\\\\n          </Button>\\\\n        </div>\\\\n      </div>\\\\n\\\\n      <EditorContainer variant=\\\\\"demo\\\\\">\\\\n        <Editor autoFocus />\\\\n      </EditorContainer>\\\\n    </>\\\\n  );\\\\n}\\\\n\\\\n// Hook for managing room state\\\\nfunction useCollaborationRoom() {\\\\n  const [roomName, setRoomName] = React.useState(() => {\\\\n    if (typeof window === 'undefined') return '';\\\\n\\\\n    const storedRoomId = localStorage.getItem('demo-room-id');\\\\n    if (storedRoomId) return storedRoomId;\\\\n\\\\n    const newRoomId = nanoid();\\\\n    localStorage.setItem('demo-room-id', newRoomId);\\\\n    return newRoomId;\\\\n  });\\\\n\\\\n  const handleRoomChange = React.useCallback(\\\\n    (e: React.ChangeEvent<HTMLInputElement>) => {\\\\n      const newRoomId = e.target.value;\\\\n      localStorage.setItem('demo-room-id', newRoomId);\\\\n      setRoomName(newRoomId);\\\\n    },\\\\n    []\\\\n  );\\\\n\\\\n  const generateNewRoom = React.useCallback(() => {\\\\n    const newRoomId = nanoid();\\\\n    localStorage.setItem('demo-room-id', newRoomId);\\\\n    setRoomName(newRoomId);\\\\n  }, []);\\\\n\\\\n  return {\\\\n    generateNewRoom,\\\\n    roomName,\\\\n    handleRoomChange,\\\\n  };\\\\n}\\\\n\\\\n// Hook for managing user/cursor state\\\\nfunction useCollaborationUser() {\\\\n  const [username] = React.useState(\\\\n    () => \\`user-\\${Math.floor(Math.random() * 1000)}\\`\\\\n  );\\\\n  const [cursorColor] = React.useState(() => getRandomColor());\\\\n\\\\n  return {\\\\n    cursorColor,\\\\n    username,\\\\n  };\\\\n}\\\\n\\\\nconst getRandomColor = (): string => {\\\\n  const letters = '0123456789ABCDEF';\\\\n  let color = '#';\\\\n  for (let i = 0; i < 6; i++) {\\\\n    color += letters[Math.floor(Math.random() * 16)];\\\\n  }\\\\n  return color;\\\\n};\\\\n\",\"type\":\"registry:example\",\"target\":\"components/collaboration-demo.tsx\"},{\"path\":\"../hooks/use-mounted.ts\",\"type\":\"registry:hook\",\"target\":\"hooks/use-mounted.ts\"},{\"path\":\"../ui/remote-cursor-overlay.tsx\",\"type\":\"registry:ui\",\"target\":\"components/ui/remote-cursor-overlay.tsx\"}]}`,__highlightedFiles__:`[{\"path\":\"collaboration-demo.tsx\",\"content\":\"'use client';\\\\n\\\\nimport * as React from 'react';\\\\n\\\\nimport { YjsPlugin } from '@platejs/yjs/react';\\\\nimport { RefreshCw } from 'lucide-react';\\\\nimport { nanoid } from 'nanoid';\\\\nimport {\\\\n  Plate,\\\\n  useEditorRef,\\\\n  usePlateEditor,\\\\n  usePluginOption,\\\\n} from 'platejs/react';\\\\n\\\\nimport { Button } from '@/components/ui/button';\\\\nimport { Input } from '@/components/ui/input';\\\\nimport { EditorKit } from '@/components/editor/editor-kit';\\\\nimport { useMounted } from '@/hooks/use-mounted';\\\\nimport { Editor, EditorContainer } from '@/components/ui/editor';\\\\nimport { RemoteCursorOverlay } from '@/components/ui/remote-cursor-overlay';\\\\n\\\\nconst INITIAL_VALUE = [\\\\n  {\\\\n    children: [{ text: 'This is the initial content loaded into the Y.Doc.' }],\\\\n    type: 'p',\\\\n  },\\\\n];\\\\n\\\\nexport default function CollaborativeEditingDemo(): React.ReactNode {\\\\n  const mounted = useMounted();\\\\n  const { generateNewRoom, roomName, handleRoomChange } =\\\\n    useCollaborationRoom();\\\\n  const { cursorColor, username } = useCollaborationUser();\\\\n\\\\n  const editor = usePlateEditor(\\\\n    {\\\\n      plugins: [\\\\n        ...EditorKit,\\\\n        YjsPlugin.configure({\\\\n          options: {\\\\n            cursors: {\\\\n              data: { color: cursorColor, name: username },\\\\n            },\\\\n            providers: [\\\\n              {\\\\n                options: {\\\\n                  name: roomName,\\\\n                  url: 'ws://localhost:8888',\\\\n                },\\\\n                type: 'hocuspocus',\\\\n              },\\\\n              {\\\\n                options: {\\\\n                  maxConns: 9, // Limit to 10 total participants\\\\n                  roomName,\\\\n                  signaling: [\\\\n                    process.env.NODE_ENV === 'production'\\\\n                      ? // Use public signaling server just for demo purposes\\\\n                        'wss://signaling.yjs.dev'\\\\n                      : 'ws://localhost:4444',\\\\n                  ],\\\\n                },\\\\n                type: 'webrtc',\\\\n              },\\\\n            ],\\\\n          },\\\\n          render: {\\\\n            afterEditable: RemoteCursorOverlay,\\\\n          },\\\\n        }),\\\\n      ],\\\\n      skipInitialization: true,\\\\n    },\\\\n    [roomName]\\\\n  );\\\\n\\\\n  React.useEffect(() => {\\\\n    if (!mounted) return;\\\\n\\\\n    editor.getApi(YjsPlugin).yjs.init({\\\\n      id: roomName,\\\\n      autoSelect: 'end',\\\\n      value: INITIAL_VALUE,\\\\n    });\\\\n\\\\n    return () => {\\\\n      editor.getApi(YjsPlugin).yjs.destroy();\\\\n    };\\\\n    // eslint-disable-next-line react-hooks/exhaustive-deps\\\\n  }, [editor, mounted]);\\\\n\\\\n  return (\\\\n    <div className=\\\\\"flex flex-col\\\\\">\\\\n      <div className=\\\\\"rounded-md bg-muted p-4 text-muted-foreground text-sm\\\\\">\\\\n        <div className=\\\\\"flex items-center gap-2\\\\\">\\\\n          <div className=\\\\\"flex-1\\\\\">\\\\n            <label className=\\\\\"mb-1 block font-medium text-xs\\\\\" htmlFor=\\\\\"room-id\\\\\">\\\\n              Room ID (share this to collaborate)\\\\n            </label>\\\\n            <div className=\\\\\"flex items-center gap-2\\\\\">\\\\n              <Input\\\\n                id=\\\\\"room-id\\\\\"\\\\n                className=\\\\\"h-[28px] bg-background px-1.5 py-1\\\\\"\\\\n                value={roomName}\\\\n                onChange={handleRoomChange}\\\\n                type=\\\\\"text\\\\\"\\\\n              />\\\\n              <Button\\\\n                size=\\\\\"icon\\\\\"\\\\n                variant=\\\\\"outline\\\\\"\\\\n                onClick={generateNewRoom}\\\\n                title=\\\\\"Generate new room\\\\\"\\\\n              >\\\\n                <RefreshCw className=\\\\\"h-4 w-4\\\\\" />\\\\n              </Button>\\\\n            </div>\\\\n          </div>\\\\n        </div>\\\\n        <p className=\\\\\"mt-2\\\\\">\\\\n          You can{' '}\\\\n          <a\\\\n            className=\\\\\"underline underline-offset-4 transition-colors hover:text-primary\\\\\"\\\\n            href={typeof window === 'undefined' ? '#' : window.location.href}\\\\n            rel=\\\\\"noopener noreferrer\\\\\"\\\\n            target=\\\\\"_blank\\\\\"\\\\n          >\\\\n            open this page in another tab\\\\n          </a>{' '}\\\\n          or share your Room ID with others to test real-time collaboration.\\\\n          Each instance will have a different cursor color for easy\\\\n          identification.\\\\n        </p>\\\\n        <div className=\\\\\"mt-2\\\\\">\\\\n          <strong>About this demo:</strong>\\\\n          <ul className=\\\\\"mt-1 list-inside list-disc\\\\\">\\\\n            <li>\\\\n              Share your Room ID with others to collaborate in the same document\\\\n            </li>\\\\n            <li>Limited to 10 concurrent participants per room</li>\\\\n            <li>\\\\n              Using WebRTC with public signaling servers - for demo purposes\\\\n              only\\\\n            </li>\\\\n          </ul>\\\\n        </div>\\\\n      </div>\\\\n\\\\n      <div className=\\\\\"flex-1 overflow-hidden border-t\\\\\">\\\\n        <Plate editor={editor}>\\\\n          <CollaborativeEditor cursorColor={cursorColor} username={username} />\\\\n        </Plate>\\\\n      </div>\\\\n    </div>\\\\n  );\\\\n}\\\\n\\\\nfunction CollaborativeEditor({\\\\n  cursorColor,\\\\n  username,\\\\n}: {\\\\n  cursorColor: string;\\\\n  username: string;\\\\n}): React.ReactNode {\\\\n  const editor = useEditorRef();\\\\n  const providers = usePluginOption(YjsPlugin, '_providers');\\\\n  const isConnected = usePluginOption(YjsPlugin, '_isConnected');\\\\n\\\\n  const toggleConnection = () => {\\\\n    if (editor.getOptions(YjsPlugin)._isConnected) {\\\\n      return editor.getApi(YjsPlugin).yjs.disconnect();\\\\n    }\\\\n\\\\n    editor.getApi(YjsPlugin).yjs.connect();\\\\n  };\\\\n\\\\n  return (\\\\n    <>\\\\n      <div className=\\\\\"bg-muted px-4 py-2 font-medium\\\\\">\\\\n        Connected as <span style={{ color: cursorColor }}>{username}</span>\\\\n        <div className=\\\\\"mt-1 flex items-center gap-2 text-xs\\\\\">\\\\n          {providers.map((provider) => (\\\\n            <span\\\\n              key={provider.type}\\\\n              className={\\`rounded px-2 py-0.5 \\${\\\\n                provider.isConnected\\\\n                  ? 'bg-green-100 text-green-800'\\\\n                  : 'bg-red-100 text-red-800'\\\\n              }\\`}\\\\n            >\\\\n              {provider.type.charAt(0).toUpperCase() + provider.type.slice(1)}:{' '}\\\\n              {provider.isConnected ? 'Connected' : 'Disconnected'}\\\\n            </span>\\\\n          ))}\\\\n          <Button\\\\n            size=\\\\\"sm\\\\\"\\\\n            variant=\\\\\"outline\\\\\"\\\\n            className=\\\\\"ml-auto\\\\\"\\\\n            onClick={toggleConnection}\\\\n          >\\\\n            {isConnected ? 'Disconnect' : 'Connect'}\\\\n          </Button>\\\\n        </div>\\\\n      </div>\\\\n\\\\n      <EditorContainer variant=\\\\\"demo\\\\\">\\\\n        <Editor autoFocus />\\\\n      </EditorContainer>\\\\n    </>\\\\n  );\\\\n}\\\\n\\\\n// Hook for managing room state\\\\nfunction useCollaborationRoom() {\\\\n  const [roomName, setRoomName] = React.useState(() => {\\\\n    if (typeof window === 'undefined') return '';\\\\n\\\\n    const storedRoomId = localStorage.getItem('demo-room-id');\\\\n    if (storedRoomId) return storedRoomId;\\\\n\\\\n    const newRoomId = nanoid();\\\\n    localStorage.setItem('demo-room-id', newRoomId);\\\\n    return newRoomId;\\\\n  });\\\\n\\\\n  const handleRoomChange = React.useCallback(\\\\n    (e: React.ChangeEvent<HTMLInputElement>) => {\\\\n      const newRoomId = e.target.value;\\\\n      localStorage.setItem('demo-room-id', newRoomId);\\\\n      setRoomName(newRoomId);\\\\n    },\\\\n    []\\\\n  );\\\\n\\\\n  const generateNewRoom = React.useCallback(() => {\\\\n    const newRoomId = nanoid();\\\\n    localStorage.setItem('demo-room-id', newRoomId);\\\\n    setRoomName(newRoomId);\\\\n  }, []);\\\\n\\\\n  return {\\\\n    generateNewRoom,\\\\n    roomName,\\\\n    handleRoomChange,\\\\n  };\\\\n}\\\\n\\\\n// Hook for managing user/cursor state\\\\nfunction useCollaborationUser() {\\\\n  const [username] = React.useState(\\\\n    () => \\`user-\\${Math.floor(Math.random() * 1000)}\\`\\\\n  );\\\\n  const [cursorColor] = React.useState(() => getRandomColor());\\\\n\\\\n  return {\\\\n    cursorColor,\\\\n    username,\\\\n  };\\\\n}\\\\n\\\\nconst getRandomColor = (): string => {\\\\n  const letters = '0123456789ABCDEF';\\\\n  let color = '#';\\\\n  for (let i = 0; i < 6; i++) {\\\\n    color += letters[Math.floor(Math.random() * 16)];\\\\n  }\\\\n  return color;\\\\n};\\\\n\",\"type\":\"registry:example\",\"target\":\"components/collaboration-demo.tsx\",\"highlightedContent\":\"<pre class=\\\\\"shiki github-dark-default\\\\\" style=\\\\\"background-color:#0d1117;color:#e6edf3\\\\\" tabindex=\\\\\"0\\\\\"><code data-line-numbers=\\\\\"\\\\\"><span class=\\\\\"line\\\\\"><span style=\\\\\"color:#A5D6FF\\\\\">'use client'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#79C0FF\\\\\"> *</span><span style=\\\\\"color:#FF7B72\\\\\"> as</span><span style=\\\\\"color:#E6EDF3\\\\\"> React </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'react'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { YjsPlugin } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> '@platejs/yjs/react'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { RefreshCw } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'lucide-react'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { nanoid } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'nanoid'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  Plate,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  useEditorRef,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  usePlateEditor,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  usePluginOption,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">} </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'platejs/react'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { Button } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> '@/components/ui/button'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { Input } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> '@/components/ui/input'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { EditorKit } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> '@/components/editor/editor-kit'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { useMounted } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> '@/hooks/use-mounted'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { Editor, EditorContainer } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> '@/components/ui/editor'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { RemoteCursorOverlay } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> '@/components/ui/remote-cursor-overlay'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">const</span><span style=\\\\\"color:#79C0FF\\\\\"> INITIAL_VALUE</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#E6EDF3\\\\\"> [</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    children: [{ text: </span><span style=\\\\\"color:#A5D6FF\\\\\">'This is the initial content loaded into the Y.Doc.'</span><span style=\\\\\"color:#E6EDF3\\\\\"> }],</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    type: </span><span style=\\\\\"color:#A5D6FF\\\\\">'p'</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">];</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">export</span><span style=\\\\\"color:#FF7B72\\\\\"> default</span><span style=\\\\\"color:#FF7B72\\\\\"> function</span><span style=\\\\\"color:#D2A8FF\\\\\"> CollaborativeEditingDemo</span><span style=\\\\\"color:#FFA657\\\\\">()</span><span style=\\\\\"color:#FF7B72\\\\\">:</span><span style=\\\\\"color:#FFA657\\\\\"> React.ReactNode </span><span style=\\\\\"color:#E6EDF3\\\\\">{</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#79C0FF\\\\\"> mounted</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#D2A8FF\\\\\"> useMounted</span><span style=\\\\\"color:#E6EDF3\\\\\">();</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#E6EDF3\\\\\"> { </span><span style=\\\\\"color:#79C0FF\\\\\">generateNewRoom</span><span style=\\\\\"color:#E6EDF3\\\\\">, </span><span style=\\\\\"color:#79C0FF\\\\\">roomName</span><span style=\\\\\"color:#E6EDF3\\\\\">, </span><span style=\\\\\"color:#79C0FF\\\\\">handleRoomChange</span><span style=\\\\\"color:#E6EDF3\\\\\"> } </span><span style=\\\\\"color:#FF7B72\\\\\">=</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#D2A8FF\\\\\">    useCollaborationRoom</span><span style=\\\\\"color:#E6EDF3\\\\\">();</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#E6EDF3\\\\\"> { </span><span style=\\\\\"color:#79C0FF\\\\\">cursorColor</span><span style=\\\\\"color:#E6EDF3\\\\\">, </span><span style=\\\\\"color:#79C0FF\\\\\">username</span><span style=\\\\\"color:#E6EDF3\\\\\"> } </span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#D2A8FF\\\\\"> useCollaborationUser</span><span style=\\\\\"color:#E6EDF3\\\\\">();</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#79C0FF\\\\\"> editor</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#D2A8FF\\\\\"> usePlateEditor</span><span style=\\\\\"color:#E6EDF3\\\\\">(</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      plugins: [</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">        ...</span><span style=\\\\\"color:#E6EDF3\\\\\">EditorKit,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        YjsPlugin.</span><span style=\\\\\"color:#D2A8FF\\\\\">configure</span><span style=\\\\\"color:#E6EDF3\\\\\">({</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          options: {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            cursors: {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              data: { color: cursorColor, name: username },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            providers: [</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                options: {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                  name: roomName,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                  url: </span><span style=\\\\\"color:#A5D6FF\\\\\">'ws://localhost:8888'</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                type: </span><span style=\\\\\"color:#A5D6FF\\\\\">'hocuspocus'</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                options: {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                  maxConns: </span><span style=\\\\\"color:#79C0FF\\\\\">9</span><span style=\\\\\"color:#E6EDF3\\\\\">, </span><span style=\\\\\"color:#8B949E\\\\\">// Limit to 10 total participants</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                  roomName,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                  signaling: [</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                    process.env.</span><span style=\\\\\"color:#79C0FF\\\\\">NODE_ENV</span><span style=\\\\\"color:#FF7B72\\\\\"> ===</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'production'</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">                      ?</span><span style=\\\\\"color:#8B949E\\\\\"> // Use public signaling server just for demo purposes</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#A5D6FF\\\\\">                        'wss://signaling.yjs.dev'</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">                      :</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'ws://localhost:4444'</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                  ],</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                type: </span><span style=\\\\\"color:#A5D6FF\\\\\">'webrtc'</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            ],</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          render: {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            afterEditable: RemoteCursorOverlay,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        }),</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      ],</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      skipInitialization: </span><span style=\\\\\"color:#79C0FF\\\\\">true</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    [roomName]</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  );</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  React.</span><span style=\\\\\"color:#D2A8FF\\\\\">useEffect</span><span style=\\\\\"color:#E6EDF3\\\\\">(() </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">    if</span><span style=\\\\\"color:#E6EDF3\\\\\"> (</span><span style=\\\\\"color:#FF7B72\\\\\">!</span><span style=\\\\\"color:#E6EDF3\\\\\">mounted) </span><span style=\\\\\"color:#FF7B72\\\\\">return</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    editor.</span><span style=\\\\\"color:#D2A8FF\\\\\">getApi</span><span style=\\\\\"color:#E6EDF3\\\\\">(YjsPlugin).yjs.</span><span style=\\\\\"color:#D2A8FF\\\\\">init</span><span style=\\\\\"color:#E6EDF3\\\\\">({</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      id: roomName,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      autoSelect: </span><span style=\\\\\"color:#A5D6FF\\\\\">'end'</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      value: </span><span style=\\\\\"color:#79C0FF\\\\\">INITIAL_VALUE</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    });</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">    return</span><span style=\\\\\"color:#E6EDF3\\\\\"> () </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      editor.</span><span style=\\\\\"color:#D2A8FF\\\\\">getApi</span><span style=\\\\\"color:#E6EDF3\\\\\">(YjsPlugin).yjs.</span><span style=\\\\\"color:#D2A8FF\\\\\">destroy</span><span style=\\\\\"color:#E6EDF3\\\\\">();</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    };</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#8B949E\\\\\">    // eslint-disable-next-line react-hooks/exhaustive-deps</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  }, [editor, mounted]);</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  return</span><span style=\\\\\"color:#E6EDF3\\\\\"> (</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"flex flex-col\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"rounded-md bg-muted p-4 text-muted-foreground text-sm\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"flex items-center gap-2\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"flex-1\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">label</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"mb-1 block font-medium text-xs\\\\\"</span><span style=\\\\\"color:#79C0FF\\\\\"> htmlFor</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"room-id\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              Room ID (share this to collaborate)</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">label</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"flex items-center gap-2\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">Input</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">                id</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"room-id\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">                className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"h-[28px] bg-background px-1.5 py-1\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">                value</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">roomName</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">                onChange</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">handleRoomChange</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">                type</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"text\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              /></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">Button</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">                size</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"icon\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">                variant</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"outline\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">                onClick</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">generateNewRoom</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">                title</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"Generate new room\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              ></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">RefreshCw</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"h-4 w-4\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\"> /></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">Button</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">p</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"mt-2\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          You can</span><span style=\\\\\"color:#FF7B72\\\\\">{</span><span style=\\\\\"color:#A5D6FF\\\\\">' '</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">a</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">            className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"underline underline-offset-4 transition-colors hover:text-primary\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">            href</span><span style=\\\\\"color:#FF7B72\\\\\">={typeof</span><span style=\\\\\"color:#E6EDF3\\\\\"> window </span><span style=\\\\\"color:#FF7B72\\\\\">===</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'undefined'</span><span style=\\\\\"color:#FF7B72\\\\\"> ?</span><span style=\\\\\"color:#A5D6FF\\\\\"> '#'</span><span style=\\\\\"color:#FF7B72\\\\\"> :</span><span style=\\\\\"color:#E6EDF3\\\\\"> window.location.href</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">            rel</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"noopener noreferrer\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">            target</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"_blank\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          ></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            open this page in another tab</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">a</span><span style=\\\\\"color:#E6EDF3\\\\\">></span><span style=\\\\\"color:#FF7B72\\\\\">{</span><span style=\\\\\"color:#A5D6FF\\\\\">' '</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          or share your Room ID with others to test real-time collaboration.</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          Each instance will have a different cursor color for easy</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          identification.</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">p</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"mt-2\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">strong</span><span style=\\\\\"color:#E6EDF3\\\\\">>About this demo:&#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">strong</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">ul</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"mt-1 list-inside list-disc\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">li</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              Share your Room ID with others to collaborate in the same document</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">li</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">li</span><span style=\\\\\"color:#E6EDF3\\\\\">>Limited to 10 concurrent participants per room&#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">li</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">li</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              Using WebRTC with public signaling servers - for demo purposes</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              only</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">li</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">ul</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"flex-1 overflow-hidden border-t\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">Plate</span><span style=\\\\\"color:#79C0FF\\\\\"> editor</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">editor</span><span style=\\\\\"color:#FF7B72\\\\\">}</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">CollaborativeEditor</span><span style=\\\\\"color:#79C0FF\\\\\"> cursorColor</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">cursorColor</span><span style=\\\\\"color:#FF7B72\\\\\">}</span><span style=\\\\\"color:#79C0FF\\\\\"> username</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">username</span><span style=\\\\\"color:#FF7B72\\\\\">}</span><span style=\\\\\"color:#E6EDF3\\\\\"> /></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">Plate</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  );</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">function</span><span style=\\\\\"color:#D2A8FF\\\\\"> CollaborativeEditor</span><span style=\\\\\"color:#E6EDF3\\\\\">({</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FFA657\\\\\">  cursorColor</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FFA657\\\\\">  username</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">}</span><span style=\\\\\"color:#FF7B72\\\\\">:</span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FFA657\\\\\">  cursorColor</span><span style=\\\\\"color:#FF7B72\\\\\">:</span><span style=\\\\\"color:#79C0FF\\\\\"> string</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FFA657\\\\\">  username</span><span style=\\\\\"color:#FF7B72\\\\\">:</span><span style=\\\\\"color:#79C0FF\\\\\"> string</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">})</span><span style=\\\\\"color:#FF7B72\\\\\">:</span><span style=\\\\\"color:#FFA657\\\\\"> React</span><span style=\\\\\"color:#E6EDF3\\\\\">.</span><span style=\\\\\"color:#FFA657\\\\\">ReactNode</span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#79C0FF\\\\\"> editor</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#D2A8FF\\\\\"> useEditorRef</span><span style=\\\\\"color:#E6EDF3\\\\\">();</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#79C0FF\\\\\"> providers</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#D2A8FF\\\\\"> usePluginOption</span><span style=\\\\\"color:#E6EDF3\\\\\">(YjsPlugin, </span><span style=\\\\\"color:#A5D6FF\\\\\">'_providers'</span><span style=\\\\\"color:#E6EDF3\\\\\">);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#79C0FF\\\\\"> isConnected</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#D2A8FF\\\\\"> usePluginOption</span><span style=\\\\\"color:#E6EDF3\\\\\">(YjsPlugin, </span><span style=\\\\\"color:#A5D6FF\\\\\">'_isConnected'</span><span style=\\\\\"color:#E6EDF3\\\\\">);</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#D2A8FF\\\\\"> toggleConnection</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#E6EDF3\\\\\"> () </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">    if</span><span style=\\\\\"color:#E6EDF3\\\\\"> (editor.</span><span style=\\\\\"color:#D2A8FF\\\\\">getOptions</span><span style=\\\\\"color:#E6EDF3\\\\\">(YjsPlugin)._isConnected) {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">      return</span><span style=\\\\\"color:#E6EDF3\\\\\"> editor.</span><span style=\\\\\"color:#D2A8FF\\\\\">getApi</span><span style=\\\\\"color:#E6EDF3\\\\\">(YjsPlugin).yjs.</span><span style=\\\\\"color:#D2A8FF\\\\\">disconnect</span><span style=\\\\\"color:#E6EDF3\\\\\">();</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    }</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    editor.</span><span style=\\\\\"color:#D2A8FF\\\\\">getApi</span><span style=\\\\\"color:#E6EDF3\\\\\">(YjsPlugin).yjs.</span><span style=\\\\\"color:#D2A8FF\\\\\">connect</span><span style=\\\\\"color:#E6EDF3\\\\\">();</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  };</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  return</span><span style=\\\\\"color:#E6EDF3\\\\\"> (</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    &#x3C;></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"bg-muted px-4 py-2 font-medium\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        Connected as &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">span</span><span style=\\\\\"color:#79C0FF\\\\\"> style</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">{ color: cursorColor }</span><span style=\\\\\"color:#FF7B72\\\\\">}</span><span style=\\\\\"color:#E6EDF3\\\\\">></span><span style=\\\\\"color:#FF7B72\\\\\">{</span><span style=\\\\\"color:#E6EDF3\\\\\">username</span><span style=\\\\\"color:#FF7B72\\\\\">}</span><span style=\\\\\"color:#E6EDF3\\\\\">&#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">span</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"mt-1 flex items-center gap-2 text-xs\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">          {</span><span style=\\\\\"color:#E6EDF3\\\\\">providers.</span><span style=\\\\\"color:#D2A8FF\\\\\">map</span><span style=\\\\\"color:#E6EDF3\\\\\">((</span><span style=\\\\\"color:#FFA657\\\\\">provider</span><span style=\\\\\"color:#E6EDF3\\\\\">) </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> (</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">span</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">              key</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">provider.type</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">              className</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#A5D6FF\\\\\">\\`rounded px-2 py-0.5 \\${</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                provider</span><span style=\\\\\"color:#A5D6FF\\\\\">.</span><span style=\\\\\"color:#E6EDF3\\\\\">isConnected</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">                  ?</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'bg-green-100 text-green-800'</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">                  :</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'bg-red-100 text-red-800'</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#A5D6FF\\\\\">              }\\`</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            ></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">              {</span><span style=\\\\\"color:#E6EDF3\\\\\">provider.type.</span><span style=\\\\\"color:#D2A8FF\\\\\">charAt</span><span style=\\\\\"color:#E6EDF3\\\\\">(</span><span style=\\\\\"color:#79C0FF\\\\\">0</span><span style=\\\\\"color:#E6EDF3\\\\\">).</span><span style=\\\\\"color:#D2A8FF\\\\\">toUpperCase</span><span style=\\\\\"color:#E6EDF3\\\\\">() </span><span style=\\\\\"color:#FF7B72\\\\\">+</span><span style=\\\\\"color:#E6EDF3\\\\\"> provider.type.</span><span style=\\\\\"color:#D2A8FF\\\\\">slice</span><span style=\\\\\"color:#E6EDF3\\\\\">(</span><span style=\\\\\"color:#79C0FF\\\\\">1</span><span style=\\\\\"color:#E6EDF3\\\\\">)</span><span style=\\\\\"color:#FF7B72\\\\\">}</span><span style=\\\\\"color:#E6EDF3\\\\\">:</span><span style=\\\\\"color:#FF7B72\\\\\">{</span><span style=\\\\\"color:#A5D6FF\\\\\">' '</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">              {</span><span style=\\\\\"color:#E6EDF3\\\\\">provider.isConnected </span><span style=\\\\\"color:#FF7B72\\\\\">?</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'Connected'</span><span style=\\\\\"color:#FF7B72\\\\\"> :</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'Disconnected'</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">span</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          ))</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">Button</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">            size</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"sm\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">            variant</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"outline\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">            className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"ml-auto\\\\\"</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">            onClick</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">toggleConnection</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          ></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">            {</span><span style=\\\\\"color:#E6EDF3\\\\\">isConnected </span><span style=\\\\\"color:#FF7B72\\\\\">?</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'Disconnect'</span><span style=\\\\\"color:#FF7B72\\\\\"> :</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'Connect'</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">Button</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">EditorContainer</span><span style=\\\\\"color:#79C0FF\\\\\"> variant</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"demo\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">Editor</span><span style=\\\\\"color:#79C0FF\\\\\"> autoFocus</span><span style=\\\\\"color:#E6EDF3\\\\\"> /></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">EditorContainer</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    &#x3C;/></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  );</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#8B949E\\\\\">// Hook for managing room state</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">function</span><span style=\\\\\"color:#D2A8FF\\\\\"> useCollaborationRoom</span><span style=\\\\\"color:#E6EDF3\\\\\">() {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#E6EDF3\\\\\"> [</span><span style=\\\\\"color:#79C0FF\\\\\">roomName</span><span style=\\\\\"color:#E6EDF3\\\\\">, </span><span style=\\\\\"color:#79C0FF\\\\\">setRoomName</span><span style=\\\\\"color:#E6EDF3\\\\\">] </span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#E6EDF3\\\\\"> React.</span><span style=\\\\\"color:#D2A8FF\\\\\">useState</span><span style=\\\\\"color:#E6EDF3\\\\\">(() </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">    if</span><span style=\\\\\"color:#E6EDF3\\\\\"> (</span><span style=\\\\\"color:#FF7B72\\\\\">typeof</span><span style=\\\\\"color:#E6EDF3\\\\\"> window </span><span style=\\\\\"color:#FF7B72\\\\\">===</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'undefined'</span><span style=\\\\\"color:#E6EDF3\\\\\">) </span><span style=\\\\\"color:#FF7B72\\\\\">return</span><span style=\\\\\"color:#A5D6FF\\\\\"> ''</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">    const</span><span style=\\\\\"color:#79C0FF\\\\\"> storedRoomId</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#E6EDF3\\\\\"> localStorage.</span><span style=\\\\\"color:#D2A8FF\\\\\">getItem</span><span style=\\\\\"color:#E6EDF3\\\\\">(</span><span style=\\\\\"color:#A5D6FF\\\\\">'demo-room-id'</span><span style=\\\\\"color:#E6EDF3\\\\\">);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">    if</span><span style=\\\\\"color:#E6EDF3\\\\\"> (storedRoomId) </span><span style=\\\\\"color:#FF7B72\\\\\">return</span><span style=\\\\\"color:#E6EDF3\\\\\"> storedRoomId;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">    const</span><span style=\\\\\"color:#79C0FF\\\\\"> newRoomId</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#D2A8FF\\\\\"> nanoid</span><span style=\\\\\"color:#E6EDF3\\\\\">();</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    localStorage.</span><span style=\\\\\"color:#D2A8FF\\\\\">setItem</span><span style=\\\\\"color:#E6EDF3\\\\\">(</span><span style=\\\\\"color:#A5D6FF\\\\\">'demo-room-id'</span><span style=\\\\\"color:#E6EDF3\\\\\">, newRoomId);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">    return</span><span style=\\\\\"color:#E6EDF3\\\\\"> newRoomId;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  });</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#79C0FF\\\\\"> handleRoomChange</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#E6EDF3\\\\\"> React.</span><span style=\\\\\"color:#D2A8FF\\\\\">useCallback</span><span style=\\\\\"color:#E6EDF3\\\\\">(</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    (</span><span style=\\\\\"color:#FFA657\\\\\">e</span><span style=\\\\\"color:#FF7B72\\\\\">:</span><span style=\\\\\"color:#FFA657\\\\\"> React</span><span style=\\\\\"color:#E6EDF3\\\\\">.</span><span style=\\\\\"color:#FFA657\\\\\">ChangeEvent</span><span style=\\\\\"color:#E6EDF3\\\\\">&#x3C;</span><span style=\\\\\"color:#FFA657\\\\\">HTMLInputElement</span><span style=\\\\\"color:#E6EDF3\\\\\">>) </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">      const</span><span style=\\\\\"color:#79C0FF\\\\\"> newRoomId</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#E6EDF3\\\\\"> e.target.value;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      localStorage.</span><span style=\\\\\"color:#D2A8FF\\\\\">setItem</span><span style=\\\\\"color:#E6EDF3\\\\\">(</span><span style=\\\\\"color:#A5D6FF\\\\\">'demo-room-id'</span><span style=\\\\\"color:#E6EDF3\\\\\">, newRoomId);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#D2A8FF\\\\\">      setRoomName</span><span style=\\\\\"color:#E6EDF3\\\\\">(newRoomId);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    []</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  );</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#79C0FF\\\\\"> generateNewRoom</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#E6EDF3\\\\\"> React.</span><span style=\\\\\"color:#D2A8FF\\\\\">useCallback</span><span style=\\\\\"color:#E6EDF3\\\\\">(() </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">    const</span><span style=\\\\\"color:#79C0FF\\\\\"> newRoomId</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#D2A8FF\\\\\"> nanoid</span><span style=\\\\\"color:#E6EDF3\\\\\">();</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    localStorage.</span><span style=\\\\\"color:#D2A8FF\\\\\">setItem</span><span style=\\\\\"color:#E6EDF3\\\\\">(</span><span style=\\\\\"color:#A5D6FF\\\\\">'demo-room-id'</span><span style=\\\\\"color:#E6EDF3\\\\\">, newRoomId);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#D2A8FF\\\\\">    setRoomName</span><span style=\\\\\"color:#E6EDF3\\\\\">(newRoomId);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  }, []);</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  return</span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    generateNewRoom,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    roomName,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    handleRoomChange,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  };</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#8B949E\\\\\">// Hook for managing user/cursor state</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">function</span><span style=\\\\\"color:#D2A8FF\\\\\"> useCollaborationUser</span><span style=\\\\\"color:#E6EDF3\\\\\">() {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#E6EDF3\\\\\"> [</span><span style=\\\\\"color:#79C0FF\\\\\">username</span><span style=\\\\\"color:#E6EDF3\\\\\">] </span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#E6EDF3\\\\\"> React.</span><span style=\\\\\"color:#D2A8FF\\\\\">useState</span><span style=\\\\\"color:#E6EDF3\\\\\">(</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    () </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#A5D6FF\\\\\"> \\`user-\\${</span><span style=\\\\\"color:#E6EDF3\\\\\">Math</span><span style=\\\\\"color:#A5D6FF\\\\\">.</span><span style=\\\\\"color:#D2A8FF\\\\\">floor</span><span style=\\\\\"color:#A5D6FF\\\\\">(</span><span style=\\\\\"color:#E6EDF3\\\\\">Math</span><span style=\\\\\"color:#A5D6FF\\\\\">.</span><span style=\\\\\"color:#D2A8FF\\\\\">random</span><span style=\\\\\"color:#A5D6FF\\\\\">() </span><span style=\\\\\"color:#FF7B72\\\\\">*</span><span style=\\\\\"color:#79C0FF\\\\\"> 1000</span><span style=\\\\\"color:#A5D6FF\\\\\">)</span><span style=\\\\\"color:#A5D6FF\\\\\">}\\`</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  );</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#E6EDF3\\\\\"> [</span><span style=\\\\\"color:#79C0FF\\\\\">cursorColor</span><span style=\\\\\"color:#E6EDF3\\\\\">] </span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#E6EDF3\\\\\"> React.</span><span style=\\\\\"color:#D2A8FF\\\\\">useState</span><span style=\\\\\"color:#E6EDF3\\\\\">(() </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#D2A8FF\\\\\"> getRandomColor</span><span style=\\\\\"color:#E6EDF3\\\\\">());</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  return</span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    cursorColor,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    username,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  };</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">const</span><span style=\\\\\"color:#D2A8FF\\\\\"> getRandomColor</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#E6EDF3\\\\\"> ()</span><span style=\\\\\"color:#FF7B72\\\\\">:</span><span style=\\\\\"color:#79C0FF\\\\\"> string</span><span style=\\\\\"color:#FF7B72\\\\\"> =></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#79C0FF\\\\\"> letters</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#A5D6FF\\\\\"> '0123456789ABCDEF'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  let</span><span style=\\\\\"color:#E6EDF3\\\\\"> color </span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\"> '#'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  for</span><span style=\\\\\"color:#E6EDF3\\\\\"> (</span><span style=\\\\\"color:#FF7B72\\\\\">let</span><span style=\\\\\"color:#E6EDF3\\\\\"> i </span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#79C0FF\\\\\"> 0</span><span style=\\\\\"color:#E6EDF3\\\\\">; i </span><span style=\\\\\"color:#FF7B72\\\\\">&#x3C;</span><span style=\\\\\"color:#79C0FF\\\\\"> 6</span><span style=\\\\\"color:#E6EDF3\\\\\">; i</span><span style=\\\\\"color:#FF7B72\\\\\">++</span><span style=\\\\\"color:#E6EDF3\\\\\">) {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    color </span><span style=\\\\\"color:#FF7B72\\\\\">+=</span><span style=\\\\\"color:#E6EDF3\\\\\"> letters[Math.</span><span style=\\\\\"color:#D2A8FF\\\\\">floor</span><span style=\\\\\"color:#E6EDF3\\\\\">(Math.</span><span style=\\\\\"color:#D2A8FF\\\\\">random</span><span style=\\\\\"color:#E6EDF3\\\\\">() </span><span style=\\\\\"color:#FF7B72\\\\\">*</span><span style=\\\\\"color:#79C0FF\\\\\"> 16</span><span style=\\\\\"color:#E6EDF3\\\\\">)];</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  }</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  return</span><span style=\\\\\"color:#E6EDF3\\\\\"> color;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">};</span></span>\\\\n<span class=\\\\\"line\\\\\"></span></code></pre>\"},{\"path\":\"../hooks/use-mounted.ts\",\"type\":\"registry:hook\",\"target\":\"hooks/use-mounted.ts\",\"highlightedContent\":\"<pre class=\\\\\"shiki github-dark-default\\\\\" style=\\\\\"background-color:#0d1117;color:#e6edf3\\\\\" tabindex=\\\\\"0\\\\\"><code data-line-numbers=\\\\\"\\\\\"><span class=\\\\\"line\\\\\"></span></code></pre>\"},{\"path\":\"../ui/remote-cursor-overlay.tsx\",\"type\":\"registry:ui\",\"target\":\"components/ui/remote-cursor-overlay.tsx\",\"highlightedContent\":\"<pre class=\\\\\"shiki github-dark-default\\\\\" style=\\\\\"background-color:#0d1117;color:#e6edf3\\\\\" tabindex=\\\\\"0\\\\\"><code data-line-numbers=\\\\\"\\\\\"><span class=\\\\\"line\\\\\"></span></code></pre>\"}]`,__tree__:'[{\"children\":[{\"name\":\"collaboration-demo.tsx\",\"path\":\"components/collaboration-demo.tsx\"},{\"children\":[{\"name\":\"remote-cursor-overlay.tsx\",\"path\":\"components/ui/remote-cursor-overlay.tsx\"}],\"name\":\"ui\"}],\"name\":\"components\"},{\"children\":[{\"name\":\"use-mounted.ts\",\"path\":\"hooks/use-mounted.ts\"}],\"name\":\"hooks\"}]'}),`\n`,(0,n.jsxs)(y,{children:[(0,n.jsxs)(s.h2,{id:\"features\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#features\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Features\"]}),(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:\"Multi-Provider Support:\"}),\" Enables real-time collaboration using \",(0,n.jsx)(s.a,{href:\"https://github.com/yjs/yjs\",children:\"Yjs\"}),\" and \",(0,n.jsx)(s.a,{href:\"https://docs.slate-yjs.dev/\",children:\"slate-yjs\"}),\". Supports multiple synchronization providers simultaneously (e.g., Hocuspocus + WebRTC) working on a shared \",(0,n.jsx)(s.code,{children:\"Y.Doc\"}),\".\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:\"Built-in Providers:\"}),\" Includes support for \",(0,n.jsx)(s.a,{href:\"https://tiptap.dev/hocuspocus\",children:\"Hocuspocus\"}),\" (server-based) and \",(0,n.jsx)(s.a,{href:\"https://github.com/yjs/y-webrtc\",children:\"WebRTC\"}),\" (peer-to-peer) providers out-of-the-box.\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:\"Custom Providers:\"}),\" Extensible architecture allows adding custom providers (e.g., for offline storage like IndexedDB) by implementing the \",(0,n.jsx)(s.code,{children:\"UnifiedProvider\"}),\" interface.\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:\"Awareness & Cursors:\"}),\" Integrates Yjs Awareness protocol for sharing cursor locations and other ephemeral state between users. Includes \",(0,n.jsx)(s.a,{href:\"/docs/components/remote-cursor-overlay\",children:(0,n.jsx)(s.code,{children:\"RemoteCursorOverlay\"})}),\" for rendering remote cursors.\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:\"Customizable Cursors:\"}),\" Cursor appearance (name, color) can be customized via \",(0,n.jsx)(s.code,{children:\"cursors\"}),\".\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:\"Manual Lifecycle:\"}),\" Provides explicit \",(0,n.jsx)(s.code,{children:\"init\"}),\" and \",(0,n.jsx)(s.code,{children:\"destroy\"}),\" methods for managing the Yjs connection lifecycle.\"]}),`\n`]})]}),`\n`,(0,n.jsxs)(s.h2,{id:\"usage\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#usage\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Usage\"]}),`\n`,(0,n.jsxs)(h,{children:[(0,n.jsxs)(s.h3,{id:\"installation\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#installation\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Installation\"]}),(0,n.jsx)(s.p,{children:\"Install the core Yjs plugin and the specific provider packages you intend to use:\"}),(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",__rawString__:`npm install @platejs/yjs\n`,__npmCommand__:`npm install @platejs/yjs\n`,__yarnCommand__:`yarn add @platejs/yjs\n`,__pnpmCommand__:`pnpm add @platejs/yjs\n`,__bunCommand__:`bun add @platejs/yjs\n`,children:(0,n.jsx)(s.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" @platejs/yjs\"})]})})})}),(0,n.jsx)(s.p,{children:\"For Hocuspocus server-based collaboration:\"}),(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",__rawString__:`npm install @hocuspocus/provider\n`,__npmCommand__:`npm install @hocuspocus/provider\n`,__yarnCommand__:`yarn add @hocuspocus/provider\n`,__pnpmCommand__:`pnpm add @hocuspocus/provider\n`,__bunCommand__:`bun add @hocuspocus/provider\n`,children:(0,n.jsx)(s.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" @hocuspocus/provider\"})]})})})}),(0,n.jsx)(s.p,{children:\"For WebRTC peer-to-peer collaboration:\"}),(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",__rawString__:`npm install y-webrtc\n`,__npmCommand__:`npm install y-webrtc\n`,__yarnCommand__:`yarn add y-webrtc\n`,__pnpmCommand__:`pnpm add y-webrtc\n`,__bunCommand__:`bun add y-webrtc\n`,children:(0,n.jsx)(s.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" y-webrtc\"})]})})})}),(0,n.jsxs)(s.h3,{id:\"add-plugin\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#add-plugin\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Add Plugin\"]}),(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`import { YjsPlugin } from '@platejs/yjs/react';\nimport { createPlateEditor } from 'platejs/react';\n\nconst editor = createPlateEditor({\n  plugins: [\n    // ...otherPlugins,\n    YjsPlugin,\n  ],\n  // Important: Skip Plate's default initialization when using Yjs\n  skipInitialization: true,\n});\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" { YjsPlugin } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" '@platejs/yjs/react'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" { createPlateEditor } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'platejs/react'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" editor\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" createPlateEditor\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  plugins: [\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"    // ...otherPlugins,\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    YjsPlugin,\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  ],\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"  // Important: Skip Plate's default initialization when using Yjs\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  skipInitialization: \"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),(0,n.jsx)(t,{type:\"warning\",title:\"Required Editor Configuration\",children:(0,n.jsxs)(s.p,{children:[\"It's crucial to set \",(0,n.jsx)(s.code,{children:\"skipInitialization: true\"}),\" when creating the editor. Yjs manages the initial document state, so Plate's default value initialization should be skipped to avoid conflicts.\"]})}),(0,n.jsxs)(s.h3,{id:\"configure-yjsplugin\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#configure-yjsplugin\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Configure YjsPlugin\"]}),(0,n.jsx)(s.p,{children:\"Configure the plugin with providers and cursor settings:\"}),(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`import { YjsPlugin } from '@platejs/yjs/react';\nimport { createPlateEditor } from 'platejs/react';\nimport { RemoteCursorOverlay } from '@/components/ui/remote-cursor-overlay';\n\nconst editor = createPlateEditor({\n  plugins: [\n    // ...otherPlugins,\n    YjsPlugin.configure({\n      render: {\n        afterEditable: RemoteCursorOverlay,\n      },\n      options: {\n        // Configure local user cursor appearance\n        cursors: {\n          data: {\n            name: 'User Name', // Replace with dynamic user name\n            color: '#aabbcc', // Replace with dynamic user color\n          },\n        },\n        // Configure providers. All providers share the same Y.Doc and Awareness instance.\n        providers: [\n          // Example: Hocuspocus provider\n          {\n            type: 'hocuspocus',\n            options: {\n              name: 'my-document-id', // Unique identifier for the document\n              url: 'ws://localhost:8888', // Your Hocuspocus server URL\n            },\n          },\n          // Example: WebRTC provider (can be used alongside Hocuspocus)\n          {\n            type: 'webrtc',\n            options: {\n              roomName: 'my-document-id', // Must match the document identifier\n              signaling: ['ws://localhost:4444'], // Optional: Your signaling server URLs\n            },\n          },\n        ],\n      },\n    }),\n  ],\n  skipInitialization: true,\n});\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" { YjsPlugin } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" '@platejs/yjs/react'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" { createPlateEditor } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'platejs/react'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" { RemoteCursorOverlay } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" '@/components/ui/remote-cursor-overlay'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" editor\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" createPlateEditor\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  plugins: [\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"    // ...otherPlugins,\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    YjsPlugin.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"configure\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      render: {\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        afterEditable: RemoteCursorOverlay,\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      options: {\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"        // Configure local user cursor appearance\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        cursors: {\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          data: {\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            name: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'User Name'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Replace with dynamic user name\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            color: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'#aabbcc'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Replace with dynamic user color\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"        // Configure providers. All providers share the same Y.Doc and Awareness instance.\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        providers: [\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"          // Example: Hocuspocus provider\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          {\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            type: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'hocuspocus'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            options: {\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"              name: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'my-document-id'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Unique identifier for the document\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"              url: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'ws://localhost:8888'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Your Hocuspocus server URL\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"          // Example: WebRTC provider (can be used alongside Hocuspocus)\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          {\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            type: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'webrtc'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            options: {\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"              roomName: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'my-document-id'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Must match the document identifier\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"              signaling: [\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'ws://localhost:4444'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"], \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Optional: Your signaling server URLs\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        ],\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    }),\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  ],\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  skipInitialization: \"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:\"render.afterEditable\"}),\": Assigns \",(0,n.jsx)(s.a,{href:\"/docs/components/remote-cursor-overlay\",children:(0,n.jsx)(s.code,{children:\"RemoteCursorOverlay\"})}),\" to render remote user cursors.\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:\"cursors.data\"}),\": Configures the local user's cursor appearance with name and color.\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:\"providers\"}),\": Array of collaboration providers to use (Hocuspocus, WebRTC, or custom providers).\"]}),`\n`]}),(0,n.jsxs)(s.h3,{id:\"add-editor-container\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#add-editor-container\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Add Editor Container\"]}),(0,n.jsxs)(s.p,{children:[\"The \",(0,n.jsx)(s.code,{children:\"RemoteCursorOverlay\"}),\" requires a positioned container around the editor content. Use \",(0,n.jsx)(s.a,{href:\"/docs/components/editor\",children:(0,n.jsx)(s.code,{children:\"EditorContainer\"})}),\" component or \",(0,n.jsx)(s.code,{children:\"PlateContainer\"}),\" from \",(0,n.jsx)(s.code,{children:\"platejs/react\"}),\":\"]}),(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`import { Plate } from 'platejs/react';\nimport { EditorContainer } from '@/components/ui/editor';\n\nreturn (\n  <Plate editor={editor}>\n    <EditorContainer>\n      <Editor />\n    </EditorContainer>\n  </Plate>\n);\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" { Plate } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'platejs/react'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" { EditorContainer } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" '@/components/ui/editor'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" editor\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"{editor}>\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"EditorContainer\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"Editor\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"EditorContainer\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  </\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})}),(0,n.jsxs)(s.h3,{id:\"initialize-yjs-connection\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#initialize-yjs-connection\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Initialize Yjs Connection\"]}),(0,n.jsxs)(s.p,{children:[\"Yjs connection and state initialization are handled manually, typically within a \",(0,n.jsx)(s.code,{children:\"useEffect\"}),\" hook:\"]}),(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`import React, { useEffect } from 'react';\nimport { YjsPlugin } from '@platejs/yjs/react';\nimport { useMounted } from '@/hooks/use-mounted'; // Or your own mounted check\n\nconst MyEditorComponent = ({ documentId, initialValue }) => {\n  const editor = usePlateEditor(/** editor config from previous steps **/);\n  const mounted = useMounted();\n\n  useEffect(() => {\n    // Ensure component is mounted and editor is ready\n    if (!mounted) return;\n\n    // Initialize Yjs connection, sync document, and set initial editor state\n    editor.getApi(YjsPlugin).yjs.init({\n      id: documentId,          // Unique identifier for the Yjs document\n      value: initialValue,     // Initial content if the Y.Doc is empty\n    });\n\n    // Clean up: Destroy connection when component unmounts\n    return () => {\n      editor.getApi(YjsPlugin).yjs.destroy();\n    };\n  }, [editor, mounted]);\n\n  return (\n    <Plate editor={editor}>\n      <EditorContainer>\n        <Editor />\n      </EditorContainer>\n    </Plate>\n  );\n};\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" React, { useEffect } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" { YjsPlugin } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" '@platejs/yjs/react'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" { useMounted } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" '@/hooks/use-mounted'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Or your own mounted check\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" MyEditorComponent\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" ({ \"}),(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"documentId\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"initialValue\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" editor\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" usePlateEditor\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"/** editor config from previous steps **/\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" mounted\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" useMounted\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"    // Ensure component is mounted and editor is ready\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"mounted) \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"    // Initialize Yjs connection, sync document, and set initial editor state\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    editor.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"getApi\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"(YjsPlugin).yjs.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"init\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      id: documentId,          \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Unique identifier for the Yjs document\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      value: initialValue,     \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Initial content if the Y.Doc is empty\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"    // Clean up: Destroy connection when component unmounts\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      editor.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"getApi\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"(YjsPlugin).yjs.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"destroy\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  }, [editor, mounted]);\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" editor\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"{editor}>\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"EditorContainer\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"Editor\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"EditorContainer\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),(0,n.jsxs)(t,{children:[(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:\"Initial Value\"}),\": The \",(0,n.jsx)(s.code,{children:\"value\"}),\" passed to \",(0,n.jsx)(s.code,{children:\"init\"}),\" is only used to populate the Y.Doc if it's completely empty on the backend/peer network. If the document already exists, its content will be synced, and this initial value will be ignored.\"]}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:\"Lifecycle Management\"}),\": You \",(0,n.jsx)(s.strong,{children:\"must\"}),\" call \",(0,n.jsx)(s.code,{children:\"editor.api.yjs.init()\"}),\" to establish the connection and \",(0,n.jsx)(s.code,{children:\"editor.api.yjs.destroy()\"}),\" on component unmount to clean up resources.\"]})]}),(0,n.jsxs)(s.h3,{id:\"monitor-connection-status-optional\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#monitor-connection-status-optional\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Monitor Connection Status (Optional)\"]}),(0,n.jsx)(s.p,{children:\"Access provider states and add event handlers for connection monitoring:\"}),(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`import React from 'react';\nimport { YjsPlugin } from '@platejs/yjs/react';\nimport { usePluginOption } from 'platejs/react';\n\nfunction EditorStatus() {\n  // Access provider states directly (read-only)\n  const providers = usePluginOption(YjsPlugin, '_providers');\n  const isConnected = usePluginOption(YjsPlugin, '_isConnected');\n\n  return (\n    <div>\n      {providers.map((provider) => (\n        <span key={provider.type}>\n          {provider.type}: {provider.isConnected ? 'Connected' : 'Disconnected'} ({provider.isSynced ? 'Synced' : 'Syncing'})\n        </span>\n      ))}\n    </div>\n  );\n}\n\n// Add event handlers for connection events:\nYjsPlugin.configure({\n  options: {\n    // ... other options\n    onConnect: ({ type }) => console.debug(\\`Provider \\${type} connected!\\`),\n    onDisconnect: ({ type }) => console.debug(\\`Provider \\${type} disconnected.\\`),\n    onSyncChange: ({ type, isSynced }) => console.debug(\\`Provider \\${type} sync status: \\${isSynced}\\`),\n    onError: ({ type, error }) => console.error(\\`Error in provider \\${type}:\\`, error),\n  },\n});\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" React \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" { YjsPlugin } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" '@platejs/yjs/react'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" { usePluginOption } \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'platejs/react'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" EditorStatus\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"  // Access provider states directly (read-only)\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" providers\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" usePluginOption\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"(YjsPlugin, \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'_providers'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" isConnected\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" usePluginOption\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"(YjsPlugin, \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'_isConnected'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(s.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      {providers.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"provider\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(s.span,{style:{color:\"#85E89D\"},children:\"span\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"{provider.type}>\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          {provider.type}: {provider.isConnected \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'Connected'\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'Disconnected'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"} ({provider.isSynced \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'Synced'\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'Syncing'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"})\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,n.jsx)(s.span,{style:{color:\"#85E89D\"},children:\"span\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      ))}\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(s.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Add event handlers for connection events:\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"YjsPlugin.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"configure\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  options: {\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"    // ... other options\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    onConnect\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": ({ \"}),(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"type\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"debug\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"`Provider ${\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"type\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"} connected!`\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    onDisconnect\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": ({ \"}),(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"type\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"debug\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"`Provider ${\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"type\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"} disconnected.`\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    onSyncChange\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": ({ \"}),(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"type\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"isSynced\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"debug\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"`Provider ${\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"type\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"} sync status: ${\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"isSynced\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    onError\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": ({ \"}),(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"type\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"`Error in provider ${\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"type\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"}:`\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\", error),\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})})]}),`\n`,(0,n.jsxs)(s.h2,{id:\"provider-types\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#provider-types\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Provider Types\"]}),`\n`,(0,n.jsxs)(s.h3,{id:\"hocuspocus-provider\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#hocuspocus-provider\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Hocuspocus Provider\"]}),`\n`,(0,n.jsxs)(s.p,{children:[\"Server-based collaboration using \",(0,n.jsx)(s.a,{href:\"https://tiptap.dev/hocuspocus\",children:\"Hocuspocus\"}),\". Requires a running Hocuspocus server.\"]}),`\n`,(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`type HocuspocusProviderConfig = {\n  type: 'hocuspocus',\n  options: {\n    name: string;     // Document identifier\n    url: string;      // WebSocket server URL\n    token?: string;   // Authentication token\n    wsOptions?: HocuspocusProviderWebsocketConfiguration; // Advanced websocket config (headers, protocols, etc.)\n  }\n}\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"type\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" HocuspocusProviderConfig\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"  type\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'hocuspocus'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"  options\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"    name\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";     \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Document identifier\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"    url\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";      \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// WebSocket server URL\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"    token\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";   \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Authentication token\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"    wsOptions\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" HocuspocusProviderWebsocketConfiguration\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Advanced websocket config (headers, protocols, etc.)\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(s.h4,{id:\"wsoptions\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#wsoptions\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),(0,n.jsx)(s.code,{children:\"wsOptions\"})]}),`\n`,(0,n.jsxs)(s.p,{children:[\"You can pass a \",(0,n.jsx)(s.code,{children:\"wsOptions\"}),\" field to configure advanced websocket options for the Hocuspocus provider. This is useful for custom headers, authentication, protocols, or other websocket settings supported by \",(0,n.jsx)(s.a,{href:\"https://tiptap.dev/hocuspocus/api/provider#websocket-configuration\",children:(0,n.jsx)(s.code,{children:\"HocuspocusProviderWebsocket\"})}),\".\"]}),`\n`,(0,n.jsx)(s.p,{children:\"Example usage:\"}),`\n`,(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`{\n  type: 'hocuspocus',\n  options: {\n    name: 'my-document-id',\n  },\n  wsOptions: {\n    url: 'ws://localhost:8888',\n    maxAttempts: 5,\n    parameters: {\n      // request parameters\n    }\n  },\n}\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"  type\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'hocuspocus'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"  options\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    name\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'my-document-id'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"  wsOptions\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    url\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'ws://localhost:8888'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    maxAttempts\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"5\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    parameters\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"      // request parameters\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(s.h3,{id:\"webrtc-provider\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#webrtc-provider\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"WebRTC Provider\"]}),`\n`,(0,n.jsxs)(s.p,{children:[\"Peer-to-peer collaboration using \",(0,n.jsx)(s.a,{href:\"https://github.com/yjs/y-webrtc\",children:\"y-webrtc\"}),\".\"]}),`\n`,(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`type WebRTCProviderConfig = {\n  type: 'webrtc',\n  options: {\n    roomName: string;      // Room name for collaboration\n    signaling?: string[];  // Signaling server URLs\n    password?: string;     // Room password\n    maxConns?: number;     // Max connections\n    peerOpts?: object;     // WebRTC peer options\n  }\n}\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"type\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" WebRTCProviderConfig\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"  type\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" 'webrtc'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"  options\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"    roomName\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";      \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Room name for collaboration\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"    signaling\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"[];  \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Signaling server URLs\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"    password\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";     \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Room password\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"    maxConns\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" number\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";     \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// Max connections\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"    peerOpts\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" object\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";     \"}),(0,n.jsx)(s.span,{style:{color:\"#6A737D\"},children:\"// WebRTC peer options\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(s.h3,{id:\"custom-provider\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#custom-provider\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Custom Provider\"]}),`\n`,(0,n.jsxs)(s.p,{children:[\"Create custom providers by implementing the \",(0,n.jsx)(s.code,{children:\"UnifiedProvider\"}),\" interface:\"]}),`\n`,(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"typescript\",\"data-theme\":\"default\",__rawString__:`interface UnifiedProvider {\n  awareness: Awareness;\n  document: Y.Doc;\n  type: string;\n  connect: () => void;\n  destroy: () => void;\n  disconnect: () => void;\n  isConnected: boolean;\n  isSynced: boolean;\n}\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"interface\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" UnifiedProvider\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"  awareness\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" Awareness\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"  document\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" Y\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"Doc\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"  type\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"  connect\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" void\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"  destroy\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" void\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"  disconnect\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" void\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"  isConnected\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" boolean\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#FFAB70\"},children:\"  isSynced\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" boolean\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(s.p,{children:\"Use custom providers directly in the providers array:\"}),`\n`,(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`const customProvider = new MyCustomProvider({ doc: ydoc, awareness });\n\nYjsPlugin.configure({\n  options: {\n    providers: [customProvider],\n  },\n});\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\" customProvider\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" MyCustomProvider\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"({ doc: ydoc, awareness });\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"YjsPlugin.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"configure\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  options: {\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    providers: [customProvider],\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(s.h2,{id:\"backend-setup\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#backend-setup\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Backend Setup\"]}),`\n`,(0,n.jsxs)(s.h3,{id:\"hocuspocus-server\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#hocuspocus-server\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Hocuspocus Server\"]}),`\n`,(0,n.jsxs)(s.p,{children:[\"Set up a \",(0,n.jsx)(s.a,{href:\"https://tiptap.dev/hocuspocus/getting-started\",children:\"Hocuspocus server\"}),\" for server-based collaboration. Ensure the \",(0,n.jsx)(s.code,{children:\"url\"}),\" and \",(0,n.jsx)(s.code,{children:\"name\"}),\" in your provider options match your server configuration.\"]}),`\n`,(0,n.jsxs)(s.h3,{id:\"webrtc-setup\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#webrtc-setup\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"WebRTC Setup\"]}),`\n`,(0,n.jsxs)(s.h4,{id:\"signaling-server\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#signaling-server\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Signaling Server\"]}),`\n`,(0,n.jsx)(s.p,{children:\"WebRTC requires signaling servers for peer discovery. Public servers work for testing but use your own for production:\"}),`\n`,(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",__rawString__:`npm install y-webrtc\nPORT=4444 node ./node_modules/y-webrtc/bin/server.js\n`,__npmCommand__:`npm install y-webrtc\nPORT=4444 node ./node_modules/y-webrtc/bin/server.js\n`,__yarnCommand__:`yarn add y-webrtc\nPORT=4444 node ./node_modules/y-webrtc/bin/server.js\n`,__pnpmCommand__:`pnpm add y-webrtc\nPORT=4444 node ./node_modules/y-webrtc/bin/server.js\n`,__bunCommand__:`bun add y-webrtc\nPORT=4444 node ./node_modules/y-webrtc/bin/server.js\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:[(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" y-webrtc\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"PORT\"}),(0,n.jsx)(s.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(s.span,{style:{color:\"#79B8FF\"},children:\"4444\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\" node\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\" ./node_modules/y-webrtc/bin/server.js\"})]})]})})}),`\n`,(0,n.jsx)(s.p,{children:\"Configure your client to use custom signaling:\"}),`\n`,(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`{\n  type: 'webrtc',\n  options: {\n    roomName: 'document-1',\n    signaling: ['ws://your-signaling-server.com:4444'],\n  },\n}\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"  type\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'webrtc'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"  options\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    roomName\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'document-1'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    signaling\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": [\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'ws://your-signaling-server.com:4444'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(s.h4,{id:\"turn-servers\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#turn-servers\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"TURN Servers\"]}),`\n`,(0,n.jsx)(t,{type:\"warning\",children:(0,n.jsx)(s.p,{children:\"WebRTC connections can fail due to firewalls. Use TURN servers or combine with Hocuspocus for production reliability.\"})}),`\n`,(0,n.jsx)(s.p,{children:\"Configure TURN servers for reliable connections:\"}),`\n`,(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`{\n  type: 'webrtc',\n  options: {\n    roomName: 'document-1',\n    signaling: ['ws://your-signaling-server.com:4444'],\n    peerOpts: {\n      config: {\n        iceServers: [\n          { urls: 'stun:stun.l.google.com:19302' },\n          {\n            urls: 'turn:your-turn-server.com:3478',\n            username: 'username',\n            credential: 'password'\n          }\n        ]\n      }\n    }\n  }\n}\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"  type\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'webrtc'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"  options\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    roomName\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'document-1'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    signaling\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": [\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'ws://your-signaling-server.com:4444'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"    peerOpts\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"      config\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"        iceServers\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\": [\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          { urls: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'stun:stun.l.google.com:19302'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          {\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            urls: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'turn:your-turn-server.com:3478'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            username: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'username'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            credential: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'password'\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          }\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        ]\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(s.h2,{id:\"security\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#security\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Security\"]}),`\n`,(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:\"Authentication & Authorization:\"})}),`\n`,(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsxs)(s.li,{children:[\"Use Hocuspocus's \",(0,n.jsx)(s.code,{children:\"onAuthenticate\"}),\" hook to validate users\"]}),`\n`,(0,n.jsx)(s.li,{children:\"Implement document-level access control on your backend\"}),`\n`,(0,n.jsxs)(s.li,{children:[\"Pass authentication tokens via the \",(0,n.jsx)(s.code,{children:\"token\"}),\" option\"]}),`\n`]}),`\n`,(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:\"Transport Security:\"})}),`\n`,(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsxs)(s.li,{children:[\"Use \",(0,n.jsx)(s.code,{children:\"wss://\"}),\" URLs in production for encrypted communication\"]}),`\n`,(0,n.jsxs)(s.li,{children:[\"Configure secure TURN servers with the \",(0,n.jsx)(s.code,{children:\"turns://\"}),\" protocol\"]}),`\n`]}),`\n`,(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:\"WebRTC Security:\"})}),`\n`,(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsxs)(s.li,{children:[\"Use the \",(0,n.jsx)(s.code,{children:\"password\"}),\" option for basic room access control\"]}),`\n`,(0,n.jsx)(s.li,{children:\"Configure secure signaling servers\"}),`\n`]}),`\n`,(0,n.jsx)(s.p,{children:\"Example secure configuration:\"}),`\n`,(0,n.jsx)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(s.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`YjsPlugin.configure({\n  options: {\n    providers: [\n      {\n        type: 'hocuspocus',\n        options: {\n          name: 'secure-document-id',\n          url: 'wss://your-hocuspocus-server.com',\n          token: 'user-auth-token',\n        },\n      },\n      {\n        type: 'webrtc',\n        options: {\n          roomName: 'secure-document-id',\n          password: 'strong-room-password',\n          signaling: ['wss://your-secure-signaling.com'],\n          peerOpts: {\n            config: {\n              iceServers: [\n                {\n                  urls: 'turns:your-turn-server.com:443?transport=tcp',\n                  username: 'user',\n                  credential: 'pass'\n                }\n              ]\n            }\n          }\n        },\n      },\n    ],\n  },\n});\n`,children:(0,n.jsxs)(s.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"YjsPlugin.\"}),(0,n.jsx)(s.span,{style:{color:\"#B392F0\"},children:\"configure\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  options: {\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    providers: [\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      {\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        type: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'hocuspocus'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        options: {\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          name: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'secure-document-id'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          url: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'wss://your-hocuspocus-server.com'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          token: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'user-auth-token'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      {\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        type: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'webrtc'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        options: {\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          roomName: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'secure-document-id'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          password: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'strong-room-password'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          signaling: [\"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'wss://your-secure-signaling.com'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          peerOpts: {\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            config: {\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"              iceServers: [\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"                {\"})}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"                  urls: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'turns:your-turn-server.com:443?transport=tcp'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"                  username: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'user'\"}),(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(s.span,{className:\"line\",children:[(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"                  credential: \"}),(0,n.jsx)(s.span,{style:{color:\"#9ECBFF\"},children:\"'pass'\"})]}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"                }\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"              ]\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"            }\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"          }\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"        },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"    ],\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(s.span,{className:\"line\",children:(0,n.jsx)(s.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(s.h2,{id:\"troubleshooting\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#troubleshooting\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Troubleshooting\"]}),`\n`,(0,n.jsxs)(s.h3,{id:\"connection-issues\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#connection-issues\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Connection Issues\"]}),`\n`,(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:\"Check URLs and Names:\"})}),`\n`,(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsxs)(s.li,{children:[\"Verify \",(0,n.jsx)(s.code,{children:\"url\"}),\" (Hocuspocus) and \",(0,n.jsx)(s.code,{children:\"signaling\"}),\" URLs (WebRTC) are correct\"]}),`\n`,(0,n.jsxs)(s.li,{children:[\"Ensure \",(0,n.jsx)(s.code,{children:\"name\"}),\" or \",(0,n.jsx)(s.code,{children:\"roomName\"}),\" matches exactly across all collaborators\"]}),`\n`,(0,n.jsxs)(s.li,{children:[\"Use \",(0,n.jsx)(s.code,{children:\"ws://\"}),\" for local development, \",(0,n.jsx)(s.code,{children:\"wss://\"}),\" for production\"]}),`\n`]}),`\n`,(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:\"Server Status:\"})}),`\n`,(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsx)(s.li,{children:\"Verify Hocuspocus and signaling servers are running\"}),`\n`,(0,n.jsx)(s.li,{children:\"Check server logs for errors\"}),`\n`,(0,n.jsx)(s.li,{children:\"Test TURN server connectivity if using WebRTC\"}),`\n`]}),`\n`,(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:\"Network Issues:\"})}),`\n`,(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsx)(s.li,{children:\"Firewalls may block WebSocket or WebRTC traffic\"}),`\n`,(0,n.jsx)(s.li,{children:\"Use TURN servers configured for TCP (port 443) for better traversal\"}),`\n`,(0,n.jsx)(s.li,{children:\"Check browser console for provider errors\"}),`\n`]}),`\n`,(0,n.jsxs)(s.h3,{id:\"multiple-documents\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#multiple-documents\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Multiple Documents\"]}),`\n`,(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:\"Separate Instances:\"})}),`\n`,(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsxs)(s.li,{children:[\"Create separate \",(0,n.jsx)(s.code,{children:\"Y.Doc\"}),\" instances for each document\"]}),`\n`,(0,n.jsxs)(s.li,{children:[\"Use unique document identifiers for \",(0,n.jsx)(s.code,{children:\"name\"}),\"/\",(0,n.jsx)(s.code,{children:\"roomName\"})]}),`\n`,(0,n.jsxs)(s.li,{children:[\"Pass unique \",(0,n.jsx)(s.code,{children:\"ydoc\"}),\" and \",(0,n.jsx)(s.code,{children:\"awareness\"}),\" instances to each editor\"]}),`\n`]}),`\n`,(0,n.jsxs)(s.h3,{id:\"sync-issues\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#sync-issues\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Sync Issues\"]}),`\n`,(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:\"Editor Initialization:\"})}),`\n`,(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsxs)(s.li,{children:[\"Always set \",(0,n.jsx)(s.code,{children:\"skipInitialization: true\"}),\" when creating the editor\"]}),`\n`,(0,n.jsxs)(s.li,{children:[\"Use \",(0,n.jsx)(s.code,{children:\"editor.api.yjs.init({ value })\"}),\" for initial content\"]}),`\n`,(0,n.jsx)(s.li,{children:\"Ensure all providers use the exact same document identifier\"}),`\n`]}),`\n`,(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:\"Content Conflicts:\"})}),`\n`,(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsxs)(s.li,{children:[\"Avoid manually manipulating the shared \",(0,n.jsx)(s.code,{children:\"Y.Doc\"})]}),`\n`,(0,n.jsx)(s.li,{children:\"Let Yjs handle all document operations through the editor\"}),`\n`]}),`\n`,(0,n.jsxs)(s.h3,{id:\"cursor-issues\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#cursor-issues\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Cursor Issues\"]}),`\n`,(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:\"Overlay Setup:\"})}),`\n`,(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsxs)(s.li,{children:[\"Include \",(0,n.jsx)(s.a,{href:\"/docs/components/remote-cursor-overlay\",children:(0,n.jsx)(s.code,{children:\"RemoteCursorOverlay\"})}),\" in plugin render config\"]}),`\n`,(0,n.jsxs)(s.li,{children:[\"Use positioned container (\",(0,n.jsx)(s.code,{children:\"EditorContainer\"}),\" or \",(0,n.jsx)(s.code,{children:\"PlateContainer\"}),\")\"]}),`\n`,(0,n.jsxs)(s.li,{children:[\"Verify \",(0,n.jsx)(s.code,{children:\"cursors.data\"}),\" (name, color) is set correctly for local user\"]}),`\n`]}),`\n`,(0,n.jsxs)(s.h2,{id:\"related\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#related\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Related\"]}),`\n`,(0,n.jsxs)(s.ul,{children:[`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:\"https://github.com/yjs/yjs\",children:\"Yjs\"}),\" - CRDT framework for collaboration\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:\"https://docs.slate-yjs.dev/\",children:\"slate-yjs\"}),\" - Yjs bindings for Slate\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:\"https://tiptap.dev/hocuspocus\",children:\"Hocuspocus\"}),\" - Backend server for Yjs\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:\"https://github.com/yjs/y-webrtc\",children:\"y-webrtc\"}),\" - WebRTC provider\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:\"/docs/components/remote-cursor-overlay\",children:\"RemoteCursorOverlay\"}),\" - Remote cursor component\"]}),`\n`,(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:\"/docs/components/editor\",children:\"EditorContainer\"}),\" - Editor container component\"]}),`\n`]}),`\n`,(0,n.jsxs)(s.h2,{id:\"plugins\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#plugins\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"Plugins\"]}),`\n`,(0,n.jsxs)(s.h3,{id:\"yjsplugin\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#yjsplugin\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),(0,n.jsx)(s.code,{children:\"YjsPlugin\"})]}),`\n`,(0,n.jsx)(s.p,{children:\"Enables real-time collaboration using Yjs with support for multiple providers and remote cursors.\"}),`\n`,(0,n.jsxs)(o,{name:\"YjsPlugin\",children:[(0,n.jsxs)(i,{children:[(0,n.jsx)(e,{name:\"providers\",type:\"(UnifiedProvider | YjsProviderConfig)[]\",children:(0,n.jsxs)(s.p,{children:[\"Array of provider configurations or pre-instantiated provider instances. The plugin will create instances from configurations and use existing instances directly. All providers will share the same Y.Doc and Awareness. Each configuration object specifies a provider \",(0,n.jsx)(s.code,{children:\"type\"}),\" (e.g., \",(0,n.jsx)(s.code,{children:\"'hocuspocus'\"}),`,\n`,(0,n.jsx)(s.code,{children:\"'webrtc'\"}),\") and its specific \",(0,n.jsx)(s.code,{children:\"options\"}),`. Custom provider instances must conform to the\n`,(0,n.jsx)(s.code,{children:\"UnifiedProvider\"}),\" interface.\"]})}),(0,n.jsx)(e,{name:\"cursors\",type:\"WithCursorsOptions | null\",optional:!0,children:(0,n.jsxs)(s.p,{children:[\"Configuration for remote cursors. Set to \",(0,n.jsx)(s.code,{children:\"null\"}),\" to explicitly disable cursors. If omitted, cursors are enabled by default if providers are specified. Passed to \",(0,n.jsx)(s.code,{children:\"withTCursors\"}),\". See \",(0,n.jsx)(s.a,{href:\"https://docs.slate-yjs.dev/api/slate-yjs-core/cursor-plugin#withcursors\",children:\"WithCursorsOptions API\"}),\". Includes \",(0,n.jsx)(s.code,{children:\"data\"}),\" for local user info and \",(0,n.jsx)(s.code,{children:\"autoSend\"}),\" (default \",(0,n.jsx)(s.code,{children:\"true\"}),\").\"]})}),(0,n.jsx)(e,{name:\"ydoc\",type:\"Y.Doc\",optional:!0,children:(0,n.jsx)(s.p,{children:\"Optional shared Y.Doc instance. If not provided, a new one will be created internally by the plugin. Provide your own if integrating with other Yjs tools or managing multiple documents.\"})}),(0,n.jsx)(e,{name:\"awareness\",type:\"Awareness\",optional:!0,children:(0,n.jsx)(s.p,{children:\"Optional shared Awareness instance. If not provided, a new one will be created.\"})}),(0,n.jsx)(e,{name:\"onConnect\",type:\"(props: { type: YjsProviderType }) => void\",optional:!0,children:(0,n.jsx)(s.p,{children:\"Callback fired when any provider successfully connects.\"})}),(0,n.jsx)(e,{name:\"onDisconnect\",type:\"(props: { type: YjsProviderType }) => void\",optional:!0,children:(0,n.jsx)(s.p,{children:\"Callback fired when any provider disconnects.\"})}),(0,n.jsx)(e,{name:\"onError\",type:\"(props: { error: Error; type: YjsProviderType }) => void\",optional:!0,children:(0,n.jsx)(s.p,{children:\"Callback fired when any provider encounters an error (e.g., connection failure).\"})}),(0,n.jsx)(e,{name:\"onSyncChange\",type:\"(props: { isSynced: boolean; type: YjsProviderType }) => void\",optional:!0,children:(0,n.jsxs)(s.p,{children:[\"Callback fired when the sync status (\",(0,n.jsx)(s.code,{children:\"provider.isSynced\"}),\") of any individual provider changes.\"]})})]}),(0,n.jsxs)(r,{children:[(0,n.jsx)(e,{name:\"_isConnected\",type:\"boolean\",children:(0,n.jsx)(s.p,{children:\"Internal state: Whether at least one provider is currently connected.\"})}),(0,n.jsx)(e,{name:\"_isSynced\",type:\"boolean\",children:(0,n.jsx)(s.p,{children:\"Internal state: Reflects overall sync status.\"})}),(0,n.jsx)(e,{name:\"_providers\",type:\"UnifiedProvider[]\",children:(0,n.jsx)(s.p,{children:\"Internal state: Array of all active, instantiated provider instances.\"})})]})]}),`\n`,(0,n.jsxs)(s.h2,{id:\"api\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#api\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),\"API\"]}),`\n`,(0,n.jsxs)(s.h3,{id:\"apiyjsinit\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#apiyjsinit\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),(0,n.jsx)(s.code,{children:\"api.yjs.init\"})]}),`\n`,(0,n.jsxs)(s.p,{children:[\"Initializes the Yjs connection, binds it to the editor, sets up providers based on plugin configuration, potentially populates the Y.Doc with initial content, and connects providers. \",(0,n.jsx)(s.strong,{children:\"Must be called after the editor is mounted.\"})]}),`\n`,(0,n.jsxs)(o,{name:\"editor.api.yjs.init\",children:[(0,n.jsx)(c,{children:(0,n.jsx)(e,{name:\"options\",type:\"object\",optional:!0,children:(0,n.jsx)(s.p,{children:\"Configuration object for initialization.\"})})}),(0,n.jsxs)(i,{type:\"object\",children:[(0,n.jsx)(e,{name:\"id\",type:\"string\",optional:!0,children:(0,n.jsxs)(s.p,{children:[\"A unique identifier for the Yjs document (e.g., room name, document ID). If not provided, \",(0,n.jsx)(s.code,{children:\"editor.id\"}),\" is used. Essential for ensuring collaborators connect to the same document state.\"]})}),(0,n.jsx)(e,{name:\"value\",type:\"Value | string | ((editor: PlateEditor) => Value | Promise<Value>)\",optional:!0,children:(0,n.jsxs)(s.p,{children:[\"The initial content for the editor. \",(0,n.jsxs)(s.strong,{children:[\"This is only applied if the Y.Doc associated with the \",(0,n.jsx)(s.code,{children:\"id\"}),\" is completely empty in the shared state (backend/peers).\"]}),\" If the document already exists, its content will be synced, ignoring this value. Can be Plate JSON (\",(0,n.jsx)(s.code,{children:\"Value\"}),\"), an HTML string, or a function returning/resolving to \",(0,n.jsx)(s.code,{children:\"Value\"}),\". If omitted or empty, a default empty paragraph is used for initialization if the Y.Doc is new.\"]})}),(0,n.jsx)(e,{name:\"autoConnect\",type:\"boolean\",optional:!0,children:(0,n.jsxs)(s.p,{children:[\"Whether to automatically call \",(0,n.jsx)(s.code,{children:\"provider.connect()\"}),\" for all configured providers during initialization. Default: \",(0,n.jsx)(s.code,{children:\"true\"}),\". Set to \",(0,n.jsx)(s.code,{children:\"false\"}),\" if you want to manage connections manually using \",(0,n.jsx)(s.code,{children:\"editor.api.yjs.connect()\"}),\".\"]})}),(0,n.jsx)(e,{name:\"autoSelect\",type:\"'start' | 'end'\",optional:!0,children:(0,n.jsx)(s.p,{children:\"If set, automatically focuses the editor and places the cursor at the 'start' or 'end' of the document after initialization and sync.\"})}),(0,n.jsx)(e,{name:\"selection\",type:\"Location\",optional:!0,children:(0,n.jsxs)(s.p,{children:[\"Specific Plate \",(0,n.jsx)(s.code,{children:\"Location\"}),\" to set the selection to after initialization, overriding \",(0,n.jsx)(s.code,{children:\"autoSelect\"}),\".\"]})})]}),(0,n.jsx)(d,{type:\"Promise<void>\",children:(0,n.jsxs)(s.p,{children:[\"Resolves when the initial setup (including potential async \",(0,n.jsx)(s.code,{children:\"value\"}),\" resolution and YjsEditor binding) is complete. Note that provider connection and synchronization happen asynchronously.\"]})})]}),`\n`,(0,n.jsxs)(s.h3,{id:\"apiyjsdestroy\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#apiyjsdestroy\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),(0,n.jsx)(s.code,{children:\"api.yjs.destroy\"})]}),`\n`,(0,n.jsxs)(s.p,{children:[\"Disconnects all providers, cleans up Yjs bindings (detaches editor from Y.Doc), and destroys the awareness instance. \",(0,n.jsx)(s.strong,{children:\"Must be called when the editor component unmounts\"}),\" to prevent memory leaks and stale connections.\"]}),`\n`,(0,n.jsxs)(s.h3,{id:\"apiyjsconnect\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#apiyjsconnect\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),(0,n.jsx)(s.code,{children:\"api.yjs.connect\"})]}),`\n`,(0,n.jsxs)(s.p,{children:[\"Manually connects to providers. Useful if \",(0,n.jsx)(s.code,{children:\"autoConnect: false\"}),\" was used during \",(0,n.jsx)(s.code,{children:\"init\"}),\".\"]}),`\n`,(0,n.jsx)(o,{name:\"editor.api.yjs.connect\",children:(0,n.jsx)(c,{children:(0,n.jsx)(e,{name:\"type\",type:\"YjsProviderType | YjsProviderType[]\",optional:!0,children:(0,n.jsx)(s.p,{children:\"If provided, only connects to providers of the specified type(s). If omitted, connects to all configured providers that are not already connected.\"})})})}),`\n`,(0,n.jsxs)(s.h3,{id:\"apiyjsdisconnect\",children:[(0,n.jsx)(s.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#apiyjsdisconnect\",children:(0,n.jsx)(s.span,{className:\"icon icon-link\"})}),(0,n.jsx)(s.code,{children:\"api.yjs.disconnect\"})]}),`\n`,(0,n.jsx)(s.p,{children:\"Manually disconnects from providers.\"}),`\n`,(0,n.jsx)(o,{name:\"editor.api.yjs.disconnect\",children:(0,n.jsx)(c,{children:(0,n.jsx)(e,{name:\"type\",type:\"YjsProviderType | YjsProviderType[]\",optional:!0,children:(0,n.jsx)(s.p,{children:\"If provided, only disconnects from providers of the specified type(s). If omitted, disconnects from all currently connected providers.\"})})})})]})}function D(l={}){let{wrapper:s}=l.components||{};return s?(0,n.jsx)(s,{...l,children:(0,n.jsx)(g,{...l})}):g(l)}function a(l,s){throw new Error(\"Expected \"+(s?\"component\":\"object\")+\" `\"+l+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return R(x);})();\n;return Component;"
  },
  "_id": "docs/(plugins)/(collaboration)/yjs.mdx",
  "_raw": {
    "sourceFilePath": "docs/(plugins)/(collaboration)/yjs.mdx",
    "sourceFileName": "yjs.mdx",
    "sourceFileDir": "docs/(plugins)/(collaboration)",
    "contentType": "mdx",
    "flattenedPath": "docs/(plugins)/(collaboration)/yjs"
  },
  "type": "Doc",
  "slug": "/docs/docs/yjs",
  "slugAsParams": "docs/yjs"
}