{
  "component": false,
  "description": "如何控制编辑器的值。",
  "featured": false,
  "published": true,
  "title": "受控编辑器值",
  "toc": true,
  "body": {
    "raw": "\n在 Plate 中实现完全受控的编辑器值较为复杂，原因如下：\n\n1. 编辑器状态不仅包含内容 (`editor.children`)，还包含 `editor.selection` 和 `editor.history`。\n\n2. 直接替换 `editor.children` 可能会破坏选区(selection)和历史记录(history)，导致意外行为或崩溃。\n\n3. 所有对编辑器值的更改都应通过 [Transforms](https://docs.slatejs.org/api/transforms) 进行，以保持与选区(selection)和历史记录(history)的一致性。\n\n鉴于这些挑战，通常建议将 Plate 作为非受控输入使用。但如果需要从外部更改编辑器内容，可以使用 `editor.tf.setValue(value)` 函数。\n\n<Callout type=\"warning\" title=\"性能考量\">\n  使用 `editor.tf.setValue` 会在每次调用时重新渲染所有节点，因此应谨慎使用。\n  如果频繁调用或处理大型文档，可能会影响性能。\n</Callout>\n\n或者，您可以使用 `editor.tf.reset()` 来重置编辑器状态，这将同时重置选区(selection)和历史记录(history)。\n\n### 异步初始值\n\n您可以使用 `skipInitialization` 延迟编辑器初始化，直到异步数据准备就绪。然后调用 `editor.tf.init` 并传入您的值：\n\n```tsx\nfunction AsyncControlledEditor() {\n  const [initialValue, setInitialValue] = React.useState();\n  const [loading, setLoading] = React.useState(true);\n  const editor = usePlateEditor({\n    skipInitialization: true,\n  });\n\n  React.useEffect(() => {\n    // 模拟异步获取\n    setTimeout(() => {\n      setInitialValue([\n        {\n          type: 'p',\n          children: [{ text: '已加载异步值！' }],\n        },\n      ]);\n      setLoading(false);\n    }, 1000);\n  }, []);\n\n  React.useEffect(() => {\n    if (!loading && initialValue) {\n      editor.tf.init({ value: initialValue, autoSelect: 'end' });\n    }\n  }, [loading, initialValue, editor]);\n\n  if (loading) return <div>加载中…</div>;\n\n  return (\n    <Plate editor={editor}>\n      <EditorContainer>\n        <Editor />\n      </EditorContainer>\n    </Plate>\n  );\n}\n```\n\n<ComponentPreview name=\"controlled-demo\" padding=\"md\" />",
    "code": "var Component=(()=>{var y=Object.create;var t=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty;var m=(l,n)=>()=>(n||l((n={exports:{}}).exports,n),n.exports),f=(l,n)=>{for(var a in n)t(l,a,{get:n[a],enumerable:!0})},p=(l,n,a,e)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let o of h(n))!D.call(l,o)&&o!==a&&t(l,o,{get:()=>n[o],enumerable:!(e=F(n,o))||e.enumerable});return l};var C=(l,n,a)=>(a=l!=null?y(u(l)):{},p(n||!l||!l.__esModule?t(a,\"default\",{value:l,enumerable:!0}):a,l)),x=l=>p(t({},\"__esModule\",{value:!0}),l);var r=m((A,c)=>{c.exports=_jsx_runtime});var B={};f(B,{default:()=>d,frontmatter:()=>g});var s=C(r()),g={title:\"\\u53D7\\u63A7\\u7F16\\u8F91\\u5668\\u503C\",description:\"\\u5982\\u4F55\\u63A7\\u5236\\u7F16\\u8F91\\u5668\\u7684\\u503C\\u3002\"};function i(l){let n={a:\"a\",code:\"code\",div:\"div\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",...l.components},{Callout:a,ComponentPreview:e}=n;return a||E(\"Callout\",!0),e||E(\"ComponentPreview\",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:\"\\u5728 Plate \\u4E2D\\u5B9E\\u73B0\\u5B8C\\u5168\\u53D7\\u63A7\\u7684\\u7F16\\u8F91\\u5668\\u503C\\u8F83\\u4E3A\\u590D\\u6742\\uFF0C\\u539F\\u56E0\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,s.jsxs)(n.ol,{children:[`\n`,(0,s.jsxs)(n.li,{children:[`\n`,(0,s.jsxs)(n.p,{children:[\"\\u7F16\\u8F91\\u5668\\u72B6\\u6001\\u4E0D\\u4EC5\\u5305\\u542B\\u5185\\u5BB9 (\",(0,s.jsx)(n.code,{children:\"editor.children\"}),\")\\uFF0C\\u8FD8\\u5305\\u542B \",(0,s.jsx)(n.code,{children:\"editor.selection\"}),\" \\u548C \",(0,s.jsx)(n.code,{children:\"editor.history\"}),\"\\u3002\"]}),`\n`]}),`\n`,(0,s.jsxs)(n.li,{children:[`\n`,(0,s.jsxs)(n.p,{children:[\"\\u76F4\\u63A5\\u66FF\\u6362 \",(0,s.jsx)(n.code,{children:\"editor.children\"}),\" \\u53EF\\u80FD\\u4F1A\\u7834\\u574F\\u9009\\u533A(selection)\\u548C\\u5386\\u53F2\\u8BB0\\u5F55(history)\\uFF0C\\u5BFC\\u81F4\\u610F\\u5916\\u884C\\u4E3A\\u6216\\u5D29\\u6E83\\u3002\"]}),`\n`]}),`\n`,(0,s.jsxs)(n.li,{children:[`\n`,(0,s.jsxs)(n.p,{children:[\"\\u6240\\u6709\\u5BF9\\u7F16\\u8F91\\u5668\\u503C\\u7684\\u66F4\\u6539\\u90FD\\u5E94\\u901A\\u8FC7 \",(0,s.jsx)(n.a,{href:\"https://docs.slatejs.org/api/transforms\",children:\"Transforms\"}),\" \\u8FDB\\u884C\\uFF0C\\u4EE5\\u4FDD\\u6301\\u4E0E\\u9009\\u533A(selection)\\u548C\\u5386\\u53F2\\u8BB0\\u5F55(history)\\u7684\\u4E00\\u81F4\\u6027\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,s.jsxs)(n.p,{children:[\"\\u9274\\u4E8E\\u8FD9\\u4E9B\\u6311\\u6218\\uFF0C\\u901A\\u5E38\\u5EFA\\u8BAE\\u5C06 Plate \\u4F5C\\u4E3A\\u975E\\u53D7\\u63A7\\u8F93\\u5165\\u4F7F\\u7528\\u3002\\u4F46\\u5982\\u679C\\u9700\\u8981\\u4ECE\\u5916\\u90E8\\u66F4\\u6539\\u7F16\\u8F91\\u5668\\u5185\\u5BB9\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,s.jsx)(n.code,{children:\"editor.tf.setValue(value)\"}),\" \\u51FD\\u6570\\u3002\"]}),`\n`,(0,s.jsx)(a,{type:\"warning\",title:\"\\u6027\\u80FD\\u8003\\u91CF\",children:(0,s.jsxs)(n.p,{children:[\"\\u4F7F\\u7528 \",(0,s.jsx)(n.code,{children:\"editor.tf.setValue\"}),` \\u4F1A\\u5728\\u6BCF\\u6B21\\u8C03\\u7528\\u65F6\\u91CD\\u65B0\\u6E32\\u67D3\\u6240\\u6709\\u8282\\u70B9\\uFF0C\\u56E0\\u6B64\\u5E94\\u8C28\\u614E\\u4F7F\\u7528\\u3002\n\\u5982\\u679C\\u9891\\u7E41\\u8C03\\u7528\\u6216\\u5904\\u7406\\u5927\\u578B\\u6587\\u6863\\uFF0C\\u53EF\\u80FD\\u4F1A\\u5F71\\u54CD\\u6027\\u80FD\\u3002`]})}),`\n`,(0,s.jsxs)(n.p,{children:[\"\\u6216\\u8005\\uFF0C\\u60A8\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,s.jsx)(n.code,{children:\"editor.tf.reset()\"}),\" \\u6765\\u91CD\\u7F6E\\u7F16\\u8F91\\u5668\\u72B6\\u6001\\uFF0C\\u8FD9\\u5C06\\u540C\\u65F6\\u91CD\\u7F6E\\u9009\\u533A(selection)\\u548C\\u5386\\u53F2\\u8BB0\\u5F55(history)\\u3002\"]}),`\n`,(0,s.jsxs)(n.h3,{id:\"\\u5F02\\u6B65\\u521D\\u59CB\\u503C\",children:[(0,s.jsx)(n.a,{\"aria-label\":\"Link to section\",className:\"subheading-anchor group/subheading\",\"data-empty\":\"true\",href:\"#\\u5F02\\u6B65\\u521D\\u59CB\\u503C\",children:(0,s.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5F02\\u6B65\\u521D\\u59CB\\u503C\"]}),`\n`,(0,s.jsxs)(n.p,{children:[\"\\u60A8\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,s.jsx)(n.code,{children:\"skipInitialization\"}),\" \\u5EF6\\u8FDF\\u7F16\\u8F91\\u5668\\u521D\\u59CB\\u5316\\uFF0C\\u76F4\\u5230\\u5F02\\u6B65\\u6570\\u636E\\u51C6\\u5907\\u5C31\\u7EEA\\u3002\\u7136\\u540E\\u8C03\\u7528 \",(0,s.jsx)(n.code,{children:\"editor.tf.init\"}),\" \\u5E76\\u4F20\\u5165\\u60A8\\u7684\\u503C\\uFF1A\"]}),`\n`,(0,s.jsx)(n.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,s.jsx)(n.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`function AsyncControlledEditor() {\n  const [initialValue, setInitialValue] = React.useState();\n  const [loading, setLoading] = React.useState(true);\n  const editor = usePlateEditor({\n    skipInitialization: true,\n  });\n\n  React.useEffect(() => {\n    // \\u6A21\\u62DF\\u5F02\\u6B65\\u83B7\\u53D6\n    setTimeout(() => {\n      setInitialValue([\n        {\n          type: 'p',\n          children: [{ text: '\\u5DF2\\u52A0\\u8F7D\\u5F02\\u6B65\\u503C\\uFF01' }],\n        },\n      ]);\n      setLoading(false);\n    }, 1000);\n  }, []);\n\n  React.useEffect(() => {\n    if (!loading && initialValue) {\n      editor.tf.init({ value: initialValue, autoSelect: 'end' });\n    }\n  }, [loading, initialValue, editor]);\n\n  if (loading) return <div>\\u52A0\\u8F7D\\u4E2D\\u2026</div>;\n\n  return (\n    <Plate editor={editor}>\n      <EditorContainer>\n        <Editor />\n      </EditorContainer>\n    </Plate>\n  );\n}\n`,children:(0,s.jsxs)(n.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,s.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" AsyncControlledEditor\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"initialValue\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"setInitialValue\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,s.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"loading\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"setLoading\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,s.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" editor\"}),(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,s.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" usePlateEditor\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    skipInitialization: \"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:\" \"}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  React.\"}),(0,s.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:(0,s.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u6A21\\u62DF\\u5F02\\u6B65\\u83B7\\u53D6\"})}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"    setTimeout\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      setInitialValue\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        {\"})}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"          type: \"}),(0,s.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'p'\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"          children: [{ text: \"}),(0,s.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5DF2\\u52A0\\u8F7D\\u5F02\\u6B65\\u503C\\uFF01'\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" }],\"})]}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        },\"})}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      ]);\"})}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      setLoading\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:\" \"}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  React.\"}),(0,s.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"loading \"}),(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" initialValue) {\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      editor.tf.\"}),(0,s.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"init\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({ value: initialValue, autoSelect: \"}),(0,s.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'end'\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }, [loading, initialValue, editor]);\"})}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:\" \"}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (loading) \"}),(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,s.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\\u52A0\\u8F7D\\u4E2D\\u2026</\"}),(0,s.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:\" \"}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,s.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" editor\"}),(0,s.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{editor}>\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"EditorContainer\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"Editor\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"EditorContainer\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,s.jsxs)(n.span,{className:\"line\",children:[(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,s.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"Plate\"}),(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,s.jsx)(n.span,{className:\"line\",children:(0,s.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,s.jsx)(e,{name:\"controlled-demo\",padding:\"md\",__dependencies__:'[\"@radix-ui/react-slot\"]',__item__:`{\"name\":\"controlled-demo\",\"type\":\"registry:example\",\"registryDependencies\":[\"editor\",\"shadcn/button\"],\"files\":[{\"path\":\"controlled-demo.tsx\",\"content\":\"'use client';\\\\n\\\\nimport * as React from 'react';\\\\n\\\\nimport { Plate, usePlateEditor } from 'platejs/react';\\\\n\\\\nimport { Button } from '@/components/ui/button';\\\\nimport { Editor, EditorContainer } from '@/components/ui/editor';\\\\n\\\\nexport default function ControlledEditorDemo() {\\\\n  const editor = usePlateEditor({\\\\n    value: [\\\\n      {\\\\n        children: [{ text: 'Initial Value' }],\\\\n        type: 'p',\\\\n      },\\\\n    ],\\\\n  });\\\\n\\\\n  return (\\\\n    <div>\\\\n      <Plate editor={editor}>\\\\n        <EditorContainer>\\\\n          <Editor className=\\\\\"px-0\\\\\" />\\\\n        </EditorContainer>\\\\n      </Plate>\\\\n\\\\n      <div className=\\\\\"mt-4 flex flex-col gap-2\\\\\">\\\\n        <Button\\\\n          onClick={() => {\\\\n            // Replace with HTML string\\\\n            editor.tf.setValue([\\\\n              {\\\\n                children: [{ text: 'Replaced Value' }],\\\\n                type: 'p',\\\\n              },\\\\n            ]);\\\\n\\\\n            editor.tf.focus({ edge: 'endEditor' });\\\\n          }}\\\\n        >\\\\n          Replace Value\\\\n        </Button>\\\\n\\\\n        <Button\\\\n          onClick={() => {\\\\n            editor.tf.reset();\\\\n            editor.tf.focus();\\\\n          }}\\\\n        >\\\\n          Reset Editor\\\\n        </Button>\\\\n      </div>\\\\n\\\\n      <hr className=\\\\\"my-8\\\\\" />\\\\n      <h2 className=\\\\\"mb-2 font-semibold text-lg\\\\\">Async Controlled Editor</h2>\\\\n      <AsyncControlledEditorDemo />\\\\n    </div>\\\\n  );\\\\n}\\\\n\\\\nfunction AsyncControlledEditorDemo() {\\\\n  const [initialValue, setInitialValue] = React.useState<\\\\n    { children: { text: string }[]; type: string }[] | undefined\\\\n  >(undefined);\\\\n  const [loading, setLoading] = React.useState(true);\\\\n  const editor = usePlateEditor({\\\\n    skipInitialization: true,\\\\n  });\\\\n\\\\n  React.useEffect(() => {\\\\n    // Simulate async fetch\\\\n    setTimeout(() => {\\\\n      setInitialValue([\\\\n        {\\\\n          children: [{ text: 'Loaded async value!' }],\\\\n          type: 'p',\\\\n        },\\\\n      ]);\\\\n      setLoading(false);\\\\n    }, 1000);\\\\n  }, []);\\\\n\\\\n  React.useEffect(() => {\\\\n    if (!loading && initialValue) {\\\\n      editor.tf.init({ autoSelect: 'end', value: initialValue });\\\\n    }\\\\n  }, [loading, initialValue, editor]);\\\\n\\\\n  if (loading) return <div>Loading\\u2026</div>;\\\\n\\\\n  return (\\\\n    <Plate editor={editor}>\\\\n      <EditorContainer>\\\\n        <Editor className=\\\\\"px-0\\\\\" />\\\\n      </EditorContainer>\\\\n    </Plate>\\\\n  );\\\\n}\\\\n\",\"type\":\"registry:example\",\"target\":\"components/controlled-demo.tsx\"},{\"path\":\"../ui/editor.tsx\",\"type\":\"registry:ui\",\"target\":\"components/ui/editor.tsx\"},{\"path\":\"../ui/editor-static.tsx\",\"type\":\"registry:ui\",\"target\":\"components/ui/editor-static.tsx\"}]}`,__highlightedFiles__:`[{\"path\":\"controlled-demo.tsx\",\"content\":\"'use client';\\\\n\\\\nimport * as React from 'react';\\\\n\\\\nimport { Plate, usePlateEditor } from 'platejs/react';\\\\n\\\\nimport { Button } from '@/components/ui/button';\\\\nimport { Editor, EditorContainer } from '@/components/ui/editor';\\\\n\\\\nexport default function ControlledEditorDemo() {\\\\n  const editor = usePlateEditor({\\\\n    value: [\\\\n      {\\\\n        children: [{ text: 'Initial Value' }],\\\\n        type: 'p',\\\\n      },\\\\n    ],\\\\n  });\\\\n\\\\n  return (\\\\n    <div>\\\\n      <Plate editor={editor}>\\\\n        <EditorContainer>\\\\n          <Editor className=\\\\\"px-0\\\\\" />\\\\n        </EditorContainer>\\\\n      </Plate>\\\\n\\\\n      <div className=\\\\\"mt-4 flex flex-col gap-2\\\\\">\\\\n        <Button\\\\n          onClick={() => {\\\\n            // Replace with HTML string\\\\n            editor.tf.setValue([\\\\n              {\\\\n                children: [{ text: 'Replaced Value' }],\\\\n                type: 'p',\\\\n              },\\\\n            ]);\\\\n\\\\n            editor.tf.focus({ edge: 'endEditor' });\\\\n          }}\\\\n        >\\\\n          Replace Value\\\\n        </Button>\\\\n\\\\n        <Button\\\\n          onClick={() => {\\\\n            editor.tf.reset();\\\\n            editor.tf.focus();\\\\n          }}\\\\n        >\\\\n          Reset Editor\\\\n        </Button>\\\\n      </div>\\\\n\\\\n      <hr className=\\\\\"my-8\\\\\" />\\\\n      <h2 className=\\\\\"mb-2 font-semibold text-lg\\\\\">Async Controlled Editor</h2>\\\\n      <AsyncControlledEditorDemo />\\\\n    </div>\\\\n  );\\\\n}\\\\n\\\\nfunction AsyncControlledEditorDemo() {\\\\n  const [initialValue, setInitialValue] = React.useState<\\\\n    { children: { text: string }[]; type: string }[] | undefined\\\\n  >(undefined);\\\\n  const [loading, setLoading] = React.useState(true);\\\\n  const editor = usePlateEditor({\\\\n    skipInitialization: true,\\\\n  });\\\\n\\\\n  React.useEffect(() => {\\\\n    // Simulate async fetch\\\\n    setTimeout(() => {\\\\n      setInitialValue([\\\\n        {\\\\n          children: [{ text: 'Loaded async value!' }],\\\\n          type: 'p',\\\\n        },\\\\n      ]);\\\\n      setLoading(false);\\\\n    }, 1000);\\\\n  }, []);\\\\n\\\\n  React.useEffect(() => {\\\\n    if (!loading && initialValue) {\\\\n      editor.tf.init({ autoSelect: 'end', value: initialValue });\\\\n    }\\\\n  }, [loading, initialValue, editor]);\\\\n\\\\n  if (loading) return <div>Loading\\u2026</div>;\\\\n\\\\n  return (\\\\n    <Plate editor={editor}>\\\\n      <EditorContainer>\\\\n        <Editor className=\\\\\"px-0\\\\\" />\\\\n      </EditorContainer>\\\\n    </Plate>\\\\n  );\\\\n}\\\\n\",\"type\":\"registry:example\",\"target\":\"components/controlled-demo.tsx\",\"highlightedContent\":\"<pre class=\\\\\"shiki github-dark-default\\\\\" style=\\\\\"background-color:#0d1117;color:#e6edf3\\\\\" tabindex=\\\\\"0\\\\\"><code data-line-numbers=\\\\\"\\\\\"><span class=\\\\\"line\\\\\"><span style=\\\\\"color:#A5D6FF\\\\\">'use client'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#79C0FF\\\\\"> *</span><span style=\\\\\"color:#FF7B72\\\\\"> as</span><span style=\\\\\"color:#E6EDF3\\\\\"> React </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'react'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { Plate, usePlateEditor } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> 'platejs/react'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { Button } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> '@/components/ui/button'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">import</span><span style=\\\\\"color:#E6EDF3\\\\\"> { Editor, EditorContainer } </span><span style=\\\\\"color:#FF7B72\\\\\">from</span><span style=\\\\\"color:#A5D6FF\\\\\"> '@/components/ui/editor'</span><span style=\\\\\"color:#E6EDF3\\\\\">;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">export</span><span style=\\\\\"color:#FF7B72\\\\\"> default</span><span style=\\\\\"color:#FF7B72\\\\\"> function</span><span style=\\\\\"color:#D2A8FF\\\\\"> ControlledEditorDemo</span><span style=\\\\\"color:#FFA657\\\\\">() </span><span style=\\\\\"color:#E6EDF3\\\\\">{</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#79C0FF\\\\\"> editor</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#D2A8FF\\\\\"> usePlateEditor</span><span style=\\\\\"color:#E6EDF3\\\\\">({</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    value: [</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        children: [{ text: </span><span style=\\\\\"color:#A5D6FF\\\\\">'Initial Value'</span><span style=\\\\\"color:#E6EDF3\\\\\"> }],</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        type: </span><span style=\\\\\"color:#A5D6FF\\\\\">'p'</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    ],</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  });</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  return</span><span style=\\\\\"color:#E6EDF3\\\\\"> (</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">Plate</span><span style=\\\\\"color:#79C0FF\\\\\"> editor</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">editor</span><span style=\\\\\"color:#FF7B72\\\\\">}</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">EditorContainer</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">Editor</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"px-0\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\"> /></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">EditorContainer</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">Plate</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"mt-4 flex flex-col gap-2\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">Button</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">          onClick</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">() </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#8B949E\\\\\">            // Replace with HTML string</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            editor.tf.</span><span style=\\\\\"color:#D2A8FF\\\\\">setValue</span><span style=\\\\\"color:#E6EDF3\\\\\">([</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                children: [{ text: </span><span style=\\\\\"color:#A5D6FF\\\\\">'Replaced Value'</span><span style=\\\\\"color:#E6EDF3\\\\\"> }],</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">                type: </span><span style=\\\\\"color:#A5D6FF\\\\\">'p'</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">              },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            ]);</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            editor.tf.</span><span style=\\\\\"color:#D2A8FF\\\\\">focus</span><span style=\\\\\"color:#E6EDF3\\\\\">({ edge: </span><span style=\\\\\"color:#A5D6FF\\\\\">'endEditor'</span><span style=\\\\\"color:#E6EDF3\\\\\"> });</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          }</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        ></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          Replace Value</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">Button</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">Button</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#79C0FF\\\\\">          onClick</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">() </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            editor.tf.</span><span style=\\\\\"color:#D2A8FF\\\\\">reset</span><span style=\\\\\"color:#E6EDF3\\\\\">();</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">            editor.tf.</span><span style=\\\\\"color:#D2A8FF\\\\\">focus</span><span style=\\\\\"color:#E6EDF3\\\\\">();</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          }</span><span style=\\\\\"color:#FF7B72\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        ></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          Reset Editor</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">Button</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">hr</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"my-8\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\"> /></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">h2</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"mb-2 font-semibold text-lg\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\">>Async Controlled Editor&#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">h2</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">AsyncControlledEditorDemo</span><span style=\\\\\"color:#E6EDF3\\\\\"> /></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  );</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">function</span><span style=\\\\\"color:#D2A8FF\\\\\"> AsyncControlledEditorDemo</span><span style=\\\\\"color:#E6EDF3\\\\\">() {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#E6EDF3\\\\\"> [</span><span style=\\\\\"color:#79C0FF\\\\\">initialValue</span><span style=\\\\\"color:#E6EDF3\\\\\">, </span><span style=\\\\\"color:#79C0FF\\\\\">setInitialValue</span><span style=\\\\\"color:#E6EDF3\\\\\">] </span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#E6EDF3\\\\\"> React.useState</span><span style=\\\\\"color:#FF7B72\\\\\">&#x3C;</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    { </span><span style=\\\\\"color:#FFA657\\\\\">children</span><span style=\\\\\"color:#E6EDF3\\\\\">: { </span><span style=\\\\\"color:#FFA657\\\\\">text</span><span style=\\\\\"color:#E6EDF3\\\\\">: string }[]; </span><span style=\\\\\"color:#FFA657\\\\\">type</span><span style=\\\\\"color:#E6EDF3\\\\\">: string }[] </span><span style=\\\\\"color:#FF7B72\\\\\">|</span><span style=\\\\\"color:#79C0FF\\\\\"> undefined</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  ></span><span style=\\\\\"color:#E6EDF3\\\\\">(</span><span style=\\\\\"color:#79C0FF\\\\\">undefined</span><span style=\\\\\"color:#E6EDF3\\\\\">);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#E6EDF3\\\\\"> [</span><span style=\\\\\"color:#79C0FF\\\\\">loading</span><span style=\\\\\"color:#E6EDF3\\\\\">, </span><span style=\\\\\"color:#79C0FF\\\\\">setLoading</span><span style=\\\\\"color:#E6EDF3\\\\\">] </span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#E6EDF3\\\\\"> React.</span><span style=\\\\\"color:#D2A8FF\\\\\">useState</span><span style=\\\\\"color:#E6EDF3\\\\\">(</span><span style=\\\\\"color:#79C0FF\\\\\">true</span><span style=\\\\\"color:#E6EDF3\\\\\">);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  const</span><span style=\\\\\"color:#79C0FF\\\\\"> editor</span><span style=\\\\\"color:#FF7B72\\\\\"> =</span><span style=\\\\\"color:#D2A8FF\\\\\"> usePlateEditor</span><span style=\\\\\"color:#E6EDF3\\\\\">({</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    skipInitialization: </span><span style=\\\\\"color:#79C0FF\\\\\">true</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  });</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  React.</span><span style=\\\\\"color:#D2A8FF\\\\\">useEffect</span><span style=\\\\\"color:#E6EDF3\\\\\">(() </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#8B949E\\\\\">    // Simulate async fetch</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#D2A8FF\\\\\">    setTimeout</span><span style=\\\\\"color:#E6EDF3\\\\\">(() </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#D2A8FF\\\\\">      setInitialValue</span><span style=\\\\\"color:#E6EDF3\\\\\">([</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          children: [{ text: </span><span style=\\\\\"color:#A5D6FF\\\\\">'Loaded async value!'</span><span style=\\\\\"color:#E6EDF3\\\\\"> }],</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">          type: </span><span style=\\\\\"color:#A5D6FF\\\\\">'p'</span><span style=\\\\\"color:#E6EDF3\\\\\">,</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        },</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      ]);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#D2A8FF\\\\\">      setLoading</span><span style=\\\\\"color:#E6EDF3\\\\\">(</span><span style=\\\\\"color:#79C0FF\\\\\">false</span><span style=\\\\\"color:#E6EDF3\\\\\">);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    }, </span><span style=\\\\\"color:#79C0FF\\\\\">1000</span><span style=\\\\\"color:#E6EDF3\\\\\">);</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  }, []);</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  React.</span><span style=\\\\\"color:#D2A8FF\\\\\">useEffect</span><span style=\\\\\"color:#E6EDF3\\\\\">(() </span><span style=\\\\\"color:#FF7B72\\\\\">=></span><span style=\\\\\"color:#E6EDF3\\\\\"> {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">    if</span><span style=\\\\\"color:#E6EDF3\\\\\"> (</span><span style=\\\\\"color:#FF7B72\\\\\">!</span><span style=\\\\\"color:#E6EDF3\\\\\">loading </span><span style=\\\\\"color:#FF7B72\\\\\">&#x26;&#x26;</span><span style=\\\\\"color:#E6EDF3\\\\\"> initialValue) {</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      editor.tf.</span><span style=\\\\\"color:#D2A8FF\\\\\">init</span><span style=\\\\\"color:#E6EDF3\\\\\">({ autoSelect: </span><span style=\\\\\"color:#A5D6FF\\\\\">'end'</span><span style=\\\\\"color:#E6EDF3\\\\\">, value: initialValue });</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    }</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  }, [loading, initialValue, editor]);</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  if</span><span style=\\\\\"color:#E6EDF3\\\\\"> (loading) </span><span style=\\\\\"color:#FF7B72\\\\\">return</span><span style=\\\\\"color:#E6EDF3\\\\\"> &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">>Loading\\u2026&#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">div</span><span style=\\\\\"color:#E6EDF3\\\\\">>;</span></span>\\\\n<span class=\\\\\"line\\\\\"></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#FF7B72\\\\\">  return</span><span style=\\\\\"color:#E6EDF3\\\\\"> (</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">Plate</span><span style=\\\\\"color:#79C0FF\\\\\"> editor</span><span style=\\\\\"color:#FF7B72\\\\\">={</span><span style=\\\\\"color:#E6EDF3\\\\\">editor</span><span style=\\\\\"color:#FF7B72\\\\\">}</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">EditorContainer</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">        &#x3C;</span><span style=\\\\\"color:#7EE787\\\\\">Editor</span><span style=\\\\\"color:#79C0FF\\\\\"> className</span><span style=\\\\\"color:#FF7B72\\\\\">=</span><span style=\\\\\"color:#A5D6FF\\\\\">\\\\\"px-0\\\\\"</span><span style=\\\\\"color:#E6EDF3\\\\\"> /></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">      &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">EditorContainer</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">    &#x3C;/</span><span style=\\\\\"color:#7EE787\\\\\">Plate</span><span style=\\\\\"color:#E6EDF3\\\\\">></span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">  );</span></span>\\\\n<span class=\\\\\"line\\\\\"><span style=\\\\\"color:#E6EDF3\\\\\">}</span></span>\\\\n<span class=\\\\\"line\\\\\"></span></code></pre>\"},{\"path\":\"../ui/editor.tsx\",\"type\":\"registry:ui\",\"target\":\"components/ui/editor.tsx\",\"highlightedContent\":\"<pre class=\\\\\"shiki github-dark-default\\\\\" style=\\\\\"background-color:#0d1117;color:#e6edf3\\\\\" tabindex=\\\\\"0\\\\\"><code data-line-numbers=\\\\\"\\\\\"><span class=\\\\\"line\\\\\"></span></code></pre>\"},{\"path\":\"../ui/editor-static.tsx\",\"type\":\"registry:ui\",\"target\":\"components/ui/editor-static.tsx\",\"highlightedContent\":\"<pre class=\\\\\"shiki github-dark-default\\\\\" style=\\\\\"background-color:#0d1117;color:#e6edf3\\\\\" tabindex=\\\\\"0\\\\\"><code data-line-numbers=\\\\\"\\\\\"><span class=\\\\\"line\\\\\"></span></code></pre>\"}]`,__tree__:'[{\"children\":[{\"name\":\"controlled-demo.tsx\",\"path\":\"components/controlled-demo.tsx\"},{\"children\":[{\"name\":\"editor.tsx\",\"path\":\"components/ui/editor.tsx\"},{\"name\":\"editor-static.tsx\",\"path\":\"components/ui/editor-static.tsx\"}],\"name\":\"ui\"}],\"name\":\"components\"}]'})]})}function d(l={}){let{wrapper:n}=l.components||{};return n?(0,s.jsx)(n,{...l,children:(0,s.jsx)(i,{...l})}):i(l)}function E(l,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+l+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return x(B);})();\n;return Component;"
  },
  "_id": "docs/(guides)/controlled.cn.mdx",
  "_raw": {
    "sourceFilePath": "docs/(guides)/controlled.cn.mdx",
    "sourceFileName": "controlled.cn.mdx",
    "sourceFileDir": "docs/(guides)",
    "contentType": "mdx",
    "flattenedPath": "docs/(guides)/controlled.cn"
  },
  "type": "Doc",
  "slug": "/docs/docs/controlled.cn",
  "slugAsParams": "docs/controlled.cn"
}